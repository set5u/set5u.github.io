const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dr010rql.js","./CR__Ohlt.js","./entry.DOTVMxzP.css","./B-pl63Pz.js"])))=>i.map(i=>d[i]);
import{a1 as ya,d as ma,t as en,v as nn,x as sn,C as or,Q as ba,F as ir,G as pa,H as mn,y as Aa,N as yt,aW as ga,aX as Ta}from"./CR__Ohlt.js";import{L as ye,ah as wa,ai as ka,aj as Oa,ak as se,al as Wa,O as ke,am as Sa,an as Ir,ao as Ea,ap as Ca,M as We,aq as Pa,V as z,a as La,T as fe,ar as ze,b as Rr,w as Ma,k as Gr,as as Dt,i as qt,f as ue,at as Ne,au as Ye,av as Q,Q as Se,H as Ut,aw as jt,ax as Kt,ay as ft,az as gt,C as Fr,m as Ze,aA as vn,n as Na,l as te,aB as Ia,aC as Br,aD as Ra,d as sr,aE as Ga,aF as Fa,aG as Ba,aH as he,aI as Va,aJ as Da,e as Me,aK as qa,aL as Ua,aM as ja,aN as Ka,aO as Vr,aP as ur,R as Ha,aQ as $a,aR as Ja,aS as Qa,aT as Ya,aU as za,aV as Za,aW as Xa,aX as eo,aY as no,aZ as to,a_ as ro,a$ as ao,b0 as oo,b1 as io,b2 as so,b3 as uo,b4 as co,b5 as lo,b6 as fo,b7 as xo,b8 as _o,b9 as ho,ba as vo,bb as yo,bc as mo,bd as bo,be as po,bf as Ao,bg as go,bh as To,bi as wo,bj as ko,bk as Oo,bl as Wo,bm as So,bn as Eo,bo as Co,bp as Po,bq as Lo,br as Mo,bs as No,bt as Io,bu as Ro,bv as Go,bw as Fo,bx as Bo,by as Vo,bz as Do,bA as qo,bB as Uo,bC as jo,bD as Ko,bE as Ho,bF as $o,bG as Jo,bH as Qo,bI as Yo,bJ as zo,bK as Zo,bL as Xo,bM as ei,bN as ni,bO as ti,bP as ri,bQ as ai,bR as oi,bS as ii,bT as si,bU as ui,bV as ci,bW as li,bX as fi,bY as xi,bZ as di,b_ as _i,b$ as hi,c0 as vi,c1 as yi,c2 as mi,c3 as bi,c4 as pi,c5 as Ai,c6 as gi,c7 as Ti,c8 as un,c9 as wi,ca as ki,A as Oi,cb as Wi,E as Si,S as Ei,cc as Ci}from"./Dr010rql.js";import"./B-pl63Pz.js";import{_ as Pi}from"./C1ggMkge.js";import{_ as Li}from"./DlAUqK2U.js";function Mi(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ni(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Ii(t,r,n){return Ni(t.prototype,r),t}var Ri=function(){function t(r,n,e){Mi(this,t),this.frame=r,this.action=n,this.onlyOnce=e,this.isDone=!1}return Ii(t,[{key:"_clone",value:function(){return new t(this.frame,this.action,this.onlyOnce)}}]),t}();function Gi(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Fi(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Bi(t,r,n){return Fi(t.prototype,r),t}var Vi=function(){function t(r,n,e){var a=this;if(Gi(this,t),this.loop=!1,this._coneInnerAngle=360,this._coneOuterAngle=360,this._volume=1,this.isPlaying=!1,this.isPaused=!1,this._sounds=[],this._weights=[],n.length!==e.length)throw new Error("Sounds length does not equal weights length");this.loop=r,this._weights=e;var o=0,i=!0,s=!1,u=void 0;try{for(var c=e[Symbol.iterator](),l;!(i=(l=c.next()).done);i=!0){var f=l.value;o+=f}}catch(T){s=!0,u=T}finally{try{!i&&c.return!=null&&c.return()}finally{if(s)throw u}}for(var x=o>0?1/o:0,_=0;_<this._weights.length;_++)this._weights[_]*=x;this._sounds=n;var h=!0,d=!1,v=void 0;try{for(var m=this._sounds[Symbol.iterator](),p;!(h=(p=m.next()).done);h=!0){var A=p.value;A.onEndedObservable.add(function(){a._onended()})}}catch(T){d=!0,v=T}finally{try{!h&&m.return!=null&&m.return()}finally{if(d)throw v}}}return Bi(t,[{key:"directionalConeInnerAngle",get:function(){return this._coneInnerAngle},set:function(n){if(n!==this._coneInnerAngle){if(this._coneOuterAngle<n){ye.Error("directionalConeInnerAngle: outer angle of the cone must be superior or equal to the inner angle.");return}this._coneInnerAngle=n;var e=!0,a=!1,o=void 0;try{for(var i=this._sounds[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var u=s.value;u.directionalConeInnerAngle=n}}catch(c){a=!0,o=c}finally{try{!e&&i.return!=null&&i.return()}finally{if(a)throw o}}}}},{key:"directionalConeOuterAngle",get:function(){return this._coneOuterAngle},set:function(n){if(n!==this._coneOuterAngle){if(n<this._coneInnerAngle){ye.Error("directionalConeOuterAngle: outer angle of the cone must be superior or equal to the inner angle.");return}this._coneOuterAngle=n;var e=!0,a=!1,o=void 0;try{for(var i=this._sounds[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var u=s.value;u.directionalConeOuterAngle=n}}catch(c){a=!0,o=c}finally{try{!e&&i.return!=null&&i.return()}finally{if(a)throw o}}}}},{key:"volume",get:function(){return this._volume},set:function(n){if(n!==this._volume){var e=!0,a=!1,o=void 0;try{for(var i=this._sounds[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var u=s.value;u.setVolume(n)}}catch(c){a=!0,o=c}finally{try{!e&&i.return!=null&&i.return()}finally{if(a)throw o}}}}},{key:"_onended",value:function(){this._currentIndex!==void 0&&(this._sounds[this._currentIndex].autoplay=!1),this.loop&&this.isPlaying?this.play():this.isPlaying=!1}},{key:"pause",value:function(){this.isPlaying&&(this.isPaused=!0,this._currentIndex!==void 0&&this._sounds[this._currentIndex].pause())}},{key:"stop",value:function(){this.isPlaying=!1,this._currentIndex!==void 0&&this._sounds[this._currentIndex].stop()}},{key:"play",value:function(n){if(!this.isPaused){this.stop();for(var e=Math.random(),a=0,o=0;o<this._weights.length;o++)if(a+=this._weights[o],e<=a){this._currentIndex=o;break}}var i,s=this._sounds[(i=this._currentIndex)!==null&&i!==void 0?i:0];s.isReady()?s.play(0,this.isPaused?void 0:n):s.autoplay=!0,this.isPlaying=!0,this.isPaused=!1}}]),t}();function Di(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qi(t,r,n){return r=Tn(r),$i(t,Dr()?Reflect.construct(r,n,Tn(t).constructor):r.apply(t,n))}function Ui(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ji(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Ki(t,r,n){return ji(t.prototype,r),t}function Tn(t){return Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Tn(t)}function Hi(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Tt(t,r)}function $i(t,r){return r&&(Ji(r)==="object"||typeof r=="function")?r:Di(t)}function Tt(t,r){return Tt=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e},Tt(t,r)}function Ji(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}function Dr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dr=function(){return!!t})()}var Qi=function(t){Hi(r,t);function r(n,e,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:3,l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null;Ui(this,r);var f;return f=qi(this,r,["",n]),f._texture=n.getEngine().createRawCubeTexture(e,a,o,i,s,u,c,l),f}return Ki(r,[{key:"update",value:function(e,a,o,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;this._texture.getEngine().updateRawCubeTexture(this._texture,e,a,o,i,s)}},{key:"updateRGBDAsync",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return Pi(this._texture,e,a,o,i).then(function(){})}},{key:"clone",value:function(){var e=this;return ka.Clone(function(){var a=e.getScene(),o=e._texture,i=new r(a,o._bufferViewArray,o.width,o.format,o.type,o.generateMipMaps,o.invertY,o.samplingMode,o._compression);return o.source===13&&i.updateRGBDAsync(o._bufferViewArrayArray,o._sphericalPolynomial,o._lodGenerationScale,o._lodGenerationOffset),i},this)}}]),r}(wa);function Yi(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function zi(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Zi(t,r,n){return zi(t.prototype,r),t}var cn=function(){function t(){var r=this;Yi(this,t),this.promise=new Promise(function(n,e){r._resolve=n,r._reject=e})}return Zi(t,[{key:"resolve",get:function(){return this._resolve}},{key:"reject",get:function(){return this._reject}}]),t}();function wt(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function Xi(t){if(Array.isArray(t))return wt(t)}function es(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ns(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ts(t){return Xi(t)||es(t)||as(t)||ns()}function rs(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}function as(t,r){if(t){if(typeof t=="string")return wt(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(t,r)}}function qr(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var e=function(a){return!!a&&(typeof a>"u"?"undefined":rs(a))==="object"};return r.reduce(function(a,o){return Object.keys(o).forEach(function(i){var s=a[i],u=o[i];if(Array.isArray(s)&&Array.isArray(u)){var c;a[i]=(c=s).concat.apply(c,ts(u))}else e(s)&&e(u)?a[i]=qr(s,u):a[i]=u}),a},{})}function os(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function is(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function ss(t,r,n){return is(t.prototype,r),t}var bn=function(){function t(r){os(this,t),this.byteOffset=0,this.buffer=r}return ss(t,[{key:"loadAsync",value:function(n){var e=this;return this.buffer.readAsync(this.byteOffset,n).then(function(a){e._dataView=new DataView(a.buffer,a.byteOffset,a.byteLength),e._dataByteOffset=0})}},{key:"readUint32",value:function(){var n=this._dataView.getUint32(this._dataByteOffset,!0);return this._dataByteOffset+=4,this.byteOffset+=4,n}},{key:"readUint8Array",value:function(n){var e=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._dataByteOffset,n);return this._dataByteOffset+=n,this.byteOffset+=n,e}},{key:"readString",value:function(n){return Oa(this.readUint8Array(n))}},{key:"skipBytes",value:function(n){this._dataByteOffset+=n,this.byteOffset+=n}}]),t}();function us(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function cs(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function ls(t,r,n){return cs(t,n),t}function kt(t,r,n,e){var a={externalResourceFunction:e};return n&&(a.uri=r==="file:"?n:r+n),ArrayBuffer.isView(t)?GLTFValidator.validateBytes(t,a):GLTFValidator.validateString(t,a)}function fs(){var t=[];onmessage=function(r){var n=r.data;switch(n.id){case"init":{importScripts(n.url);break}case"validate":{kt(n.data,n.rootUrl,n.fileName,function(e){return new Promise(function(a,o){var i=t.length;t.push({resolve:a,reject:o}),postMessage({id:"getExternalResource",index:i,uri:e})})}).then(function(e){postMessage({id:"validate.resolve",value:e})},function(e){postMessage({id:"validate.reject",reason:e})});break}case"getExternalResource.resolve":{t[n.index].resolve(n.value);break}case"getExternalResource.reject":{t[n.index].reject(n.reason);break}}}}var Ur=function(){function t(){us(this,t)}return ls(t,null,[{key:"ValidateAsync",value:function(n,e,a,o){var i=this;return typeof Worker=="function"?new Promise(function(s,u){var c="".concat(kt,"(").concat(fs,")()"),l=URL.createObjectURL(new Blob([c],{type:"application/javascript"})),f=new Worker(l),x=function(d){f.removeEventListener("error",x),f.removeEventListener("message",_),u(d)},_=function(d){var v=d.data;switch(v.id){case"getExternalResource":{o(v.uri).then(function(m){f.postMessage({id:"getExternalResource.resolve",index:v.index,value:m},[m.buffer])},function(m){f.postMessage({id:"getExternalResource.reject",index:v.index,reason:m})});break}case"validate.resolve":{f.removeEventListener("error",x),f.removeEventListener("message",_),s(v.value),f.terminate();break}case"validate.reject":f.removeEventListener("error",x),f.removeEventListener("message",_),u(v.reason),f.terminate()}};if(f.addEventListener("error",x),f.addEventListener("message",_),f.postMessage({id:"init",url:se.GetBabylonScriptURL(i.Configuration.url)}),ArrayBuffer.isView(n)){var h=n.slice();f.postMessage({id:"validate",data:h,rootUrl:e,fileName:a},[h.buffer])}else f.postMessage({id:"validate",data:n,rootUrl:e,fileName:a})}):(this._LoadScriptPromise||(this._LoadScriptPromise=se.LoadBabylonScriptAsync(this.Configuration.url)),this._LoadScriptPromise.then(function(){return kt(n,e,a,o)}))}}]),t}();Ur.Configuration={url:"".concat(se._DefaultCdnUrl,"/gltf_validator.js")};var He="Z2xURg",pn={name:"gltf",extensions:{".gltf":{isBinary:!1,mimeType:"model/gltf+json"},".glb":{isBinary:!0,mimeType:"model/gltf-binary"}},canDirectLoad:function(t){return t.indexOf("asset")!==-1&&t.indexOf("version")!==-1||t.startsWith("data:base64,"+He)||t.startsWith("data:;base64,"+He)||t.startsWith("data:application/octet-stream;base64,"+He)||t.startsWith("data:model/gltf-binary;base64,"+He)}};function xs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ds(t,r,n){return r=wn(r),hs(t,Hr()?Reflect.construct(r,[],wn(t).constructor):r.apply(t,n))}function jr(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function cr(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Kr(t,r,n){return r&&cr(t.prototype,r),n&&cr(t,n),t}function wn(t){return wn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wn(t)}function _s(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Ot(t,r)}function hs(t,r){return r&&(vs(r)==="object"||typeof r=="function")?r:xs(t)}function Ot(t,r){return Ot=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e},Ot(t,r)}function vs(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}function Hr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hr=function(){return!!t})()}function lr(t,r,n){try{return Promise.resolve(new Uint8Array(t,r,n))}catch(e){return Promise.reject(e)}}function ys(t,r,n){try{if(r<0||r>=t.byteLength)throw new RangeError("Offset is out of range.");if(r+n>t.byteLength)throw new RangeError("Length is out of range.");return Promise.resolve(new Uint8Array(t.buffer,t.byteOffset+r,n))}catch(e){return Promise.reject(e)}}var dn;(function(t){t[t.AUTO=0]="AUTO",t[t.FORCE_RIGHT_HANDED=1]="FORCE_RIGHT_HANDED"})(dn||(dn={}));var tn;(function(t){t[t.NONE=0]="NONE",t[t.FIRST=1]="FIRST",t[t.ALL=2]="ALL"})(tn||(tn={}));var Pe;(function(t){t[t.LOADING=0]="LOADING",t[t.READY=1]="READY",t[t.COMPLETE=2]="COMPLETE"})(Pe||(Pe={}));var ms=function(){function t(){jr(this,t),this.coordinateSystemMode=dn.AUTO,this.animationStartMode=tn.FIRST,this.loadNodeAnimations=!0,this.loadSkins=!0,this.loadMorphTargets=!0,this.compileMaterials=!1,this.useClipPlane=!1,this.compileShadowGenerators=!1,this.transparencyAsCoverage=!1,this.useRangeRequests=!1,this.createInstances=!0,this.alwaysComputeBoundingBox=!1,this.loadAllMaterials=!1,this.loadOnlyMaterials=!1,this.skipMaterials=!1,this.useSRGBBuffers=!0,this.targetFps=60,this.alwaysComputeSkeletonRootNode=!1,this.useGltfTextureNames=!1,this.preprocessUrlAsync=function(r){return Promise.resolve(r)},this.extensionOptions={}}return Kr(t,[{key:"copyFrom",value:function(n){if(n){this.onParsed=n.onParsed;var e;this.coordinateSystemMode=(e=n.coordinateSystemMode)!==null&&e!==void 0?e:this.coordinateSystemMode;var a;this.animationStartMode=(a=n.animationStartMode)!==null&&a!==void 0?a:this.animationStartMode;var o;this.loadNodeAnimations=(o=n.loadNodeAnimations)!==null&&o!==void 0?o:this.loadNodeAnimations;var i;this.loadSkins=(i=n.loadSkins)!==null&&i!==void 0?i:this.loadSkins;var s;this.loadMorphTargets=(s=n.loadMorphTargets)!==null&&s!==void 0?s:this.loadMorphTargets;var u;this.compileMaterials=(u=n.compileMaterials)!==null&&u!==void 0?u:this.compileMaterials;var c;this.useClipPlane=(c=n.useClipPlane)!==null&&c!==void 0?c:this.useClipPlane;var l;this.compileShadowGenerators=(l=n.compileShadowGenerators)!==null&&l!==void 0?l:this.compileShadowGenerators;var f;this.transparencyAsCoverage=(f=n.transparencyAsCoverage)!==null&&f!==void 0?f:this.transparencyAsCoverage;var x;this.useRangeRequests=(x=n.useRangeRequests)!==null&&x!==void 0?x:this.useRangeRequests;var _;this.createInstances=(_=n.createInstances)!==null&&_!==void 0?_:this.createInstances;var h;this.alwaysComputeBoundingBox=(h=n.alwaysComputeBoundingBox)!==null&&h!==void 0?h:this.alwaysComputeBoundingBox;var d;this.loadAllMaterials=(d=n.loadAllMaterials)!==null&&d!==void 0?d:this.loadAllMaterials;var v;this.loadOnlyMaterials=(v=n.loadOnlyMaterials)!==null&&v!==void 0?v:this.loadOnlyMaterials;var m;this.skipMaterials=(m=n.skipMaterials)!==null&&m!==void 0?m:this.skipMaterials;var p;this.useSRGBBuffers=(p=n.useSRGBBuffers)!==null&&p!==void 0?p:this.useSRGBBuffers;var A;this.targetFps=(A=n.targetFps)!==null&&A!==void 0?A:this.targetFps;var T;this.alwaysComputeSkeletonRootNode=(T=n.alwaysComputeSkeletonRootNode)!==null&&T!==void 0?T:this.alwaysComputeSkeletonRootNode;var y;this.useGltfTextureNames=(y=n.useGltfTextureNames)!==null&&y!==void 0?y:this.useGltfTextureNames;var b;this.preprocessUrlAsync=(b=n.preprocessUrlAsync)!==null&&b!==void 0?b:this.preprocessUrlAsync,this.customRootNode=n.customRootNode,this.onMeshLoaded=n.onMeshLoaded,this.onSkinLoaded=n.onSkinLoaded,this.onTextureLoaded=n.onTextureLoaded,this.onMaterialLoaded=n.onMaterialLoaded,this.onCameraLoaded=n.onCameraLoaded;var g;this.extensionOptions=(g=n.extensionOptions)!==null&&g!==void 0?g:this.extensionOptions}}}]),t}(),Be=function(t){_s(r,t);function r(n){jr(this,r);var e;return e=ds(this,r),e.onParsedObservable=new ke,e.onMeshLoadedObservable=new ke,e.onSkinLoadedObservable=new ke,e.onTextureLoadedObservable=new ke,e.onMaterialLoadedObservable=new ke,e.onCameraLoadedObservable=new ke,e.onCompleteObservable=new ke,e.onErrorObservable=new ke,e.onDisposeObservable=new ke,e.onExtensionLoadedObservable=new ke,e.validate=!1,e.onValidatedObservable=new ke,e._loader=null,e._state=null,e._requests=new Array,e.name=pn.name,e.extensions=pn.extensions,e.onLoaderStateChangedObservable=new ke,e._logIndentLevel=0,e._loggingEnabled=!1,e._log=e._logDisabled,e._capturePerformanceCounters=!1,e._startPerformanceCounter=e._startPerformanceCounterDisabled,e._endPerformanceCounter=e._endPerformanceCounterDisabled,e.copyFrom(n),e}return Kr(r,[{key:"onParsed",set:function(e){this._onParsedObserver&&this.onParsedObservable.remove(this._onParsedObserver),e&&(this._onParsedObserver=this.onParsedObservable.add(e))}},{key:"onMeshLoaded",set:function(e){this._onMeshLoadedObserver&&this.onMeshLoadedObservable.remove(this._onMeshLoadedObserver),e&&(this._onMeshLoadedObserver=this.onMeshLoadedObservable.add(e))}},{key:"onSkinLoaded",set:function(e){this._onSkinLoadedObserver&&this.onSkinLoadedObservable.remove(this._onSkinLoadedObserver),e&&(this._onSkinLoadedObserver=this.onSkinLoadedObservable.add(function(a){return e(a.node,a.skinnedNode)}))}},{key:"onTextureLoaded",set:function(e){this._onTextureLoadedObserver&&this.onTextureLoadedObservable.remove(this._onTextureLoadedObserver),e&&(this._onTextureLoadedObserver=this.onTextureLoadedObservable.add(e))}},{key:"onMaterialLoaded",set:function(e){this._onMaterialLoadedObserver&&this.onMaterialLoadedObservable.remove(this._onMaterialLoadedObserver),e&&(this._onMaterialLoadedObserver=this.onMaterialLoadedObservable.add(e))}},{key:"onCameraLoaded",set:function(e){this._onCameraLoadedObserver&&this.onCameraLoadedObservable.remove(this._onCameraLoadedObserver),e&&(this._onCameraLoadedObserver=this.onCameraLoadedObservable.add(e))}},{key:"onComplete",set:function(e){this._onCompleteObserver&&this.onCompleteObservable.remove(this._onCompleteObserver),this._onCompleteObserver=this.onCompleteObservable.add(e)}},{key:"onError",set:function(e){this._onErrorObserver&&this.onErrorObservable.remove(this._onErrorObserver),this._onErrorObserver=this.onErrorObservable.add(e)}},{key:"onDispose",set:function(e){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(e)}},{key:"onExtensionLoaded",set:function(e){this._onExtensionLoadedObserver&&this.onExtensionLoadedObservable.remove(this._onExtensionLoadedObserver),this._onExtensionLoadedObserver=this.onExtensionLoadedObservable.add(e)}},{key:"loggingEnabled",get:function(){return this._loggingEnabled},set:function(e){this._loggingEnabled!==e&&(this._loggingEnabled=e,this._loggingEnabled?this._log=this._logEnabled:this._log=this._logDisabled)}},{key:"capturePerformanceCounters",get:function(){return this._capturePerformanceCounters},set:function(e){this._capturePerformanceCounters!==e&&(this._capturePerformanceCounters=e,this._capturePerformanceCounters?(this._startPerformanceCounter=this._startPerformanceCounterEnabled,this._endPerformanceCounter=this._endPerformanceCounterEnabled):(this._startPerformanceCounter=this._startPerformanceCounterDisabled,this._endPerformanceCounter=this._endPerformanceCounterDisabled))}},{key:"onValidated",set:function(e){this._onValidatedObserver&&this.onValidatedObservable.remove(this._onValidatedObserver),this._onValidatedObserver=this.onValidatedObservable.add(e)}},{key:"dispose",value:function(){this._loader&&(this._loader.dispose(),this._loader=null);var e=!0,a=!1,o=void 0;try{for(var i=this._requests[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var u=s.value;u.abort()}}catch(c){a=!0,o=c}finally{try{!e&&i.return!=null&&i.return()}finally{if(a)throw o}}this._requests.length=0,delete this._progressCallback,this.preprocessUrlAsync=function(c){return Promise.resolve(c)},this.onMeshLoadedObservable.clear(),this.onSkinLoadedObservable.clear(),this.onTextureLoadedObservable.clear(),this.onMaterialLoadedObservable.clear(),this.onCameraLoadedObservable.clear(),this.onCompleteObservable.clear(),this.onExtensionLoadedObservable.clear(),this.onDisposeObservable.notifyObservers(void 0),this.onDisposeObservable.clear()}},{key:"loadFile",value:function(e,a,o,i,s,u,c,l){var f=this;if(ArrayBuffer.isView(a))return this._loadBinary(e,a,o,i,c,l),null;this._progressCallback=s;var x=a.name||se.GetFilename(a);if(u){if(this.useRangeRequests){this.validate&&ye.Warn("glTF validation is not supported when range requests are enabled");var _={abort:function(){},onCompleteObservable:new ke},h={readAsync:function(d,v){return new Promise(function(m,p){f._loadFile(e,a,function(A){m(new Uint8Array(A))},!0,function(A){p(A)},function(A){A.setRequestHeader("Range","bytes=".concat(d,"-").concat(d+v-1))})})},byteLength:0};return this._unpackBinaryAsync(new bn(h)).then(function(d){_.onCompleteObservable.notifyObservers(_),i(d)},c?function(d){return c(void 0,d)}:void 0),_}return this._loadFile(e,a,function(d){f._validate(e,new Uint8Array(d,0,d.byteLength),o,x),f._unpackBinaryAsync(new bn({readAsync:function(v,m){return lr(d,v,m)},byteLength:d.byteLength})).then(function(v){i(v)},c?function(v){return c(void 0,v)}:void 0)},!0,c)}else return this._loadFile(e,a,function(d){try{f._validate(e,d,o,x),i({json:f._parseJson(d)})}catch{c&&c()}},!1,c)}},{key:"_loadBinary",value:function(e,a,o,i,s,u){this._validate(e,new Uint8Array(a.buffer,a.byteOffset,a.byteLength),o,u),this._unpackBinaryAsync(new bn({readAsync:function(c,l){return ys(a,c,l)},byteLength:a.byteLength})).then(function(c){i(c)},s?function(c){return s(void 0,c)}:void 0)}},{key:"importMeshAsync",value:function(e,a,o,i,s,u){var c=this;return Promise.resolve().then(function(){return c.onParsedObservable.notifyObservers(o),c.onParsedObservable.clear(),c._log("Loading ".concat(u||"")),c._loader=c._getLoader(o),c._loader.importMeshAsync(e,a,null,o,i,s,u)})}},{key:"loadAsync",value:function(e,a,o,i,s){var u=this;return Promise.resolve().then(function(){return u.onParsedObservable.notifyObservers(a),u.onParsedObservable.clear(),u._log("Loading ".concat(s||"")),u._loader=u._getLoader(a),u._loader.loadAsync(e,a,o,i,s)})}},{key:"loadAssetContainerAsync",value:function(e,a,o,i,s){var u=this;return Promise.resolve().then(function(){u.onParsedObservable.notifyObservers(a),u.onParsedObservable.clear(),u._log("Loading ".concat(s||"")),u._loader=u._getLoader(a);var c=new Sa(e),l=[];u.onMaterialLoadedObservable.add(function(h){l.push(h)});var f=[];u.onTextureLoadedObservable.add(function(h){f.push(h)});var x=[];u.onCameraLoadedObservable.add(function(h){x.push(h)});var _=[];return u.onMeshLoadedObservable.add(function(h){h.morphTargetManager&&_.push(h.morphTargetManager)}),u._loader.importMeshAsync(null,e,c,a,o,i,s).then(function(h){return Array.prototype.push.apply(c.geometries,h.geometries),Array.prototype.push.apply(c.meshes,h.meshes),Array.prototype.push.apply(c.particleSystems,h.particleSystems),Array.prototype.push.apply(c.skeletons,h.skeletons),Array.prototype.push.apply(c.animationGroups,h.animationGroups),Array.prototype.push.apply(c.materials,l),Array.prototype.push.apply(c.textures,f),Array.prototype.push.apply(c.lights,h.lights),Array.prototype.push.apply(c.transformNodes,h.transformNodes),Array.prototype.push.apply(c.cameras,x),Array.prototype.push.apply(c.morphTargetManagers,_),c})})}},{key:"canDirectLoad",value:function(e){return pn.canDirectLoad(e)}},{key:"directLoad",value:function(e,a){if(a.startsWith("base64,"+He)||a.startsWith(";base64,"+He)||a.startsWith("application/octet-stream;base64,"+He)||a.startsWith("model/gltf-binary;base64,"+He)){var o=Ir(a);return this._validate(e,new Uint8Array(o,0,o.byteLength)),this._unpackBinaryAsync(new bn({readAsync:function(i,s){return lr(o,i,s)},byteLength:o.byteLength}))}return this._validate(e,a),Promise.resolve({json:this._parseJson(a)})}},{key:"createPlugin",value:function(e){return new r(e[pn.name])}},{key:"loaderState",get:function(){return this._state}},{key:"whenCompleteAsync",value:function(){var e=this;return new Promise(function(a,o){e.onCompleteObservable.addOnce(function(){a()}),e.onErrorObservable.addOnce(function(i){o(i)})})}},{key:"_setState",value:function(e){this._state!==e&&(this._state=e,this.onLoaderStateChangedObservable.notifyObservers(this._state),this._log(Pe[this._state]))}},{key:"_loadFile",value:function(e,a,o,i,s,u){var c=this,l=e._loadFile(a,o,function(f){c._onProgress(f,l)},!0,i,s,u);return l.onCompleteObservable.add(function(){l._lengthComputable=!0,l._total=l._loaded}),this._requests.push(l),l}},{key:"_onProgress",value:function(e,a){if(this._progressCallback){a._lengthComputable=e.lengthComputable,a._loaded=e.loaded,a._total=e.total;var o=!0,i=0,s=0,u=!0,c=!1,l=void 0;try{for(var f=this._requests[Symbol.iterator](),x;!(u=(x=f.next()).done);u=!0){var _=x.value;if(_._lengthComputable===void 0||_._loaded===void 0||_._total===void 0)return;o=o&&_._lengthComputable,i+=_._loaded,s+=_._total}}catch(h){c=!0,l=h}finally{try{!u&&f.return!=null&&f.return()}finally{if(c)throw l}}this._progressCallback({lengthComputable:o,loaded:i,total:o?s:0})}}},{key:"_validate",value:function(e,a){var o=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";this.validate&&(this._startPerformanceCounter("Validate JSON"),Ur.ValidateAsync(a,i,s,function(u){return o.preprocessUrlAsync(i+u).then(function(c){return e._loadFileAsync(c,void 0,!0,!0).then(function(l){return new Uint8Array(l,0,l.byteLength)})})}).then(function(u){o._endPerformanceCounter("Validate JSON"),o.onValidatedObservable.notifyObservers(u),o.onValidatedObservable.clear()},function(u){o._endPerformanceCounter("Validate JSON"),se.Warn("Failed to validate: ".concat(u.message)),o.onValidatedObservable.clear()}))}},{key:"_getLoader",value:function(e){var a=e.json.asset||{};this._log("Asset version: ".concat(a.version)),a.minVersion&&this._log("Asset minimum version: ".concat(a.minVersion)),a.generator&&this._log("Asset generator: ".concat(a.generator));var o=r._parseVersion(a.version);if(!o)throw new Error("Invalid version: "+a.version);if(a.minVersion!==void 0){var i=r._parseVersion(a.minVersion);if(!i)throw new Error("Invalid minimum version: "+a.minVersion);if(r._compareVersion(i,{major:2,minor:0})>0)throw new Error("Incompatible minimum version: "+a.minVersion)}var s={1:r._CreateGLTF1Loader,2:r._CreateGLTF2Loader},u=s[o.major];if(!u)throw new Error("Unsupported version: "+a.version);return u(this)}},{key:"_parseJson",value:function(e){this._startPerformanceCounter("Parse JSON"),this._log("JSON length: ".concat(e.length));var a=JSON.parse(e);return this._endPerformanceCounter("Parse JSON"),a}},{key:"_unpackBinaryAsync",value:function(e){var a=this;return this._startPerformanceCounter("Unpack Binary"),e.loadAsync(20).then(function(){var o={Magic:1179937895},i=e.readUint32();if(i!==o.Magic)throw new Ea("Unexpected magic: "+i,Ca.GLTFLoaderUnexpectedMagicError);var s=e.readUint32();a.loggingEnabled&&a._log("Binary version: ".concat(s));var u=e.readUint32();!a.useRangeRequests&&u!==e.buffer.byteLength&&ye.Warn("Length in header does not match actual data length: ".concat(u," != ").concat(e.buffer.byteLength));var c;switch(s){case 1:{c=a._unpackBinaryV1Async(e,u);break}case 2:{c=a._unpackBinaryV2Async(e,u);break}default:throw new Error("Unsupported version: "+s)}return a._endPerformanceCounter("Unpack Binary"),c})}},{key:"_unpackBinaryV1Async",value:function(e,a){var o={JSON:0},i=e.readUint32(),s=e.readUint32();if(s!==o.JSON)throw new Error("Unexpected content format: ".concat(s));var u=a-e.byteOffset,c={json:this._parseJson(e.readString(i)),bin:null};if(u!==0){var l=e.byteOffset;c.bin={readAsync:function(f,x){return e.buffer.readAsync(l+f,x)},byteLength:u}}return Promise.resolve(c)}},{key:"_unpackBinaryV2Async",value:function(e,a){var o=this,i={JSON:1313821514,BIN:5130562},s=e.readUint32(),u=e.readUint32();if(u!==i.JSON)throw new Error("First chunk format is not JSON");return e.byteOffset+s===a?e.loadAsync(s).then(function(){return{json:o._parseJson(e.readString(s)),bin:null}}):e.loadAsync(s+8).then(function(){var c={json:o._parseJson(e.readString(s)),bin:null},l=function(){var f=e.readUint32(),x=e.readUint32();switch(x){case i.JSON:throw new Error("Unexpected JSON chunk");case i.BIN:{var _=e.byteOffset;c.bin={readAsync:function(h,d){return e.buffer.readAsync(_+h,d)},byteLength:f},e.skipBytes(f);break}default:{e.skipBytes(f);break}}return e.byteOffset!==a?e.loadAsync(8).then(l):Promise.resolve(c)};return l()})}},{key:"_logOpen",value:function(e){this._log(e),this._logIndentLevel++}},{key:"_logClose",value:function(){--this._logIndentLevel}},{key:"_logEnabled",value:function(e){var a=r._logSpaces.substring(0,this._logIndentLevel*2);ye.Log("".concat(a).concat(e))}},{key:"_logDisabled",value:function(e){}},{key:"_startPerformanceCounterEnabled",value:function(e){se.StartPerformanceCounter(e)}},{key:"_startPerformanceCounterDisabled",value:function(e){}},{key:"_endPerformanceCounterEnabled",value:function(e){se.EndPerformanceCounter(e)}},{key:"_endPerformanceCounterDisabled",value:function(e){}}],[{key:"_parseVersion",value:function(e){if(e==="1.0"||e==="1.0.1")return{major:1,minor:0};var a=(e+"").match(/^(\d+)\.(\d+)/);return a?{major:parseInt(a[1]),minor:parseInt(a[2])}:null}},{key:"_compareVersion",value:function(e,a){return e.major>a.major?1:e.major<a.major?-1:e.minor>a.minor?1:e.minor<a.minor?-1:0}}]),r}(ms);Be.IncrementalLoading=!0;Be.HomogeneousCoordinates=!1;Be._logSpaces="                                ";Wa(new Be);var $e;(function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.FLOAT=5126]="FLOAT"})($e||($e={}));var Wt;(function(t){t[t.FRAGMENT=35632]="FRAGMENT",t[t.VERTEX=35633]="VERTEX"})(Wt||(Wt={}));var Oe;(function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D"})(Oe||(Oe={}));var fn;(function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.REPEAT=10497]="REPEAT"})(fn||(fn={}));var Fe;(function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9728]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"})(Fe||(Fe={}));var fr;(function(t){t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA"})(fr||(fr={}));var St;(function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"})(St||(St={}));var _e;(function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE"})(_e||(_e={}));function bs(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ps(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function As(t,r,n){return ps(t,n),t}var Ee=function(){function t(){bs(this,t)}return As(t,null,[{key:"SetMatrix",value:function(n,e,a,o,i){var s=null;if(a.semantic==="MODEL"?s=e.getWorldMatrix():a.semantic==="PROJECTION"?s=n.getProjectionMatrix():a.semantic==="VIEW"?s=n.getViewMatrix():a.semantic==="MODELVIEWINVERSETRANSPOSE"?s=We.Transpose(e.getWorldMatrix().multiply(n.getViewMatrix()).invert()):a.semantic==="MODELVIEW"?s=e.getWorldMatrix().multiply(n.getViewMatrix()):a.semantic==="MODELVIEWPROJECTION"?s=e.getWorldMatrix().multiply(n.getTransformMatrix()):a.semantic==="MODELINVERSE"?s=e.getWorldMatrix().invert():a.semantic==="VIEWINVERSE"?s=n.getViewMatrix().invert():a.semantic==="PROJECTIONINVERSE"?s=n.getProjectionMatrix().invert():a.semantic==="MODELVIEWINVERSE"?s=e.getWorldMatrix().multiply(n.getViewMatrix()).invert():a.semantic==="MODELVIEWPROJECTIONINVERSE"?s=e.getWorldMatrix().multiply(n.getTransformMatrix()).invert():a.semantic==="MODELINVERSETRANSPOSE"&&(s=We.Transpose(e.getWorldMatrix().invert())),s)switch(a.type){case Oe.FLOAT_MAT2:i.setMatrix2x2(o,We.GetAsMatrix2x2(s));break;case Oe.FLOAT_MAT3:i.setMatrix3x3(o,We.GetAsMatrix3x3(s));break;case Oe.FLOAT_MAT4:i.setMatrix(o,s);break}}},{key:"SetUniform",value:function(n,e,a,o){switch(o){case Oe.FLOAT:return n.setFloat(e,a),!0;case Oe.FLOAT_VEC2:return n.setVector2(e,La.FromArray(a)),!0;case Oe.FLOAT_VEC3:return n.setVector3(e,z.FromArray(a)),!0;case Oe.FLOAT_VEC4:return n.setVector4(e,Pa.FromArray(a)),!0;default:return!1}}},{key:"GetWrapMode",value:function(n){switch(n){case fn.CLAMP_TO_EDGE:return fe.CLAMP_ADDRESSMODE;case fn.MIRRORED_REPEAT:return fe.MIRROR_ADDRESSMODE;case fn.REPEAT:return fe.WRAP_ADDRESSMODE;default:return fe.WRAP_ADDRESSMODE}}},{key:"GetByteStrideFromType",value:function(n){var e=n.type;switch(e){case"VEC2":return 2;case"VEC3":return 3;case"VEC4":return 4;case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16;default:return 1}}},{key:"GetTextureFilterMode",value:function(n){switch(n){case Fe.LINEAR:case Fe.LINEAR_MIPMAP_NEAREST:case Fe.LINEAR_MIPMAP_LINEAR:return fe.TRILINEAR_SAMPLINGMODE;case Fe.NEAREST:case Fe.NEAREST_MIPMAP_NEAREST:return fe.NEAREST_SAMPLINGMODE;default:return fe.BILINEAR_SAMPLINGMODE}}},{key:"GetBufferFromBufferView",value:function(n,e,a,o,i){a=e.byteOffset+a;var s=n.loadedBufferViews[e.buffer];if(a+o>s.byteLength)throw new Error("Buffer access is out of range");var u=s.buffer;switch(a+=s.byteOffset,i){case $e.BYTE:return new Int8Array(u,a,o);case $e.UNSIGNED_BYTE:return new Uint8Array(u,a,o);case $e.SHORT:return new Int16Array(u,a,o);case $e.UNSIGNED_SHORT:return new Uint16Array(u,a,o);default:return new Float32Array(u,a,o)}}},{key:"GetBufferFromAccessor",value:function(n,e){var a=n.bufferViews[e.bufferView],o=e.count*t.GetByteStrideFromType(e);return t.GetBufferFromBufferView(n,a,e.byteOffset,o,e.componentType)}},{key:"DecodeBufferToText",value:function(n){for(var e="",a=n.byteLength,o=0;o<a;++o)e+=String.fromCharCode(n[o]);return e}},{key:"GetDefaultMaterial",value:function(n){if(!t._DefaultMaterial){ze.ShadersStore.GLTFDefaultMaterialVertexShader=["precision highp float;","","uniform mat4 worldView;","uniform mat4 projection;","","attribute vec3 position;","","void main(void)","{","    gl_Position = projection * worldView * vec4(position, 1.0);","}"].join(`
`),ze.ShadersStore.GLTFDefaultMaterialPixelShader=["precision highp float;","","uniform vec4 u_emission;","","void main(void)","{","    gl_FragColor = u_emission;","}"].join(`
`);var e={vertex:"GLTFDefaultMaterial",fragment:"GLTFDefaultMaterial"},a={attributes:["position"],uniforms:["worldView","projection","u_emission"],samplers:new Array,needAlphaBlending:!1};t._DefaultMaterial=new Rr("GLTFDefaultMaterial",n,e,a),t._DefaultMaterial.setColor4("u_emission",new Ma(.5,.5,.5,1))}return t._DefaultMaterial}}]),t}();Ee._DefaultMaterial=null;function xt(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function xr(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function dt(t,r,n){return r&&xr(t.prototype,r),n&&xr(t,n),t}var Je;(function(t){t[t.IDENTIFIER=1]="IDENTIFIER",t[t.UNKNOWN=2]="UNKNOWN",t[t.END_OF_INPUT=3]="END_OF_INPUT"})(Je||(Je={}));var dr=function(){function t(r){xt(this,t),this._pos=0,this.currentToken=Je.UNKNOWN,this.currentIdentifier="",this.currentString="",this.isLetterOrDigitPattern=/^[a-zA-Z0-9]+$/,this._toParse=r,this._maxPos=r.length}return dt(t,[{key:"getNextToken",value:function(){if(this.isEnd())return Je.END_OF_INPUT;if(this.currentString=this.read(),this.currentToken=Je.UNKNOWN,this.currentString==="_"||this.isLetterOrDigitPattern.test(this.currentString))for(this.currentToken=Je.IDENTIFIER,this.currentIdentifier=this.currentString;!this.isEnd()&&(this.isLetterOrDigitPattern.test(this.currentString=this.peek())||this.currentString==="_");)this.currentIdentifier+=this.currentString,this.forward();return this.currentToken}},{key:"peek",value:function(){return this._toParse[this._pos]}},{key:"read",value:function(){return this._toParse[this._pos++]}},{key:"forward",value:function(){this._pos++}},{key:"isEnd",value:function(){return this._pos>=this._maxPos}}]),t}(),$r=["MODEL","VIEW","PROJECTION","MODELVIEW","MODELVIEWPROJECTION","JOINTMATRIX"],Jr=["world","view","projection","worldView","worldViewProjection","mBones"],gs=["translation","rotation","scale"],Ts=["position","rotationQuaternion","scaling"],ws=function(t,r){for(var n in t){var e=t[n];r.buffers[n]=e,r.buffersCount++}},ks=function(t,r){for(var n in t){var e=t[n];r.shaders[n]=e,r.shaderscount++}},we=function(t,r,n){for(var e in t){var a=t[e];n[r][e]=a}},Os=function(t){if(t)for(var r=0;r<t.length/2;r++)t[r*2+1]=1-t[r*2+1]},_r=function(t){if(t.semantic==="NORMAL")return"normal";if(t.semantic==="POSITION")return"position";if(t.semantic==="JOINT")return"matricesIndices";if(t.semantic==="WEIGHT")return"matricesWeights";if(t.semantic==="COLOR")return"color";if(t.semantic&&t.semantic.indexOf("TEXCOORD_")!==-1){var r=Number(t.semantic.split("_")[1]);return"uv"+(r===0?"":r+1)}return null},Ws=function(t){for(var r in t.animations){var n=t.animations[r];if(!(!n.channels||!n.samplers))for(var e=null,a=0;a<n.channels.length;a++){var o=n.channels[a],i=n.samplers[o.sampler];if(i){var s=null,u=null;n.parameters?(s=n.parameters[i.input],u=n.parameters[i.output]):(s=i.input,u=i.output);var c=Ee.GetBufferFromAccessor(t,t.accessors[s]),l=Ee.GetBufferFromAccessor(t,t.accessors[u]),f=o.target.id,x=t.scene.getNodeById(f);if(x===null&&(x=t.scene.getNodeByName(f)),x===null){se.Warn("Creating animation named "+r+". But cannot find node named "+f+" to attach to");continue}var _=x instanceof vn,h=o.target.path,d=gs.indexOf(h);d!==-1&&(h=Ts[d]);var v=Q.ANIMATIONTYPE_MATRIX;_||(h==="rotationQuaternion"?(v=Q.ANIMATIONTYPE_QUATERNION,x.rotationQuaternion=new Se):v=Q.ANIMATIONTYPE_VECTOR3);var m=null,p=[],A=0,T=!1;_&&e&&e.getKeys().length===c.length&&(m=e,T=!0),T||(t.scene._blockEntityCollection=!!t.assetContainer,m=new Q(r,_?"_matrix":h,1,v,Q.ANIMATIONLOOPMODE_CYCLE),t.scene._blockEntityCollection=!1);for(var y=0;y<c.length;y++){var b=null;if(h==="rotationQuaternion"?(b=Se.FromArray([l[A],l[A+1],l[A+2],l[A+3]]),A+=4):(b=z.FromArray([l[A],l[A+1],l[A+2]]),A+=3),_){var g=x,k=z.Zero(),W=new Se,O=z.Zero(),S=g.getBaseMatrix();T&&e&&(S=e.getKeys()[y].value),S.decompose(O,W,k),h==="position"?k=b:h==="rotationQuaternion"?W=b:O=b,b=We.Compose(O,W,k)}T?e&&(e.getKeys()[y].value=b):p.push({frame:c[y],value:b})}!T&&m&&(m.setKeys(p),x.animations.push(m)),e=m,t.scene.stopAnimation(x),t.scene.beginAnimation(x,0,c[c.length-1],!0,1)}}}},Ht=function(t){var r=null;if(t.translation||t.rotation||t.scale){var n=z.FromArray(t.scale||[1,1,1]),e=Se.FromArray(t.rotation||[0,0,0,1]),a=z.FromArray(t.translation||[0,0,0]);r=We.Compose(n,e,a)}else r=We.FromArray(t.matrix);return r},Qr=function(t,r,n,e){for(var a=0;a<e.bones.length;a++)if(e.bones[a].name===n)return e.bones[a];var o=t.nodes;for(var i in o){var s=o[i];if(s.jointName)for(var u=s.children,c=0;c<u.length;c++){var l=t.nodes[u[c]];if(l.jointName&&l.jointName===n){var f=Ht(s),x=new vn(s.name||"",e,Qr(t,r,s.jointName,e),f);return x.id=i,x}}}return null},Ss=function(t,r){for(var n=0;n<t.length;n++)for(var e=t[n],a=0;a<e.node.children.length;a++){var o=e.node.children[a];if(o===r)return e.bone}return null},mt=function(t,r){var n=t.nodes,e=n[r];if(e)return{node:e,id:r};for(var a in n)if(e=n[a],e.jointName===r)return{node:e,id:a};return null},Es=function(t,r){for(var n=0;n<t.jointNames.length;n++)if(t.jointNames[n]===r)return!0;return!1},Cs=function(t,r,n,e){for(var a in t.nodes){var o=t.nodes[a],i=a;if(!(!o.jointName||Es(n,o.jointName))){var s=Ht(o),u=new vn(o.name||"",r,null,s);u.id=i,e.push({bone:u,node:o,id:i})}}for(var c=0;c<e.length;c++)for(var l=e[c],f=l.node.children,x=0;x<f.length;x++){for(var _=null,h=0;h<e.length;h++)if(e[h].id===f[x]){_=e[h];break}_&&(_.bone._parent=l.bone,l.bone.children.push(_.bone))}},Ps=function(t,r,n,e){if(e||(e=new Dt(r.name||"","",t.scene)),!r.babylonSkeleton)return e;var a=[],o=[];Cs(t,e,r,a),e.bones=[];for(var i=0;i<r.jointNames.length;i++){var s=mt(t,r.jointNames[i]);if(s){var u=s.node;if(!u){se.Warn("Joint named "+r.jointNames[i]+" does not exist");continue}var c=s.id,l=t.scene.getBoneById(c);if(l){e.bones.push(l);continue}for(var f=!1,x=null,_=0;_<i;_++){var h=mt(t,r.jointNames[_]);if(h){var d=h.node;if(!d){se.Warn("Joint named "+r.jointNames[_]+" does not exist when looking for parent");continue}var v=d.children;if(v){f=!1;for(var m=0;m<v.length;m++)if(v[m]===c){x=Qr(t,r,r.jointNames[_],e),f=!0;break}if(f)break}}}var p=Ht(u);!x&&a.length>0&&(x=Ss(a,c),x&&o.indexOf(x)===-1&&o.push(x));var A=new vn(u.jointName||"",e,x,p);A.id=c}}var T=e.bones;e.bones=[];for(var y=0;y<r.jointNames.length;y++){var b=mt(t,r.jointNames[y]);if(b){for(var g=0;g<T.length;g++)if(T[g].id===b.id){e.bones.push(T[g]);break}}}e.prepare();for(var k=0;k<o.length;k++)e.bones.push(o[k]);return e},hr=function(t,r,n,e,a){if(a||(t.scene._blockEntityCollection=!!t.assetContainer,a=new Ze(r.name||"",t.scene),a._parentContainer=t.assetContainer,t.scene._blockEntityCollection=!1,a.id=e),!r.babylonNode)return a;for(var o=[],i=null,s=[],u=[],c=[],l=[],f=0;f<n.length;f++){var x=n[f],_=t.meshes[x];if(_)for(var h=0;h<_.primitives.length;h++){var d=new Na,v=_.primitives[h];v.mode;var m=v.attributes,p=null,A=null;for(var T in m)if(p=t.accessors[m[T]],A=Ee.GetBufferFromAccessor(t,p),T==="NORMAL")d.normals=new Float32Array(A.length),d.normals.set(A);else if(T==="POSITION"){if(Be.HomogeneousCoordinates){d.positions=new Float32Array(A.length-A.length/4);for(var y=0;y<A.length;y+=4)d.positions[y]=A[y],d.positions[y+1]=A[y+1],d.positions[y+2]=A[y+2]}else d.positions=new Float32Array(A.length),d.positions.set(A);u.push(d.positions.length)}else if(T.indexOf("TEXCOORD_")!==-1){var b=Number(T.split("_")[1]),g=te.UVKind+(b===0?"":b+1),k=new Float32Array(A.length);k.set(A),Os(k),d.set(k,g)}else T==="JOINT"?(d.matricesIndices=new Float32Array(A.length),d.matricesIndices.set(A)):T==="WEIGHT"?(d.matricesWeights=new Float32Array(A.length),d.matricesWeights.set(A)):T==="COLOR"&&(d.colors=new Float32Array(A.length),d.colors.set(A));if(p=t.accessors[v.indices],p)A=Ee.GetBufferFromAccessor(t,p),d.indices=new Int32Array(A.length),d.indices.set(A),l.push(d.indices.length);else{for(var W=[],O=0;O<d.positions.length/3;O++)W.push(O);d.indices=new Int32Array(W),l.push(d.indices.length)}i?i.merge(d):i=d;var S=t.scene.getMaterialById(v.material);o.push(S===null?Ee.GetDefaultMaterial(t.scene):S),s.push(s.length===0?0:s[s.length-1]+u[u.length-2]),c.push(c.length===0?0:c[c.length-1]+l[l.length-2])}}var w;t.scene._blockEntityCollection=!!t.assetContainer,o.length>1?(w=new Ia("multimat"+e,t.scene),w.subMaterials=o):w=new qt("multimat"+e,t.scene),o.length===1&&(w=o[0]),w._parentContainer=t.assetContainer,a.material||(a.material=w),new Br(e,t.scene,i,!1,a),a.computeWorldMatrix(!0),t.scene._blockEntityCollection=!1,a.subMeshes=[];for(var L=0,q=0;q<n.length;q++){var E=n[q],N=t.meshes[E];if(N)for(var $=0;$<N.primitives.length;$++)N.primitives[$].mode,Ra.AddToMesh(L,s[L],u[L],c[L],l[L],a,a,!0),L++}return a},Et=function(t,r,n,e){t.position&&(t.position=r),(t.rotationQuaternion||t.rotation)&&(t.rotationQuaternion=n),t.scaling&&(t.scaling=e)},Ls=function(t,r){if(r.matrix){var n=new z(0,0,0),e=new Se,a=new z(0,0,0),o=We.FromArray(r.matrix);o.decompose(a,e,n),Et(t,n,e,a)}else r.translation&&r.rotation&&r.scale&&Et(t,z.FromArray(r.translation),Se.FromArray(r.rotation),z.FromArray(r.scale));t.computeWorldMatrix(!0)},Ms=function(t,r,n){var e=null;if(t.importOnlyMeshes&&(r.skin||r.meshes)&&t.importMeshesNames&&t.importMeshesNames.length>0&&t.importMeshesNames.indexOf(r.name||"")===-1)return null;if(r.skin){if(r.meshes){var a=t.skins[r.skin],o=hr(t,r,r.meshes,n,r.babylonNode);o.skeleton=t.scene.getLastSkeletonById(r.skin),o.skeleton===null&&(o.skeleton=Ps(t,a,o,a.babylonSkeleton),a.babylonSkeleton||(a.babylonSkeleton=o.skeleton)),e=o}}else if(r.meshes){var i=hr(t,r,r.mesh?[r.mesh]:r.meshes,n,r.babylonNode);e=i}else if(r.light&&!r.babylonNode&&!t.importOnlyMeshes){var s=t.lights[r.light];if(s){if(s.type==="ambient"){var u=s[s.type],c=new Ut(r.light,z.Zero(),t.scene);c.name=r.name||"",u.color&&(c.diffuse=ue.FromArray(u.color)),e=c}else if(s.type==="directional"){var l=s[s.type],f=new jt(r.light,z.Zero(),t.scene);f.name=r.name||"",l.color&&(f.diffuse=ue.FromArray(l.color)),e=f}else if(s.type==="point"){var x=s[s.type],_=new Kt(r.light,z.Zero(),t.scene);_.name=r.name||"",x.color&&(_.diffuse=ue.FromArray(x.color)),e=_}else if(s.type==="spot"){var h=s[s.type],d=new ft(r.light,z.Zero(),z.Zero(),0,0,t.scene);d.name=r.name||"",h.color&&(d.diffuse=ue.FromArray(h.color)),h.fallOfAngle&&(d.angle=h.fallOfAngle),h.fallOffExponent&&(d.exponent=h.fallOffExponent),e=d}}}else if(r.camera&&!r.babylonNode&&!t.importOnlyMeshes){var v=t.cameras[r.camera];if(v){if(t.scene._blockEntityCollection=!!t.assetContainer,v.type==="orthographic"){var m=new gt(r.camera,z.Zero(),t.scene,!1);m.name=r.name||"",m.mode=Fr.ORTHOGRAPHIC_CAMERA,m.attachControl(),e=m,m._parentContainer=t.assetContainer}else if(v.type==="perspective"){var p=v[v.type],A=new gt(r.camera,z.Zero(),t.scene,!1);A.name=r.name||"",A.attachControl(),p.aspectRatio||(p.aspectRatio=t.scene.getEngine().getRenderWidth()/t.scene.getEngine().getRenderHeight()),p.znear&&p.zfar&&(A.maxZ=p.zfar,A.minZ=p.znear),e=A,A._parentContainer=t.assetContainer}t.scene._blockEntityCollection=!1}}if(!r.jointName){if(r.babylonNode)return r.babylonNode;if(e===null){t.scene._blockEntityCollection=!!t.assetContainer;var T=new Ze(r.name||"",t.scene);T._parentContainer=t.assetContainer,t.scene._blockEntityCollection=!1,r.babylonNode=T,e=T}}if(e!==null){if(r.matrix&&e instanceof Ze)Ls(e,r);else{var y=r.translation||[0,0,0],b=r.rotation||[0,0,0,1],g=r.scale||[1,1,1];Et(e,z.FromArray(y),Se.FromArray(b),z.FromArray(g))}e.updateCache(!0),r.babylonNode=e}return e},_n=function(t,r,n){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=t.nodes[r],o=null;if(t.importOnlyMeshes&&!e&&t.importMeshesNames?t.importMeshesNames.indexOf(a.name||"")!==-1||t.importMeshesNames.length===0?e=!0:e=!1:e=!0,!a.jointName&&e&&(o=Ms(t,a,r),o!==null&&(o.id=r,o.parent=n)),a.children)for(var i=0;i<a.children.length;i++)_n(t,a.children[i],o,e)},vr=function(t){var r=t.currentScene;if(r)for(var n=0;n<r.nodes.length;n++)_n(t,r.nodes[n],null);else for(var e in t.scenes){r=t.scenes[e];for(var a=0;a<r.nodes.length;a++)_n(t,r.nodes[a],null)}Ws(t);for(var o=0;o<t.scene.skeletons.length;o++){var i=t.scene.skeletons[o];t.scene.beginAnimation(i,0,Number.MAX_VALUE,!0,1)}},Ns=function(t,r,n,e,a,o,i){var s=o.values||a.parameters;for(var u in n){var c=n[u],l=c.type;if(l===Oe.FLOAT_MAT2||l===Oe.FLOAT_MAT3||l===Oe.FLOAT_MAT4){if(c.semantic&&!c.source&&!c.node)Ee.SetMatrix(r.scene,t,c,u,e.getEffect());else if(c.semantic&&(c.source||c.node)){var f=r.scene.getNodeByName(c.source||c.node||"");if(f===null&&(f=r.scene.getNodeById(c.source||c.node||"")),f===null)continue;Ee.SetMatrix(r.scene,f,c,u,e.getEffect())}}else{var x=s[a.uniforms[u]];if(!x)continue;if(l===Oe.SAMPLER_2D){var _=r.textures[o.values?x:c.value].babylonTexture;if(_==null)continue;e.getEffect().setTexture(u,_)}else Ee.SetUniform(e.getEffect(),u,x,l)}}i(e)},Is=function(t,r,n,e,a){var o=function(c){var l=a[c],f=l.type,x=i[s[c]];if(x===void 0&&(x=l.value),!x)return"continue";var _=function(h){return function(d){l.value&&h&&(r.setTexture(h,d),delete a[h])}};f===Oe.SAMPLER_2D?je.LoadTextureAsync(t,e.values?x:l.value,_(c),function(){return _(null)}):l.value&&Ee.SetUniform(r,c,e.values?x:l.value,f)&&delete a[c]},i=e.values||n.parameters,s=n.uniforms;for(var u in a)o(u)},Rs=function(t,r,n){return function(e,a){r.dispose(!0),n("Cannot compile program named "+t.name+". Error: "+a+". Default material will be applied")}},Gs=function(t,r,n,e,a,o){return function(i){Is(t,r,n,e,a),r.onBind=function(s){Ns(s,t,a,r,n,e,o)}}},yr=function(t,r,n){for(var e in r.uniforms){var a=r.uniforms[e],o=r.parameters[a];if(t.currentIdentifier===e&&o.semantic&&!o.source&&!o.node){var i=$r.indexOf(o.semantic);if(i!==-1)return delete n[e],Jr[i]}}return t.currentIdentifier},mr=function(t){for(var r in t.materials)je.LoadMaterialAsync(t,r,function(){},function(){})},Ue=function(){function t(){xt(this,t)}return dt(t,null,[{key:"CreateRuntime",value:function(n,e,a){var o={extensions:{},accessors:{},buffers:{},bufferViews:{},meshes:{},lights:{},cameras:{},nodes:{},images:{},textures:{},shaders:{},programs:{},samplers:{},techniques:{},materials:{},animations:{},skins:{},extensionsUsed:[],scenes:{},buffersCount:0,shaderscount:0,scene:e,rootUrl:a,loadedBufferCount:0,loadedBufferViews:{},loadedShaderCount:0,importOnlyMeshes:!1,dummyNodes:[],assetContainer:null};return n.extensions&&we(n.extensions,"extensions",o),n.extensionsUsed&&we(n.extensionsUsed,"extensionsUsed",o),n.buffers&&ws(n.buffers,o),n.bufferViews&&we(n.bufferViews,"bufferViews",o),n.accessors&&we(n.accessors,"accessors",o),n.meshes&&we(n.meshes,"meshes",o),n.lights&&we(n.lights,"lights",o),n.cameras&&we(n.cameras,"cameras",o),n.nodes&&we(n.nodes,"nodes",o),n.images&&we(n.images,"images",o),n.textures&&we(n.textures,"textures",o),n.shaders&&ks(n.shaders,o),n.programs&&we(n.programs,"programs",o),n.samplers&&we(n.samplers,"samplers",o),n.techniques&&we(n.techniques,"techniques",o),n.materials&&we(n.materials,"materials",o),n.animations&&we(n.animations,"animations",o),n.skins&&we(n.skins,"skins",o),n.scenes&&(o.scenes=n.scenes),n.scene&&n.scenes&&(o.currentScene=n.scenes[n.scene]),o}},{key:"LoadBufferAsync",value:function(n,e,a,o,i){var s=n.buffers[e];se.IsBase64(s.uri)?setTimeout(function(){return a(new Uint8Array(se.DecodeBase64(s.uri)))}):se.LoadFile(n.rootUrl+s.uri,function(u){return a(new Uint8Array(u))},i,void 0,!0,function(u){u&&o(u.status+" "+u.statusText)})}},{key:"LoadTextureBufferAsync",value:function(n,e,a,o){var i=n.textures[e];if(!i||!i.source){o("");return}if(i.babylonTexture){a(null);return}var s=n.images[i.source];se.IsBase64(s.uri)?setTimeout(function(){return a(new Uint8Array(se.DecodeBase64(s.uri)))}):se.LoadFile(n.rootUrl+s.uri,function(u){return a(new Uint8Array(u))},void 0,void 0,!0,function(u){u&&o(u.status+" "+u.statusText)})}},{key:"CreateTextureAsync",value:function(n,e,a,o){var i=n.textures[e];if(i.babylonTexture){o(i.babylonTexture);return}var s=n.samplers[i.sampler],u=s.minFilter===Fe.NEAREST_MIPMAP_NEAREST||s.minFilter===Fe.NEAREST_MIPMAP_LINEAR||s.minFilter===Fe.LINEAR_MIPMAP_NEAREST||s.minFilter===Fe.LINEAR_MIPMAP_LINEAR,c=fe.BILINEAR_SAMPLINGMODE,l=a==null?new Blob:new Blob([a]),f=URL.createObjectURL(l),x=function(){return URL.revokeObjectURL(f)},_=new fe(f,n.scene,!u,!0,c,x,x);s.wrapS!==void 0&&(_.wrapU=Ee.GetWrapMode(s.wrapS)),s.wrapT!==void 0&&(_.wrapV=Ee.GetWrapMode(s.wrapT)),_.name=e,i.babylonTexture=_,o(_)}},{key:"LoadShaderStringAsync",value:function(n,e,a,o){var i=n.shaders[e];if(se.IsBase64(i.uri)){var s=atob(i.uri.split(",")[1]);a&&a(s)}else se.LoadFile(n.rootUrl+i.uri,a,void 0,void 0,!1,function(u){u&&o&&o(u.status+" "+u.statusText)})}},{key:"LoadMaterialAsync",value:function(n,e,a,o){var i=n.materials[e];if(!i.technique){o&&o("No technique found.");return}var s=n.techniques[i.technique];if(!s){n.scene._blockEntityCollection=!!n.assetContainer;var u=new qt(e,n.scene);u._parentContainer=n.assetContainer,n.scene._blockEntityCollection=!1,u.diffuseColor=new ue(.5,.5,.5),u.sideOrientation=Ne.CounterClockWiseSideOrientation,a(u);return}var c=n.programs[s.program],l=s.states,f=ze.ShadersStore[c.vertexShader+"VertexShader"],x=ze.ShadersStore[c.fragmentShader+"PixelShader"],_="",h="",d=new dr(f),v=new dr(x),m={},p=[],A=[],T=[];for(var y in s.uniforms){var b=s.uniforms[y],g=s.parameters[b];if(m[y]=g,g.semantic&&!g.node&&!g.source){var k=$r.indexOf(g.semantic);k!==-1?(p.push(Jr[k]),delete m[y]):p.push(y)}else g.type===Oe.SAMPLER_2D?T.push(y):p.push(y)}for(var W in s.attributes){var O=s.attributes[W],S=s.parameters[O];if(S.semantic){var w=_r(S);w&&A.push(w)}}for(;!d.isEnd()&&d.getNextToken();){var L=d.currentToken;if(L!==Je.IDENTIFIER){_+=d.currentString;continue}var q=!1;for(var E in s.attributes){var N=s.attributes[E],$=s.parameters[N];if(d.currentIdentifier===E&&$.semantic){_+=_r($),q=!0;break}}q||(_+=yr(d,s,m))}for(;!v.isEnd()&&v.getNextToken();){var J=v.currentToken;if(J!==Je.IDENTIFIER){h+=v.currentString;continue}h+=yr(v,s,m)}var C={vertex:c.vertexShader+e,fragment:c.fragmentShader+e},D={attributes:A,uniforms:p,samplers:T,needAlphaBlending:l&&l.enable&&l.enable.indexOf(3042)!==-1};ze.ShadersStore[c.vertexShader+e+"VertexShader"]=_,ze.ShadersStore[c.fragmentShader+e+"PixelShader"]=h;var I=new Rr(e,n.scene,C,D);if(I.onError=Rs(c,I,o),I.onCompiled=Gs(n,I,s,i,m,a),I.sideOrientation=Ne.CounterClockWiseSideOrientation,l&&l.functions){var H=l.functions;H.cullFace&&H.cullFace[0]!==St.BACK&&(I.backFaceCulling=!1);var R=H.blendFuncSeparate;R&&(R[0]===_e.SRC_ALPHA&&R[1]===_e.ONE_MINUS_SRC_ALPHA&&R[2]===_e.ONE&&R[3]===_e.ONE?I.alphaMode=Ye.ALPHA_COMBINE:R[0]===_e.ONE&&R[1]===_e.ONE&&R[2]===_e.ZERO&&R[3]===_e.ONE?I.alphaMode=Ye.ALPHA_ONEONE:R[0]===_e.SRC_ALPHA&&R[1]===_e.ONE&&R[2]===_e.ZERO&&R[3]===_e.ONE?I.alphaMode=Ye.ALPHA_ADD:R[0]===_e.ZERO&&R[1]===_e.ONE_MINUS_SRC_COLOR&&R[2]===_e.ONE&&R[3]===_e.ONE?I.alphaMode=Ye.ALPHA_SUBTRACT:R[0]===_e.DST_COLOR&&R[1]===_e.ZERO&&R[2]===_e.ONE&&R[3]===_e.ONE?I.alphaMode=Ye.ALPHA_MULTIPLY:R[0]===_e.SRC_ALPHA&&R[1]===_e.ONE_MINUS_SRC_COLOR&&R[2]===_e.ONE&&R[3]===_e.ONE&&(I.alphaMode=Ye.ALPHA_MAXIMIZED))}}}]),t}(),an=function(){function t(){xt(this,t)}return dt(t,[{key:"dispose",value:function(){}},{key:"_importMeshAsync",value:function(n,e,a,o,i,s,u,c){var l=this;return e.useRightHandedSystem=!0,je.LoadRuntimeAsync(e,a,o,function(f){f.assetContainer=i,f.importOnlyMeshes=!0,n===""?f.importMeshesNames=[]:typeof n=="string"?f.importMeshesNames=[n]:n&&!(n instanceof Array)?f.importMeshesNames=[n]:(f.importMeshesNames=[],se.Warn("Argument meshesNames must be of type string or string[]")),l._createNodes(f);var x=[],_=[];for(var h in f.nodes){var d=f.nodes[h];d.babylonNode instanceof Gr&&x.push(d.babylonNode)}for(var v in f.skins){var m=f.skins[v];m.babylonSkeleton instanceof Dt&&_.push(m.babylonSkeleton)}l._loadBuffersAsync(f,function(){l._loadShadersAsync(f,function(){mr(f),vr(f),!Be.IncrementalLoading&&s&&s(x,_)})}),Be.IncrementalLoading&&s&&s(x,_)},c),!0}},{key:"importMeshAsync",value:function(n,e,a,o,i,s){var u=this;return new Promise(function(c,l){u._importMeshAsync(n,e,o,i,a,function(f,x){c({meshes:f,particleSystems:[],skeletons:x,animationGroups:[],lights:[],transformNodes:[],geometries:[],spriteManagers:[]})},s,function(f){l(new Error(f))})})}},{key:"_loadAsync",value:function(n,e,a,o,i,s){var u=this;n.useRightHandedSystem=!0,je.LoadRuntimeAsync(n,e,a,function(c){je.LoadRuntimeExtensionsAsync(c,function(){u._createNodes(c),u._loadBuffersAsync(c,function(){u._loadShadersAsync(c,function(){mr(c),vr(c),Be.IncrementalLoading||o()})}),Be.IncrementalLoading&&o()},s)},s)}},{key:"loadAsync",value:function(n,e,a,o){var i=this;return new Promise(function(s,u){i._loadAsync(n,e,a,function(){s()},o,function(c){u(new Error(c))})})}},{key:"_loadShadersAsync",value:function(n,e){var a=!1,o=function(u,c){je.LoadShaderStringAsync(n,u,function(l){l instanceof ArrayBuffer||(n.loadedShaderCount++,l&&(ze.ShadersStore[u+(c.type===Wt.VERTEX?"VertexShader":"PixelShader")]=l),n.loadedShaderCount===n.shaderscount&&e())},function(){se.Error("Error when loading shader program named "+u+" located at "+c.uri)})};for(var i in n.shaders){a=!0;var s=n.shaders[i];s?o.bind(this,i,s)():se.Error("No shader named: "+i)}a||e()}},{key:"_loadBuffersAsync",value:function(n,e){var a=!1,o=function(u,c){je.LoadBufferAsync(n,u,function(l){n.loadedBufferCount++,l&&(l.byteLength!=n.buffers[u].byteLength&&se.Error("Buffer named "+u+" is length "+l.byteLength+". Expected: "+c.byteLength),n.loadedBufferViews[u]=l),n.loadedBufferCount===n.buffersCount&&e()},function(){se.Error("Error when loading buffer named "+u+" located at "+c.uri)})};for(var i in n.buffers){a=!0;var s=n.buffers[i];s?o.bind(this,i,s)():se.Error("No buffer named: "+i)}a||e()}},{key:"_createNodes",value:function(n){var e=n.currentScene;if(e)for(var a=0;a<e.nodes.length;a++)_n(n,e.nodes[a],null);else for(var o in n.scenes){e=n.scenes[o];for(var i=0;i<e.nodes.length;i++)_n(n,e.nodes[i],null)}}}],[{key:"RegisterExtension",value:function(n){if(t.Extensions[n.name]){se.Error('Tool with the same name "'+n.name+'" already exists');return}t.Extensions[n.name]=n}}]),t}();an.Extensions={};var je=function(){function t(r){xt(this,t),this._name=r}return dt(t,[{key:"name",get:function(){return this._name}},{key:"loadRuntimeAsync",value:function(n,e,a,o,i){return!1}},{key:"loadRuntimeExtensionsAsync",value:function(n,e,a){return!1}},{key:"loadBufferAsync",value:function(n,e,a,o,i){return!1}},{key:"loadTextureBufferAsync",value:function(n,e,a,o){return!1}},{key:"createTextureAsync",value:function(n,e,a,o,i){return!1}},{key:"loadShaderStringAsync",value:function(n,e,a,o){return!1}},{key:"loadMaterialAsync",value:function(n,e,a,o){return!1}}],[{key:"LoadRuntimeAsync",value:function(n,e,a,o,i){t._ApplyExtensions(function(s){return s.loadRuntimeAsync(n,e,a,o,i)},function(){setTimeout(function(){o&&o(Ue.CreateRuntime(e.json,n,a))})})}},{key:"LoadRuntimeExtensionsAsync",value:function(n,e,a){t._ApplyExtensions(function(o){return o.loadRuntimeExtensionsAsync(n,e,a)},function(){setTimeout(function(){e()})})}},{key:"LoadBufferAsync",value:function(n,e,a,o,i){t._ApplyExtensions(function(s){return s.loadBufferAsync(n,e,a,o,i)},function(){Ue.LoadBufferAsync(n,e,a,o,i)})}},{key:"LoadTextureAsync",value:function(n,e,a,o){t._LoadTextureBufferAsync(n,e,function(i){i&&t._CreateTextureAsync(n,e,i,a,o)},o)}},{key:"LoadShaderStringAsync",value:function(n,e,a,o){t._ApplyExtensions(function(i){return i.loadShaderStringAsync(n,e,a,o)},function(){Ue.LoadShaderStringAsync(n,e,a,o)})}},{key:"LoadMaterialAsync",value:function(n,e,a,o){t._ApplyExtensions(function(i){return i.loadMaterialAsync(n,e,a,o)},function(){Ue.LoadMaterialAsync(n,e,a,o)})}},{key:"_LoadTextureBufferAsync",value:function(n,e,a,o){t._ApplyExtensions(function(i){return i.loadTextureBufferAsync(n,e,a,o)},function(){Ue.LoadTextureBufferAsync(n,e,a,o)})}},{key:"_CreateTextureAsync",value:function(n,e,a,o,i){t._ApplyExtensions(function(s){return s.createTextureAsync(n,e,a,o,i)},function(){Ue.CreateTextureAsync(n,e,a,o)})}},{key:"_ApplyExtensions",value:function(n,e){for(var a in an.Extensions){var o=an.Extensions[a];if(n(o))return}e()}}]),t}();Be._CreateGLTF1Loader=function(){return new an};function Fs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bs(t,r,n){return r=kn(r),js(t,Yr()?Reflect.construct(r,n,kn(t).constructor):r.apply(t,n))}function Vs(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ds(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function qs(t,r,n){return Ds(t.prototype,r),t}function kn(t){return kn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},kn(t)}function Us(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Ct(t,r)}function js(t,r){return r&&(Ks(r)==="object"||typeof r=="function")?r:Fs(t)}function Ct(t,r){return Ct=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e},Ct(t,r)}function Ks(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}function Yr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yr=function(){return!!t})()}var Hs="binary_glTF",$s=function(t){Us(r,t);function r(){return Vs(this,r),Bs(this,r,["KHR_binary_glTF"])}return qs(r,[{key:"loadRuntimeAsync",value:function(e,a,o,i){var s=a.json.extensionsUsed;return!s||s.indexOf(this.name)===-1||!a.bin?!1:(this._bin=a.bin,i(Ue.CreateRuntime(a.json,e,o)),!0)}},{key:"loadBufferAsync",value:function(e,a,o,i){return e.extensionsUsed.indexOf(this.name)===-1||a!==Hs?!1:(this._bin.readAsync(0,this._bin.byteLength).then(o,function(s){return i(s.message)}),!0)}},{key:"loadTextureBufferAsync",value:function(e,a,o){var i=e.textures[a],s=e.images[i.source];if(!s.extensions||!(this.name in s.extensions))return!1;var u=s.extensions[this.name],c=e.bufferViews[u.bufferView],l=Ee.GetBufferFromBufferView(e,c,0,c.byteLength,$e.UNSIGNED_BYTE);return o(l),!0}},{key:"loadShaderStringAsync",value:function(e,a,o){var i=e.shaders[a];if(!i.extensions||!(this.name in i.extensions))return!1;var s=i.extensions[this.name],u=e.bufferViews[s.bufferView],c=Ee.GetBufferFromBufferView(e,u,0,u.byteLength,$e.UNSIGNED_BYTE);return setTimeout(function(){var l=Ee.DecodeBufferToText(c);o(l)}),!0}}]),r}(je);an.RegisterExtension(new $s);function Js(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qs(t,r,n){return r=On(r),eu(t,zr()?Reflect.construct(r,n,On(t).constructor):r.apply(t,n))}function Ys(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function zs(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Zs(t,r,n){return zs(t.prototype,r),t}function On(t){return On=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},On(t)}function Xs(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Pt(t,r)}function eu(t,r){return r&&(nu(r)==="object"||typeof r=="function")?r:Js(t)}function Pt(t,r){return Pt=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e},Pt(t,r)}function nu(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}function zr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zr=function(){return!!t})()}var tu=function(t){Xs(r,t);function r(){return Ys(this,r),Qs(this,r,["KHR_materials_common"])}return Zs(r,[{key:"loadRuntimeExtensionsAsync",value:function(e){if(!e.extensions)return!1;var a=e.extensions[this.name];if(!a)return!1;var o=a.lights;if(o)for(var i in o){var s=o[i];switch(s.type){case"ambient":{var u=new Ut(s.name,new z(0,1,0),e.scene),c=s.ambient;c&&(u.diffuse=ue.FromArray(c.color||[1,1,1]));break}case"point":{var l=new Kt(s.name,new z(10,10,10),e.scene),f=s.point;f&&(l.diffuse=ue.FromArray(f.color||[1,1,1]));break}case"directional":{var x=new jt(s.name,new z(0,-1,0),e.scene),_=s.directional;_&&(x.diffuse=ue.FromArray(_.color||[1,1,1]));break}case"spot":{var h=s.spot;if(h){var d=new ft(s.name,new z(0,10,0),new z(0,-1,0),h.fallOffAngle||Math.PI,h.fallOffExponent||0,e.scene);d.diffuse=ue.FromArray(h.color||[1,1,1])}break}default:se.Warn('GLTF Material Common extension: light type "'+s.type+" not supported");break}}return!1}},{key:"loadMaterialAsync",value:function(e,a,o,i){var s=e.materials[a];if(!s||!s.extensions)return!1;var u=s.extensions[this.name];if(!u)return!1;var c=new qt(a,e.scene);return c.sideOrientation=Ne.CounterClockWiseSideOrientation,u.technique==="CONSTANT"&&(c.disableLighting=!0),c.backFaceCulling=u.doubleSided===void 0?!1:!u.doubleSided,c.alpha=u.values.transparency===void 0?1:u.values.transparency,c.specularPower=u.values.shininess===void 0?0:u.values.shininess,typeof u.values.ambient=="string"?this._loadTexture(e,u.values.ambient,c,"ambientTexture",i):c.ambientColor=ue.FromArray(u.values.ambient||[0,0,0]),typeof u.values.diffuse=="string"?this._loadTexture(e,u.values.diffuse,c,"diffuseTexture",i):c.diffuseColor=ue.FromArray(u.values.diffuse||[0,0,0]),typeof u.values.emission=="string"?this._loadTexture(e,u.values.emission,c,"emissiveTexture",i):c.emissiveColor=ue.FromArray(u.values.emission||[0,0,0]),typeof u.values.specular=="string"?this._loadTexture(e,u.values.specular,c,"specularTexture",i):c.specularColor=ue.FromArray(u.values.specular||[0,0,0]),!0}},{key:"_loadTexture",value:function(e,a,o,i,s){Ue.LoadTextureBufferAsync(e,a,function(u){Ue.CreateTextureAsync(e,a,u,function(c){return o[i]=c})},s)}}]),r}(je);an.RegisterExtension(new tu);function ru(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zr(t,r,n){return r=Wn(r),ou(t,ea()?Reflect.construct(r,n||[],Wn(t).constructor):r.apply(t,n))}function $t(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function au(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Jt(t,r,n){return r&&au(t.prototype,r),t}function Wn(t){return Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Wn(t)}function Xr(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&Lt(t,r)}function ou(t,r){return r&&(iu(r)==="object"||typeof r=="function")?r:ru(t)}function Lt(t,r){return Lt=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e},Lt(t,r)}function iu(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}function ea(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ea=function(){return!!t})()}function br(t,r,n,e){return z.FromArray(r,n).scaleInPlace(e)}function su(t,r,n,e){return Se.FromArray(r,n).scaleInPlace(e)}function uu(t,r,n,e){for(var a=new Array(t._numMorphTargets),o=0;o<a.length;o++)a[o]=r[n++]*e;return a}var yn=function(){function t(r,n,e,a){$t(this,t),this.type=r,this.name=n,this.getValue=e,this.getStride=a}return Jt(t,[{key:"_buildAnimation",value:function(n,e,a){var o=new Q(n,this.name,e,this.type);return o.setKeys(a),o}}]),t}(),bt=function(t){Xr(r,t);function r(){return $t(this,r),Zr(this,r,arguments)}return Jt(r,[{key:"buildAnimations",value:function(e,a,o,i,s){s(e._babylonTransformNode,this._buildAnimation(a,o,i))}}]),r}(yn),cu=function(t){Xr(r,t);function r(){return $t(this,r),Zr(this,r,arguments)}return Jt(r,[{key:"buildAnimations",value:function(e,a,o,i,s){if(e._numMorphTargets)for(var u,c=function(f){var x=new Q("".concat(a,"_").concat(f),u.name,o,u.type);if(x.setKeys(i.map(function(y){return{frame:y.frame,inTangent:y.inTangent?y.inTangent[f]:void 0,value:y.value[f],outTangent:y.outTangent?y.outTangent[f]:void 0,interpolation:y.interpolation}})),e._primitiveBabylonMeshes){var _=!0,h=!1,d=void 0;try{for(var v=e._primitiveBabylonMeshes[Symbol.iterator](),m;!(_=(m=v.next()).done);_=!0){var p=m.value;if(p.morphTargetManager){var A=p.morphTargetManager.getTarget(f),T=x.clone();A.animations.push(T),s(A,T)}}}catch(y){h=!0,d=y}finally{try{!_&&v.return!=null&&v.return()}finally{if(h)throw d}}}},l=0;l<e._numMorphTargets;l++)u=this,c(l)}}]),r}(yn),ln={translation:[new bt(Q.ANIMATIONTYPE_VECTOR3,"position",br,function(){return 3})],rotation:[new bt(Q.ANIMATIONTYPE_QUATERNION,"rotationQuaternion",su,function(){return 4})],scale:[new bt(Q.ANIMATIONTYPE_VECTOR3,"scaling",br,function(){return 3})],weights:[new cu(Q.ANIMATIONTYPE_FLOAT,"influence",uu,function(t){return t._numMorphTargets})]},Qt=new Map,lu=Qt;function oe(t,r,n){ae(t)&&ye.Warn("Extension with the name '".concat(t,"' already exists")),Qt.set(t,{isGLTFExtension:r,factory:n})}function ae(t){return Qt.delete(t)}function Mt(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function fu(t){if(Array.isArray(t))return t}function xu(t){if(Array.isArray(t))return Mt(t)}function pr(t,r,n,e,a,o,i){try{var s=t[o](i),u=s.value}catch(c){n(c);return}s.done?r(u):Promise.resolve(u).then(e,a)}function pt(t){return function(){var r=this,n=arguments;return new Promise(function(e,a){var o=t.apply(r,n);function i(u){pr(o,e,a,i,s,"next",u)}function s(u){pr(o,e,a,i,s,"throw",u)}i(void 0)})}}function na(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ar(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function ta(t,r,n){return r&&Ar(t.prototype,r),n&&Ar(t,n),t}function du(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _u(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var e=[],a=!0,o=!1,i,s;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(e.push(i.value),!(r&&e.length===r));a=!0);}catch(u){o=!0,s=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}return e}}function hu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vu(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gr(t,r){return fu(t)||_u(t,r)||ra(t,r)||hu()}function yu(t){return xu(t)||du(t)||ra(t)||vu()}function ra(t,r){if(t){if(typeof t=="string")return Mt(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mt(t,r)}}function At(t,r){var n,e,a,o,i={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,e&&(a=c[0]&2?e.return:c[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,c[1])).done)return a;switch(e=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,e=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){i=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(c[0]===6&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=r.call(t,i)}catch(l){c=[6,l],e=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var U=function(){function t(){na(this,t)}return ta(t,null,[{key:"Get",value:function(n,e,a){if(!e||a==null||!e[a])throw new Error("".concat(n,": Failed to find index (").concat(a,")"));return e[a]}},{key:"TryGet",value:function(n,e){return!n||e==null||!n[e]?null:n[e]}},{key:"Assign",value:function(n){if(n)for(var e=0;e<n.length;e++)n[e].index=e}}]),t}();function aa(t){if(t.min&&t.max){var r=t.min,n=t.max,e=Me.Vector3[0].copyFromFloats(r[0],r[1],r[2]),a=Me.Vector3[1].copyFromFloats(n[0],n[1],n[2]);if(t.normalized&&t.componentType!==5126){var o=1;switch(t.componentType){case 5120:o=127;break;case 5121:o=255;break;case 5122:o=32767;break;case 5123:o=65535;break}var i=1/o;e.scaleInPlace(i),a.scaleInPlace(i)}return new qa(e,a)}return null}var re=function(){function t(r){na(this,t),this._completePromises=new Array,this._assetContainer=null,this._babylonLights=[],this._disableInstancedMesh=0,this._allMaterialsDirtyRequired=!1,this._extensions=new Array,this._disposed=!1,this._rootUrl=null,this._fileName=null,this._uniqueRootUrl=null,this._bin=null,this._rootBabylonMesh=null,this._defaultBabylonMaterialData={},this._postSceneLoadActions=new Array,this._parent=r}return ta(t,[{key:"gltf",get:function(){if(!this._gltf)throw new Error("glTF JSON is not available");return this._gltf}},{key:"bin",get:function(){return this._bin}},{key:"parent",get:function(){return this._parent}},{key:"babylonScene",get:function(){if(!this._babylonScene)throw new Error("Scene is not available");return this._babylonScene}},{key:"rootBabylonMesh",get:function(){return this._rootBabylonMesh}},{key:"rootUrl",get:function(){return this._rootUrl}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._completePromises.length=0,this._extensions.forEach(function(n){return n.dispose&&n.dispose()}),this._extensions.length=0,this._gltf=null,this._bin=null,this._babylonScene=null,this._rootBabylonMesh=null,this._defaultBabylonMaterialData={},this._postSceneLoadActions.length=0,this._parent.dispose())}},{key:"importMeshAsync",value:function(n,e,a,o,i,s){var u=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"";return Promise.resolve().then(function(){u._babylonScene=e,u._assetContainer=a,u._loadData(o);var l=null;if(n){var f={};if(u._gltf.nodes){var x=!0,_=!1,h=void 0;try{for(var d=u._gltf.nodes[Symbol.iterator](),v;!(x=(v=d.next()).done);x=!0){var m=v.value;m.name&&(f[m.name]=m.index)}}catch(A){_=!0,h=A}finally{try{!x&&d.return!=null&&d.return()}finally{if(_)throw h}}}var p=n instanceof Array?n:[n];l=p.map(function(A){var T=f[A];if(T===void 0)throw new Error("Failed to find node '".concat(A,"'"));return T})}return u._loadAsync(i,c,l,function(){return{meshes:u._getMeshes(),particleSystems:[],skeletons:u._getSkeletons(),animationGroups:u._getAnimationGroups(),lights:u._babylonLights,transformNodes:u._getTransformNodes(),geometries:u._getGeometries(),spriteManagers:[]}})})}},{key:"loadAsync",value:function(n,e,a,o){var i=this,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"";return Promise.resolve().then(function(){return i._babylonScene=n,i._loadData(e),i._loadAsync(a,s,null,function(){})})}},{key:"_loadAsync",value:function(n,e,a,o){var i=this,s=this;return Promise.resolve().then(pt(function(){var u,c,l,f,x,_,h,d,v,m;return At(this,function(p){switch(p.label){case 0:return s._rootUrl=n,s._uniqueRootUrl=!n.startsWith("file:")&&e?n:"".concat(n).concat(Date.now(),"/"),s._fileName=e,s._allMaterialsDirtyRequired=!1,[4,s._loadExtensionsAsync()];case 1:if(p.sent(),u="".concat(Pe[Pe.LOADING]," => ").concat(Pe[Pe.READY]),c="".concat(Pe[Pe.LOADING]," => ").concat(Pe[Pe.COMPLETE]),s._parent._startPerformanceCounter(u),s._parent._startPerformanceCounter(c),s._parent._setState(Pe.LOADING),s._extensionsOnLoading(),l=new Array,f=s._babylonScene.blockMaterialDirtyMechanism,s._babylonScene.blockMaterialDirtyMechanism=!0,s.parent.loadOnlyMaterials||(a?l.push(s.loadSceneAsync("/nodes",{nodes:a,index:-1})):(s._gltf.scene!=null||s._gltf.scenes&&s._gltf.scenes[0])&&(x=U.Get("/scene",s._gltf.scenes,s._gltf.scene||0),l.push(s.loadSceneAsync("/scenes/".concat(x.index),x)))),!s.parent.skipMaterials&&s.parent.loadAllMaterials&&s._gltf.materials)for(_=0;_<s._gltf.materials.length;++_)h=s._gltf.materials[_],d="/materials/"+_,v=Ne.TriangleFillMode,l.push(s._loadMaterialAsync(d,h,null,v,function(){}));return s._allMaterialsDirtyRequired?s._babylonScene.blockMaterialDirtyMechanism=f:s._babylonScene._forceBlockMaterialDirtyMechanism(f),s._parent.compileMaterials&&l.push(s._compileMaterialsAsync()),s._parent.compileShadowGenerators&&l.push(s._compileShadowGeneratorsAsync()),m=Promise.all(l).then(function(){return s._rootBabylonMesh&&s._rootBabylonMesh!==s._parent.customRootNode&&s._rootBabylonMesh.setEnabled(!0),s._extensionsOnReady(),s._parent._setState(Pe.READY),s._startAnimations(),o()}),[2,m.then(function(A){return s._parent._endPerformanceCounter(u),se.SetImmediate(function(){s._disposed||Promise.all(s._completePromises).then(function(){s._parent._endPerformanceCounter(c),s._parent._setState(Pe.COMPLETE),s._parent.onCompleteObservable.notifyObservers(void 0),s._parent.onCompleteObservable.clear(),s.dispose()},function(T){s._parent.onErrorObservable.notifyObservers(T),s._parent.onErrorObservable.clear(),s.dispose()})}),A})]}})})).catch(function(u){throw i._disposed||(i._parent.onErrorObservable.notifyObservers(u),i._parent.onErrorObservable.clear(),i.dispose()),u})}},{key:"_loadData",value:function(n){if(this._gltf=n.json,this._setupData(),n.bin){var e=this._gltf.buffers;if(e&&e[0]&&!e[0].uri){var a=e[0];(a.byteLength<n.bin.byteLength-3||a.byteLength>n.bin.byteLength)&&ye.Warn("Binary buffer length (".concat(a.byteLength,") from JSON does not match chunk length (").concat(n.bin.byteLength,")")),this._bin=n.bin}else ye.Warn("Unexpected BIN chunk")}}},{key:"_setupData",value:function(){if(U.Assign(this._gltf.accessors),U.Assign(this._gltf.animations),U.Assign(this._gltf.buffers),U.Assign(this._gltf.bufferViews),U.Assign(this._gltf.cameras),U.Assign(this._gltf.images),U.Assign(this._gltf.materials),U.Assign(this._gltf.meshes),U.Assign(this._gltf.nodes),U.Assign(this._gltf.samplers),U.Assign(this._gltf.scenes),U.Assign(this._gltf.skins),U.Assign(this._gltf.textures),this._gltf.nodes){var n={},e=!0,a=!1,o=void 0;try{for(var i=this._gltf.nodes[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var u=s.value;if(u.children){var c=!0,l=!1,f=void 0;try{for(var x=u.children[Symbol.iterator](),_;!(c=(_=x.next()).done);c=!0){var h=_.value;n[h]=u.index}}catch(g){l=!0,f=g}finally{try{!c&&x.return!=null&&x.return()}finally{if(l)throw f}}}}}catch(g){a=!0,o=g}finally{try{!e&&i.return!=null&&i.return()}finally{if(a)throw o}}var d=this._createRootNode(),v=!0,m=!1,p=void 0;try{for(var A=this._gltf.nodes[Symbol.iterator](),T;!(v=(T=A.next()).done);v=!0){var y=T.value,b=n[y.index];y.parent=b===void 0?d:this._gltf.nodes[b]}}catch(g){m=!0,p=g}finally{try{!v&&A.return!=null&&A.return()}finally{if(m)throw p}}}}},{key:"_loadExtensionsAsync",value:function(){var n=this;return pt(function(){var e,a,o,i,s,u,c,l,f,x,_;return At(this,function(h){switch(h.label){case 0:return a=[],lu.forEach(function(d,v){var m;((m=n.parent.extensionOptions[v])===null||m===void 0?void 0:m.enabled)===!1?d.isGLTFExtension&&n.isExtensionUsed(v)&&ye.Warn("Extension ".concat(v," is used but has been explicitly disabled.")):(!d.isGLTFExtension||n.isExtensionUsed(v))&&a.push(pt(function(){var p;return At(this,function(A){switch(A.label){case 0:return[4,d.factory(n)];case 1:return p=A.sent(),p.name!==v&&ye.Warn("The name of the glTF loader extension instance does not match the registered name: ".concat(p.name," !== ").concat(v)),n._parent.onExtensionLoadedObservable.notifyObservers(p),[2,p]}})})())}),i=(o=(e=n._extensions).push).apply,s=[e],[4,Promise.all(a)];case 1:if(i.apply(o,s.concat([yu.apply(void 0,[h.sent()])])),n._extensions.sort(function(d,v){return(d.order||Number.MAX_VALUE)-(v.order||Number.MAX_VALUE)}),n._parent.onExtensionLoadedObservable.clear(),n._gltf.extensionsRequired){u=!0,c=!1,l=void 0;try{for(f=function(){var d=_.value,v=n._extensions.some(function(p){return p.name===d&&p.enabled});if(!v){var m;throw((m=n.parent.extensionOptions[d])===null||m===void 0?void 0:m.enabled)===!1?new Error("Required extension ".concat(d," is disabled")):new Error("Required extension ".concat(d," is not available"))}},x=n._gltf.extensionsRequired[Symbol.iterator]();!(u=(_=x.next()).done);u=!0)f()}catch(d){c=!0,l=d}finally{try{!u&&x.return!=null&&x.return()}finally{if(c)throw l}}}return[2]}})})()}},{key:"_createRootNode",value:function(){if(this._parent.customRootNode!==void 0)return this._rootBabylonMesh=this._parent.customRootNode,{_babylonTransformNode:this._rootBabylonMesh===null?void 0:this._rootBabylonMesh,index:-1};this._babylonScene._blockEntityCollection=!!this._assetContainer;var n=new Ze("__root__",this._babylonScene);this._rootBabylonMesh=n,this._rootBabylonMesh._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,this._rootBabylonMesh.setEnabled(!1);var e={_babylonTransformNode:this._rootBabylonMesh,index:-1};switch(this._parent.coordinateSystemMode){case dn.AUTO:{this._babylonScene.useRightHandedSystem||(e.rotation=[0,1,0,0],e.scale=[1,1,-1],t._LoadTransform(e,this._rootBabylonMesh));break}case dn.FORCE_RIGHT_HANDED:{this._babylonScene.useRightHandedSystem=!0;break}default:throw new Error("Invalid coordinate system mode (".concat(this._parent.coordinateSystemMode,")"))}return this._parent.onMeshLoadedObservable.notifyObservers(n),e}},{key:"loadSceneAsync",value:function(n,e){var a=this,o=this._extensionsLoadSceneAsync(n,e);if(o)return o;var i=new Array;if(this.logOpen("".concat(n," ").concat(e.name||"")),e.nodes){var s=!0,u=!1,c=void 0;try{for(var l=e.nodes[Symbol.iterator](),f;!(s=(f=l.next()).done);s=!0){var x=f.value,_=U.Get("".concat(n,"/nodes/").concat(x),this._gltf.nodes,x);i.push(this.loadNodeAsync("/nodes/".concat(_.index),_,function(T){T.parent=a._rootBabylonMesh}))}}catch(T){u=!0,c=T}finally{try{!s&&l.return!=null&&l.return()}finally{if(u)throw c}}}var h=!0,d=!1,v=void 0;try{for(var m=this._postSceneLoadActions[Symbol.iterator](),p;!(h=(p=m.next()).done);h=!0){var A=p.value;A()}}catch(T){d=!0,v=T}finally{try{!h&&m.return!=null&&m.return()}finally{if(d)throw v}}return i.push(this._loadAnimationsAsync()),this.logClose(),Promise.all(i).then(function(){})}},{key:"_forEachPrimitive",value:function(n,e){if(n._primitiveBabylonMeshes){var a=!0,o=!1,i=void 0;try{for(var s=n._primitiveBabylonMeshes[Symbol.iterator](),u;!(a=(u=s.next()).done);a=!0){var c=u.value;e(c)}}catch(l){o=!0,i=l}finally{try{!a&&s.return!=null&&s.return()}finally{if(o)throw i}}}}},{key:"_getGeometries",value:function(){var n=[],e=this._gltf.nodes;if(e){var a=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),u;!(a=(u=s.next()).done);a=!0){var c=u.value;this._forEachPrimitive(c,function(l){var f=l.geometry;f&&n.indexOf(f)===-1&&n.push(f)})}}catch(l){o=!0,i=l}finally{try{!a&&s.return!=null&&s.return()}finally{if(o)throw i}}}return n}},{key:"_getMeshes",value:function(){var n=[];this._rootBabylonMesh instanceof Gr&&n.push(this._rootBabylonMesh);var e=this._gltf.nodes;if(e){var a=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),u;!(a=(u=s.next()).done);a=!0){var c=u.value;this._forEachPrimitive(c,function(l){n.push(l)})}}catch(l){o=!0,i=l}finally{try{!a&&s.return!=null&&s.return()}finally{if(o)throw i}}}return n}},{key:"_getTransformNodes",value:function(){var n=[],e=this._gltf.nodes;if(e){var a=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),u;!(a=(u=s.next()).done);a=!0){var c=u.value;c._babylonTransformNode&&c._babylonTransformNode.getClassName()==="TransformNode"&&n.push(c._babylonTransformNode),c._babylonTransformNodeForSkin&&n.push(c._babylonTransformNodeForSkin)}}catch(l){o=!0,i=l}finally{try{!a&&s.return!=null&&s.return()}finally{if(o)throw i}}}return n}},{key:"_getSkeletons",value:function(){var n=[],e=this._gltf.skins;if(e){var a=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),u;!(a=(u=s.next()).done);a=!0){var c=u.value;c._data&&n.push(c._data.babylonSkeleton)}}catch(l){o=!0,i=l}finally{try{!a&&s.return!=null&&s.return()}finally{if(o)throw i}}}return n}},{key:"_getAnimationGroups",value:function(){var n=[],e=this._gltf.animations;if(e){var a=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),u;!(a=(u=s.next()).done);a=!0){var c=u.value;c._babylonAnimationGroup&&n.push(c._babylonAnimationGroup)}}catch(l){o=!0,i=l}finally{try{!a&&s.return!=null&&s.return()}finally{if(o)throw i}}}return n}},{key:"_startAnimations",value:function(){switch(this._parent.animationStartMode){case tn.NONE:break;case tn.FIRST:{var n=this._getAnimationGroups();n.length!==0&&n[0].start(!0);break}case tn.ALL:{var e=this._getAnimationGroups(),a=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),u;!(a=(u=s.next()).done);a=!0){var c=u.value;c.start(!0)}}catch(l){o=!0,i=l}finally{try{!a&&s.return!=null&&s.return()}finally{if(o)throw i}}break}default:{ye.Error("Invalid animation start mode (".concat(this._parent.animationStartMode,")"));return}}}},{key:"loadNodeAsync",value:function(n,e){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},i=this._extensionsLoadNodeAsync(n,e,o);if(i)return i;if(e._babylonTransformNode)throw new Error("".concat(n,": Invalid recursive node hierarchy"));var s=new Array;this.logOpen("".concat(n," ").concat(e.name||""));var u=function(d){if(t.AddPointerMetadata(d,n),t._LoadTransform(e,d),e.camera!=null){var v=U.Get("".concat(n,"/camera"),a._gltf.cameras,e.camera);s.push(a.loadCameraAsync("/cameras/".concat(v.index),v,function(k){k.parent=d}))}if(e.children){var m=!0,p=!1,A=void 0;try{for(var T=e.children[Symbol.iterator](),y;!(m=(y=T.next()).done);m=!0){var b=y.value,g=U.Get("".concat(n,"/children/").concat(b),a._gltf.nodes,b);s.push(a.loadNodeAsync("/nodes/".concat(g.index),g,function(k){k.parent=d}))}}catch(k){p=!0,A=k}finally{try{!m&&T.return!=null&&T.return()}finally{if(p)throw A}}}o(d)},c=e.mesh!=null,l=this._parent.loadSkins&&e.skin!=null;if(!c||l){var f=e.name||"node".concat(e.index);this._babylonScene._blockEntityCollection=!!this._assetContainer;var x=new sr(f,this._babylonScene);x._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,e.mesh==null?e._babylonTransformNode=x:e._babylonTransformNodeForSkin=x,u(x)}if(c)if(l){var _=U.Get("".concat(n,"/mesh"),this._gltf.meshes,e.mesh);s.push(this._loadMeshAsync("/meshes/".concat(_.index),e,_,function(d){var v=e._babylonTransformNodeForSkin;d.metadata=qr(v.metadata,d.metadata||{});var m=U.Get("".concat(n,"/skin"),a._gltf.skins,e.skin);s.push(a._loadSkinAsync("/skins/".concat(m.index),e,m,function(p){a._forEachPrimitive(e,function(A){A.skeleton=p}),a._postSceneLoadActions.push(function(){if(m.skeleton!=null){var A=U.Get("/skins/".concat(m.index,"/skeleton"),a._gltf.nodes,m.skeleton).parent;e.index===A.index?d.parent=v.parent:d.parent=A._babylonTransformNode}else d.parent=a._rootBabylonMesh;a._parent.onSkinLoadedObservable.notifyObservers({node:v,skinnedNode:d})})}))}))}else{var h=U.Get("".concat(n,"/mesh"),this._gltf.meshes,e.mesh);s.push(this._loadMeshAsync("/meshes/".concat(h.index),e,h,u))}return this.logClose(),Promise.all(s).then(function(){return a._forEachPrimitive(e,function(d){d.geometry&&d.geometry.useBoundingInfoFromGeometry?d._updateBoundingInfo():d.refreshBoundingInfo(!0,!0)}),e._babylonTransformNode})}},{key:"_loadMeshAsync",value:function(n,e,a,o){var i=a.primitives;if(!i||!i.length)throw new Error("".concat(n,": Primitives are missing"));i[0].index==null&&U.Assign(i);var s=new Array;this.logOpen("".concat(n," ").concat(a.name||""));var u=e.name||"node".concat(e.index);if(i.length===1){var c=a.primitives[0];s.push(this._loadMeshPrimitiveAsync("".concat(n,"/primitives/").concat(c.index),u,e,a,c,function(v){e._babylonTransformNode=v,e._primitiveBabylonMeshes=[v]}))}else{this._babylonScene._blockEntityCollection=!!this._assetContainer,e._babylonTransformNode=new sr(u,this._babylonScene),e._babylonTransformNode._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,e._primitiveBabylonMeshes=[];var l=!0,f=!1,x=void 0;try{for(var _=i[Symbol.iterator](),h;!(l=(h=_.next()).done);l=!0){var d=h.value;s.push(this._loadMeshPrimitiveAsync("".concat(n,"/primitives/").concat(d.index),"".concat(u,"_primitive").concat(d.index),e,a,d,function(v){v.parent=e._babylonTransformNode,e._primitiveBabylonMeshes.push(v)}))}}catch(v){f=!0,x=v}finally{try{!l&&_.return!=null&&_.return()}finally{if(f)throw x}}}return o(e._babylonTransformNode),this.logClose(),Promise.all(s).then(function(){return e._babylonTransformNode})}},{key:"_loadMeshPrimitiveAsync",value:function(n,e,a,o,i,s){var u=this,c=this._extensionsLoadMeshPrimitiveAsync(n,e,a,o,i,s);if(c)return c;this.logOpen("".concat(n));var l=this._disableInstancedMesh===0&&this._parent.createInstances&&a.skin==null&&!o.primitives[0].targets,f,x;if(l&&i._instanceData)this._babylonScene._blockEntityCollection=!!this._assetContainer,f=i._instanceData.babylonSourceMesh.createInstance(e),f._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,x=i._instanceData.promise;else{var _=new Array;this._babylonScene._blockEntityCollection=!!this._assetContainer;var h=new Ze(e,this._babylonScene);h._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,h.sideOrientation=this._babylonScene.useRightHandedSystem?Ne.CounterClockWiseSideOrientation:Ne.ClockWiseSideOrientation,this._createMorphTargets(n,a,o,i,h),_.push(this._loadVertexDataAsync(n,i,h).then(function(p){return u._loadMorphTargetsAsync(n,i,h,p).then(function(){u._disposed||(u._babylonScene._blockEntityCollection=!!u._assetContainer,p.applyToMesh(h),p._parentContainer=u._assetContainer,u._babylonScene._blockEntityCollection=!1)})}));var d=t._GetDrawMode(n,i.mode);if(i.material==null){var v=this._defaultBabylonMaterialData[d];v||(v=this._createDefaultMaterial("__GLTFLoader._default",d),this._parent.onMaterialLoadedObservable.notifyObservers(v),this._defaultBabylonMaterialData[d]=v),h.material=v}else if(!this.parent.skipMaterials){var m=U.Get("".concat(n,"/material"),this._gltf.materials,i.material);_.push(this._loadMaterialAsync("/materials/".concat(m.index),m,h,d,function(p){h.material=p}))}x=Promise.all(_),l&&(i._instanceData={babylonSourceMesh:h,promise:x}),f=h}return t.AddPointerMetadata(f,n),this._parent.onMeshLoadedObservable.notifyObservers(f),s(f),this.logClose(),x.then(function(){return f})}},{key:"_loadVertexDataAsync",value:function(n,e,a){var o=this,i=this._extensionsLoadVertexDataAsync(n,e,a);if(i)return i;var s=e.attributes;if(!s)throw new Error("".concat(n,": Attributes are missing"));var u=new Array,c=new Br(a.name,this._babylonScene);if(e.indices==null)a.isUnIndexed=!0;else{var l=U.Get("".concat(n,"/indices"),this._gltf.accessors,e.indices);u.push(this._loadIndicesAccessorAsync("/accessors/".concat(l.index),l).then(function(x){c.setIndices(x)}))}var f=function(x,_,h){if(s[x]!=null){a._delayInfo=a._delayInfo||[],a._delayInfo.indexOf(_)===-1&&a._delayInfo.push(_);var d=U.Get("".concat(n,"/attributes/").concat(x),o._gltf.accessors,s[x]);u.push(o._loadVertexAccessorAsync("/accessors/".concat(d.index),d,_).then(function(v){if(v.getKind()===te.PositionKind&&!o.parent.alwaysComputeBoundingBox&&!a.skeleton){var m=aa(d);m&&(c._boundingInfo=m,c.useBoundingInfoFromGeometry=!0)}c.setVerticesBuffer(v,d.count)})),_==te.MatricesIndicesExtraKind&&(a.numBoneInfluencers=8),h&&h(d)}};return f("POSITION",te.PositionKind),f("NORMAL",te.NormalKind),f("TANGENT",te.TangentKind),f("TEXCOORD_0",te.UVKind),f("TEXCOORD_1",te.UV2Kind),f("TEXCOORD_2",te.UV3Kind),f("TEXCOORD_3",te.UV4Kind),f("TEXCOORD_4",te.UV5Kind),f("TEXCOORD_5",te.UV6Kind),f("JOINTS_0",te.MatricesIndicesKind),f("WEIGHTS_0",te.MatricesWeightsKind),f("JOINTS_1",te.MatricesIndicesExtraKind),f("WEIGHTS_1",te.MatricesWeightsExtraKind),f("COLOR_0",te.ColorKind,function(x){x.type==="VEC4"&&(a.hasVertexAlpha=!0)}),Promise.all(u).then(function(){return c})}},{key:"_createMorphTargets",value:function(n,e,a,o,i){if(!(!o.targets||!this._parent.loadMorphTargets)){if(e._numMorphTargets==null)e._numMorphTargets=o.targets.length;else if(o.targets.length!==e._numMorphTargets)throw new Error("".concat(n,": Primitives do not have the same number of targets"));var s=a.extras?a.extras.targetNames:null;this._babylonScene._blockEntityCollection=!!this._assetContainer,i.morphTargetManager=new Ga(this._babylonScene),i.morphTargetManager._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,i.morphTargetManager.areUpdatesFrozen=!0;for(var u=0;u<o.targets.length;u++){var c=e.weights?e.weights[u]:a.weights?a.weights[u]:0,l=s?s[u]:"morphTarget".concat(u);i.morphTargetManager.addTarget(new Fa(l,c,i.getScene()))}}}},{key:"_loadMorphTargetsAsync",value:function(n,e,a,o){if(!e.targets||!this._parent.loadMorphTargets)return Promise.resolve();for(var i=new Array,s=a.morphTargetManager,u=0;u<s.numTargets;u++){var c=s.getTarget(u);i.push(this._loadMorphTargetVertexDataAsync("".concat(n,"/targets/").concat(u),o,e.targets[u],c))}return Promise.all(i).then(function(){s.areUpdatesFrozen=!1})}},{key:"_loadMorphTargetVertexDataAsync",value:function(n,e,a,o){var i=this,s=new Array,u=function(c,l,f){if(a[c]!=null){var x=e.getVertexBuffer(l);if(x){var _=U.Get("".concat(n,"/").concat(c),i._gltf.accessors,a[c]);s.push(i._loadFloatAccessorAsync("/accessors/".concat(_.index),_).then(function(h){f(x,h)}))}}};return u("POSITION",te.PositionKind,function(c,l){var f=new Float32Array(l.length);c.forEach(l.length,function(x,_){f[_]=l[_]+x}),o.setPositions(f)}),u("NORMAL",te.NormalKind,function(c,l){var f=new Float32Array(l.length);c.forEach(f.length,function(x,_){f[_]=l[_]+x}),o.setNormals(f)}),u("TANGENT",te.TangentKind,function(c,l){var f=new Float32Array(l.length/3*4),x=0;c.forEach(l.length/3*4,function(_,h){(h+1)%4!==0&&(f[x]=l[x]+_,x++)}),o.setTangents(f)}),u("TEXCOORD_0",te.UVKind,function(c,l){var f=new Float32Array(l.length);c.forEach(l.length,function(x,_){f[_]=l[_]+x}),o.setUVs(f)}),u("TEXCOORD_1",te.UV2Kind,function(c,l){var f=new Float32Array(l.length);c.forEach(l.length,function(x,_){f[_]=l[_]+x}),o.setUV2s(f)}),Promise.all(s).then(function(){})}},{key:"_loadSkinAsync",value:function(n,e,a,o){var i=this;if(!this._parent.loadSkins)return Promise.resolve();var s=this._extensionsLoadSkinAsync(n,e,a);if(s)return s;if(a._data)return o(a._data.babylonSkeleton),a._data.promise;var u="skeleton".concat(a.index);this._babylonScene._blockEntityCollection=!!this._assetContainer;var c=new Dt(a.name||u,u,this._babylonScene);c._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,this._loadBones(n,a,c);var l=this._loadSkinInverseBindMatricesDataAsync(n,a).then(function(f){i._updateBoneMatrices(c,f)});return a._data={babylonSkeleton:c,promise:l},o(c),l}},{key:"_loadBones",value:function(n,e,a){if(e.skeleton==null||this._parent.alwaysComputeSkeletonRootNode){var o=this._findSkeletonRootNode("".concat(n,"/joints"),e.joints);if(o)if(e.skeleton===void 0)e.skeleton=o.index;else{var i=function(v,m){for(;m.parent;m=m.parent)if(m.parent===v)return!0;return!1},s=U.Get("".concat(n,"/skeleton"),this._gltf.nodes,e.skeleton);s!==o&&!i(s,o)&&(ye.Warn("".concat(n,"/skeleton: Overriding with nearest common ancestor as skeleton node is not a common root")),e.skeleton=o.index)}else ye.Warn("".concat(n,": Failed to find common root"))}var u={},c=!0,l=!1,f=void 0;try{for(var x=e.joints[Symbol.iterator](),_;!(c=(_=x.next()).done);c=!0){var h=_.value,d=U.Get("".concat(n,"/joints/").concat(h),this._gltf.nodes,h);this._loadBone(d,e,a,u)}}catch(v){l=!0,f=v}finally{try{!c&&x.return!=null&&x.return()}finally{if(l)throw f}}}},{key:"_findSkeletonRootNode",value:function(n,e){if(e.length===0)return null;var a={},o=!0,i=!1,s=void 0;try{for(var u=e[Symbol.iterator](),c;!(o=(c=u.next()).done);o=!0){for(var l=c.value,f=[],x=U.Get("".concat(n,"/").concat(l),this._gltf.nodes,l);x.index!==-1;)f.unshift(x),x=x.parent;a[l]=f}}catch(p){i=!0,s=p}finally{try{!o&&u.return!=null&&u.return()}finally{if(i)throw s}}for(var _=null,h=0;;++h){var d=a[e[0]];if(h>=d.length)return _;for(var v=d[h],m=1;m<e.length;++m)if(d=a[e[m]],h>=d.length||v!==d[h])return _;_=v}}},{key:"_loadBone",value:function(n,e,a,o){n._isJoint=!0;var i=o[n.index];if(i)return i;var s=null;n.index!==e.skeleton&&(n.parent&&n.parent.index!==-1?s=this._loadBone(n.parent,e,a,o):e.skeleton!==void 0&&ye.Warn("/skins/".concat(e.index,"/skeleton: Skeleton node is not a common root")));var u=e.joints.indexOf(n.index);return i=new vn(n.name||"joint".concat(n.index),a,s,this._getNodeMatrix(n),null,null,u),o[n.index]=i,this._postSceneLoadActions.push(function(){i.linkTransformNode(n._babylonTransformNode)}),i}},{key:"_loadSkinInverseBindMatricesDataAsync",value:function(n,e){if(e.inverseBindMatrices==null)return Promise.resolve(null);var a=U.Get("".concat(n,"/inverseBindMatrices"),this._gltf.accessors,e.inverseBindMatrices);return this._loadFloatAccessorAsync("/accessors/".concat(a.index),a)}},{key:"_updateBoneMatrices",value:function(n,e){var a=!0,o=!1,i=void 0;try{for(var s=n.bones[Symbol.iterator](),u;!(a=(u=s.next()).done);a=!0){var c=u.value,l=We.Identity(),f=c._index;e&&f!==-1&&(We.FromArrayToRef(e,f*16,l),l.invertToRef(l));var x=c.getParent();x&&l.multiplyToRef(x.getAbsoluteInverseBindMatrix(),l),c.updateMatrix(l,!1,!1),c._updateAbsoluteBindMatrices(void 0,!1)}}catch(_){o=!0,i=_}finally{try{!a&&s.return!=null&&s.return()}finally{if(o)throw i}}}},{key:"_getNodeMatrix",value:function(n){return n.matrix?We.FromArray(n.matrix):We.Compose(n.scale?z.FromArray(n.scale):z.One(),n.rotation?Se.FromArray(n.rotation):Se.Identity(),n.translation?z.FromArray(n.translation):z.Zero())}},{key:"loadCameraAsync",value:function(n,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=this._extensionsLoadCameraAsync(n,e,a);if(o)return o;var i=new Array;this.logOpen("".concat(n," ").concat(e.name||"")),this._babylonScene._blockEntityCollection=!!this._assetContainer;var s=new gt(e.name||"camera".concat(e.index),z.Zero(),this._babylonScene,!1);switch(s._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,s.ignoreParentScaling=!0,e._babylonCamera=s,s.rotation.set(0,Math.PI,0),e.type){case"perspective":{var u=e.perspective;if(!u)throw new Error("".concat(n,": Camera perspective properties are missing"));s.fov=u.yfov,s.minZ=u.znear,s.maxZ=u.zfar||0;break}case"orthographic":{if(!e.orthographic)throw new Error("".concat(n,": Camera orthographic properties are missing"));s.mode=Fr.ORTHOGRAPHIC_CAMERA,s.orthoLeft=-e.orthographic.xmag,s.orthoRight=e.orthographic.xmag,s.orthoBottom=-e.orthographic.ymag,s.orthoTop=e.orthographic.ymag,s.minZ=e.orthographic.znear,s.maxZ=e.orthographic.zfar;break}default:throw new Error("".concat(n,": Invalid camera type (").concat(e.type,")"))}return t.AddPointerMetadata(s,n),this._parent.onCameraLoadedObservable.notifyObservers(s),a(s),this.logClose(),Promise.all(i).then(function(){return s})}},{key:"_loadAnimationsAsync",value:function(){var n=this._gltf.animations;if(!n)return Promise.resolve();for(var e=new Array,a=0;a<n.length;a++){var o=n[a];e.push(this.loadAnimationAsync("/animations/".concat(o.index),o).then(function(i){i.targetedAnimations.length===0&&i.dispose()}))}return Promise.all(e).then(function(){})}},{key:"loadAnimationAsync",value:function(n,e){var a=this,o=this._extensionsLoadAnimationAsync(n,e);return o||ya(()=>import("./Dr010rql.js").then(i=>i.cU),__vite__mapDeps([0,1,2,3]),import.meta.url).then(function(i){var s=i.AnimationGroup;a._babylonScene._blockEntityCollection=!!a._assetContainer;var u=new s(e.name||"animation".concat(e.index),a._babylonScene);u._parentContainer=a._assetContainer,a._babylonScene._blockEntityCollection=!1,e._babylonAnimationGroup=u;var c=new Array;U.Assign(e.channels),U.Assign(e.samplers);var l=!0,f=!1,x=void 0;try{for(var _=e.channels[Symbol.iterator](),h;!(l=(h=_.next()).done);l=!0){var d=h.value;c.push(a._loadAnimationChannelAsync("".concat(n,"/channels/").concat(d.index),n,e,d,function(v,m){v.animations=v.animations||[],v.animations.push(m),u.addTargetedAnimation(m,v)}))}}catch(v){f=!0,x=v}finally{try{!l&&_.return!=null&&_.return()}finally{if(f)throw x}}return Promise.all(c).then(function(){return u.normalize(0),u})})}},{key:"_loadAnimationChannelAsync",value:function(n,e,a,o,i){var s=this._extensionsLoadAnimationChannelAsync(n,e,a,o,i);if(s)return s;if(o.target.node==null)return Promise.resolve();var u=U.Get("".concat(n,"/target/node"),this._gltf.nodes,o.target.node),c=o.target.path,l=c==="weights";if(l&&!u._numMorphTargets||!l&&!u._babylonTransformNode||!this._parent.loadNodeAnimations&&!l&&!u._isJoint)return Promise.resolve();var f;switch(c){case"translation":{f=ln.translation;break}case"rotation":{f=ln.rotation;break}case"scale":{f=ln.scale;break}case"weights":{f=ln.weights;break}default:throw new Error("".concat(n,"/target/path: Invalid value (").concat(o.target.path,")"))}var x={object:u,info:f};return this._loadAnimationChannelFromTargetInfoAsync(n,e,a,o,x,i)}},{key:"_loadAnimationChannelFromTargetInfoAsync",value:function(n,e,a,o,i,s){var u=this.parent.targetFps,c=1/u,l=U.Get("".concat(n,"/sampler"),a.samplers,o.sampler);return this._loadAnimationSamplerAsync("".concat(e,"/samplers/").concat(o.sampler),l).then(function(f){var x=0,_=i.object,h=i.info,d=!0,v=!1,m=void 0;try{for(var p=h[Symbol.iterator](),A;!(d=(A=p.next()).done);d=!0){var T=A.value,y=T.getStride(_),b=f.input,g=f.output,k=new Array(b.length),W=0;switch(f.interpolation){case"STEP":{for(var O=0;O<b.length;O++){var S=T.getValue(_,g,W,1);W+=y,k[O]={frame:b[O]*u,value:S,interpolation:1}}break}case"CUBICSPLINE":{for(var w=0;w<b.length;w++){var L=T.getValue(_,g,W,c);W+=y;var q=T.getValue(_,g,W,1);W+=y;var E=T.getValue(_,g,W,c);W+=y,k[w]={frame:b[w]*u,inTangent:L,value:q,outTangent:E}}break}case"LINEAR":{for(var N=0;N<b.length;N++){var $=T.getValue(_,g,W,1);W+=y,k[N]={frame:b[N]*u,value:$}}break}}if(W>0){var J="".concat(a.name||"animation".concat(a.index),"_channel").concat(o.index,"_").concat(x);T.buildAnimations(_,J,u,k,function(C,D){++x,s(C,D)})}}}catch(C){v=!0,m=C}finally{try{!d&&p.return!=null&&p.return()}finally{if(v)throw m}}})}},{key:"_loadAnimationSamplerAsync",value:function(n,e){if(e._data)return e._data;var a=e.interpolation||"LINEAR";switch(a){case"STEP":case"LINEAR":case"CUBICSPLINE":break;default:throw new Error("".concat(n,"/interpolation: Invalid value (").concat(e.interpolation,")"))}var o=U.Get("".concat(n,"/input"),this._gltf.accessors,e.input),i=U.Get("".concat(n,"/output"),this._gltf.accessors,e.output);return e._data=Promise.all([this._loadFloatAccessorAsync("/accessors/".concat(o.index),o),this._loadFloatAccessorAsync("/accessors/".concat(i.index),i)]).then(function(s){var u=gr(s,2),c=u[0],l=u[1];return{input:c,interpolation:a,output:l}}),e._data}},{key:"loadBufferAsync",value:function(n,e,a,o){var i=this._extensionsLoadBufferAsync(n,e,a,o);if(i)return i;if(!e._data)if(e.uri)e._data=this.loadUriAsync("".concat(n,"/uri"),e,e.uri);else{if(!this._bin)throw new Error("".concat(n,": Uri is missing or the binary glTF is missing its binary chunk"));e._data=this._bin.readAsync(0,e.byteLength)}return e._data.then(function(s){try{return new Uint8Array(s.buffer,s.byteOffset+a,o)}catch(u){throw new Error("".concat(n,": ").concat(u.message))}})}},{key:"loadBufferViewAsync",value:function(n,e){var a=this._extensionsLoadBufferViewAsync(n,e);if(a)return a;if(e._data)return e._data;var o=U.Get("".concat(n,"/buffer"),this._gltf.buffers,e.buffer);return e._data=this.loadBufferAsync("/buffers/".concat(o.index),o,e.byteOffset||0,e.byteLength),e._data}},{key:"_loadAccessorAsync",value:function(n,e,a){var o=this;if(e._data)return e._data;var i=t._GetNumComponents(n,e.type),s=i*te.GetTypeByteLength(e.componentType),u=i*e.count;if(e.bufferView==null)e._data=Promise.resolve(new a(u));else{var c=U.Get("".concat(n,"/bufferView"),this._gltf.bufferViews,e.bufferView);e._data=this.loadBufferViewAsync("/bufferViews/".concat(c.index),c).then(function(f){if(e.componentType===5126&&!e.normalized&&(!c.byteStride||c.byteStride===s))return t._GetTypedArray(n,e.componentType,f,e.byteOffset,u);var x=new a(u);return te.ForEach(f,e.byteOffset||0,c.byteStride||s,i,e.componentType,x.length,e.normalized||!1,function(_,h){x[h]=_}),x})}if(e.sparse){var l=e.sparse;e._data=e._data.then(function(f){var x=f,_=U.Get("".concat(n,"/sparse/indices/bufferView"),o._gltf.bufferViews,l.indices.bufferView),h=U.Get("".concat(n,"/sparse/values/bufferView"),o._gltf.bufferViews,l.values.bufferView);return Promise.all([o.loadBufferViewAsync("/bufferViews/".concat(_.index),_),o.loadBufferViewAsync("/bufferViews/".concat(h.index),h)]).then(function(d){var v=gr(d,2),m=v[0],p=v[1],A=t._GetTypedArray("".concat(n,"/sparse/indices"),l.indices.componentType,m,l.indices.byteOffset,l.count),T=i*l.count,y;if(e.componentType===5126&&!e.normalized)y=t._GetTypedArray("".concat(n,"/sparse/values"),e.componentType,p,l.values.byteOffset,T);else{var b=t._GetTypedArray("".concat(n,"/sparse/values"),e.componentType,p,l.values.byteOffset,T);y=new a(T),te.ForEach(b,0,s,i,e.componentType,y.length,e.normalized||!1,function(S,w){y[w]=S})}for(var g=0,k=0;k<A.length;k++)for(var W=A[k]*i,O=0;O<i;O++)x[W++]=y[g++];return x})})}return e._data}},{key:"_loadFloatAccessorAsync",value:function(n,e){return this._loadAccessorAsync(n,e,Float32Array)}},{key:"_loadIndicesAccessorAsync",value:function(n,e){if(e.type!=="SCALAR")throw new Error("".concat(n,"/type: Invalid value ").concat(e.type));if(e.componentType!==5121&&e.componentType!==5123&&e.componentType!==5125)throw new Error("".concat(n,"/componentType: Invalid value ").concat(e.componentType));if(e._data)return e._data;if(e.sparse){var a=t._GetTypedArrayConstructor("".concat(n,"/componentType"),e.componentType);e._data=this._loadAccessorAsync(n,e,a)}else{var o=U.Get("".concat(n,"/bufferView"),this._gltf.bufferViews,e.bufferView);e._data=this.loadBufferViewAsync("/bufferViews/".concat(o.index),o).then(function(i){return t._GetTypedArray(n,e.componentType,i,e.byteOffset,e.count)})}return e._data}},{key:"_loadVertexBufferViewAsync",value:function(n){if(n._babylonBuffer)return n._babylonBuffer;var e=this._babylonScene.getEngine();return n._babylonBuffer=this.loadBufferViewAsync("/bufferViews/".concat(n.index),n).then(function(a){return new Ba(e,a,!1)}),n._babylonBuffer}},{key:"_loadVertexAccessorAsync",value:function(n,e,a){var o;if(!((o=e._babylonVertexBuffer)===null||o===void 0)&&o[a])return e._babylonVertexBuffer[a];e._babylonVertexBuffer||(e._babylonVertexBuffer={});var i=this._babylonScene.getEngine();if(e.sparse||e.bufferView==null)e._babylonVertexBuffer[a]=this._loadFloatAccessorAsync(n,e).then(function(u){return new te(i,u,a,!1)});else{var s=U.Get("".concat(n,"/bufferView"),this._gltf.bufferViews,e.bufferView);e._babylonVertexBuffer[a]=this._loadVertexBufferViewAsync(s).then(function(u){var c=t._GetNumComponents(n,e.type);return new te(i,u,a,!1,void 0,s.byteStride,void 0,e.byteOffset,c,e.componentType,e.normalized,!0,void 0,!0)})}return e._babylonVertexBuffer[a]}},{key:"_loadMaterialMetallicRoughnessPropertiesAsync",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var o=new Array;return e&&(e.baseColorFactor?(a.albedoColor=ue.FromArray(e.baseColorFactor),a.alpha=e.baseColorFactor[3]):a.albedoColor=ue.White(),a.metallic=e.metallicFactor==null?1:e.metallicFactor,a.roughness=e.roughnessFactor==null?1:e.roughnessFactor,e.baseColorTexture&&o.push(this.loadTextureInfoAsync("".concat(n,"/baseColorTexture"),e.baseColorTexture,function(i){i.name="".concat(a.name," (Base Color)"),a.albedoTexture=i})),e.metallicRoughnessTexture&&(e.metallicRoughnessTexture.nonColorData=!0,o.push(this.loadTextureInfoAsync("".concat(n,"/metallicRoughnessTexture"),e.metallicRoughnessTexture,function(i){i.name="".concat(a.name," (Metallic Roughness)"),a.metallicTexture=i})),a.useMetallnessFromMetallicTextureBlue=!0,a.useRoughnessFromMetallicTextureGreen=!0,a.useRoughnessFromMetallicTextureAlpha=!1)),Promise.all(o).then(function(){})}},{key:"_loadMaterialAsync",value:function(n,e,a,o){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){},s=this._extensionsLoadMaterialAsync(n,e,a,o,i);if(s)return s;e._data=e._data||{};var u=e._data[o];if(!u){this.logOpen("".concat(n," ").concat(e.name||""));var c=this.createMaterial(n,e,o);u={babylonMaterial:c,babylonMeshes:[],promise:this.loadMaterialPropertiesAsync(n,e,c)},e._data[o]=u,t.AddPointerMetadata(c,n),this._parent.onMaterialLoadedObservable.notifyObservers(c),this.logClose()}return a&&(u.babylonMeshes.push(a),a.onDisposeObservable.addOnce(function(){var l=u.babylonMeshes.indexOf(a);l!==-1&&u.babylonMeshes.splice(l,1)})),i(u.babylonMaterial),u.promise.then(function(){return u.babylonMaterial})}},{key:"_createDefaultMaterial",value:function(n,e){this._babylonScene._blockEntityCollection=!!this._assetContainer;var a=new he(n,this._babylonScene);return a._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,a.fillMode=e,a.enableSpecularAntiAliasing=!0,a.useRadianceOverAlpha=!this._parent.transparencyAsCoverage,a.useSpecularOverAlpha=!this._parent.transparencyAsCoverage,a.transparencyMode=he.PBRMATERIAL_OPAQUE,a.metallic=1,a.roughness=1,a}},{key:"createMaterial",value:function(n,e,a){var o=this._extensionsCreateMaterial(n,e,a);if(o)return o;var i=e.name||"material".concat(e.index),s=this._createDefaultMaterial(i,a);return s}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this._extensionsLoadMaterialPropertiesAsync(n,e,a);if(o)return o;var i=new Array;return i.push(this.loadMaterialBasePropertiesAsync(n,e,a)),e.pbrMetallicRoughness&&i.push(this._loadMaterialMetallicRoughnessPropertiesAsync("".concat(n,"/pbrMetallicRoughness"),e.pbrMetallicRoughness,a)),this.loadMaterialAlphaProperties(n,e,a),Promise.all(i).then(function(){})}},{key:"loadMaterialBasePropertiesAsync",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var o=new Array;return a.emissiveColor=e.emissiveFactor?ue.FromArray(e.emissiveFactor):new ue(0,0,0),e.doubleSided&&(a.backFaceCulling=!1,a.twoSidedLighting=!0),e.normalTexture&&(e.normalTexture.nonColorData=!0,o.push(this.loadTextureInfoAsync("".concat(n,"/normalTexture"),e.normalTexture,function(i){i.name="".concat(a.name," (Normal)"),a.bumpTexture=i})),a.invertNormalMapX=!this._babylonScene.useRightHandedSystem,a.invertNormalMapY=this._babylonScene.useRightHandedSystem,e.normalTexture.scale!=null&&a.bumpTexture&&(a.bumpTexture.level=e.normalTexture.scale),a.forceIrradianceInFragment=!0),e.occlusionTexture&&(e.occlusionTexture.nonColorData=!0,o.push(this.loadTextureInfoAsync("".concat(n,"/occlusionTexture"),e.occlusionTexture,function(i){i.name="".concat(a.name," (Occlusion)"),a.ambientTexture=i})),a.useAmbientInGrayScale=!0,e.occlusionTexture.strength!=null&&(a.ambientTextureStrength=e.occlusionTexture.strength)),e.emissiveTexture&&o.push(this.loadTextureInfoAsync("".concat(n,"/emissiveTexture"),e.emissiveTexture,function(i){i.name="".concat(a.name," (Emissive)"),a.emissiveTexture=i})),Promise.all(o).then(function(){})}},{key:"loadMaterialAlphaProperties",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var o=e.alphaMode||"OPAQUE";switch(o){case"OPAQUE":{a.transparencyMode=he.PBRMATERIAL_OPAQUE,a.alpha=1;break}case"MASK":{a.transparencyMode=he.PBRMATERIAL_ALPHATEST,a.alphaCutOff=e.alphaCutoff==null?.5:e.alphaCutoff,a.albedoTexture&&(a.albedoTexture.hasAlpha=!0);break}case"BLEND":{a.transparencyMode=he.PBRMATERIAL_ALPHABLEND,a.albedoTexture&&(a.albedoTexture.hasAlpha=!0,a.useAlphaFromAlbedoTexture=!0);break}default:throw new Error("".concat(n,"/alphaMode: Invalid value (").concat(e.alphaMode,")"))}}},{key:"loadTextureInfoAsync",value:function(n,e){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},i=this._extensionsLoadTextureInfoAsync(n,e,o);if(i)return i;if(this.logOpen("".concat(n)),e.texCoord>=6)throw new Error("".concat(n,"/texCoord: Invalid value (").concat(e.texCoord,")"));var s=U.Get("".concat(n,"/index"),this._gltf.textures,e.index);s._textureInfo=e;var u=this._loadTextureAsync("/textures/".concat(e.index),s,function(c){c.coordinatesIndex=e.texCoord||0,t.AddPointerMetadata(c,n),a._parent.onTextureLoadedObservable.notifyObservers(c),o(c)});return this.logClose(),u}},{key:"_loadTextureAsync",value:function(n,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=this._extensionsLoadTextureAsync(n,e,a);if(o)return o;this.logOpen("".concat(n," ").concat(e.name||""));var i=e.sampler==null?t.DefaultSampler:U.Get("".concat(n,"/sampler"),this._gltf.samplers,e.sampler),s=U.Get("".concat(n,"/source"),this._gltf.images,e.source),u=this._createTextureAsync(n,i,s,a,void 0,!e._textureInfo.nonColorData);return this.logClose(),u}},{key:"_createTextureAsync",value:function(n,e,a){var o=this,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,c=this._loadSampler("/samplers/".concat(e.index),e),l=new Array,f=new cn;this._babylonScene._blockEntityCollection=!!this._assetContainer;var x={noMipmap:c.noMipMaps,invertY:!1,samplingMode:c.samplingMode,onLoad:function(){o._disposed||f.resolve()},onError:function(h,d){o._disposed||f.reject(new Error("".concat(n,": ").concat(d&&d.message?d.message:h||"Failed to load texture")))},mimeType:a.mimeType,loaderOptions:s,useSRGBBuffer:!!u&&this._parent.useSRGBBuffers},_=new fe(null,this._babylonScene,x);return _._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,l.push(f.promise),l.push(this.loadImageAsync("/images/".concat(a.index),a).then(function(h){var d=a.uri||"".concat(o._fileName,"#image").concat(a.index),v="data:".concat(o._uniqueRootUrl).concat(d);_.updateURL(v,h);var m=_.getInternalTexture();m&&(m.label=a.name)})),_.wrapU=c.wrapU,_.wrapV=c.wrapV,i(_),this._parent.useGltfTextureNames&&(_.name=a.name||a.uri||"image".concat(a.index)),Promise.all(l).then(function(){return _})}},{key:"_loadSampler",value:function(n,e){return e._data||(e._data={noMipMaps:e.minFilter===9728||e.minFilter===9729,samplingMode:t._GetTextureSamplingMode(n,e),wrapU:t._GetTextureWrapMode("".concat(n,"/wrapS"),e.wrapS),wrapV:t._GetTextureWrapMode("".concat(n,"/wrapT"),e.wrapT)}),e._data}},{key:"loadImageAsync",value:function(n,e){if(!e._data){if(this.logOpen("".concat(n," ").concat(e.name||"")),e.uri)e._data=this.loadUriAsync("".concat(n,"/uri"),e,e.uri);else{var a=U.Get("".concat(n,"/bufferView"),this._gltf.bufferViews,e.bufferView);e._data=this.loadBufferViewAsync("/bufferViews/".concat(a.index),a)}this.logClose()}return e._data}},{key:"loadUriAsync",value:function(n,e,a){var o=this,i=this._extensionsLoadUriAsync(n,e,a);if(i)return i;if(!t._ValidateUri(a))throw new Error("".concat(n,": '").concat(a,"' is invalid"));if(Va(a)){var s=new Uint8Array(Ir(a));return this.log("".concat(n,": Decoded ").concat(a.substring(0,64),"... (").concat(s.length," bytes)")),Promise.resolve(s)}return this.log("".concat(n,": Loading ").concat(a)),this._parent.preprocessUrlAsync(this._rootUrl+a).then(function(u){return new Promise(function(c,l){o._parent._loadFile(o._babylonScene,u,function(f){o._disposed||(o.log("".concat(n,": Loaded ").concat(a," (").concat(f.byteLength," bytes)")),c(new Uint8Array(f)))},!0,function(f){l(new Da("".concat(n,": Failed to load '").concat(a,"'").concat(f?": "+f.status+" "+f.statusText:""),f))})})})}},{key:"_compileMaterialsAsync",value:function(){var n=this;this._parent._startPerformanceCounter("Compile materials");var e=new Array;if(this._gltf.materials){var a=!0,o=!1,i=void 0;try{for(var s=this._gltf.materials[Symbol.iterator](),u;!(a=(u=s.next()).done);a=!0){var c=u.value;if(c._data)for(var l in c._data){var f=c._data[l],x=!0,_=!1,h=void 0;try{for(var d=f.babylonMeshes[Symbol.iterator](),v;!(x=(v=d.next()).done);x=!0){var m=v.value;m.computeWorldMatrix(!0);var p=f.babylonMaterial;e.push(p.forceCompilationAsync(m)),e.push(p.forceCompilationAsync(m,{useInstances:!0})),this._parent.useClipPlane&&(e.push(p.forceCompilationAsync(m,{clipPlane:!0})),e.push(p.forceCompilationAsync(m,{clipPlane:!0,useInstances:!0})))}}catch(A){_=!0,h=A}finally{try{!x&&d.return!=null&&d.return()}finally{if(_)throw h}}}}}catch(A){o=!0,i=A}finally{try{!a&&s.return!=null&&s.return()}finally{if(o)throw i}}}return Promise.all(e).then(function(){n._parent._endPerformanceCounter("Compile materials")})}},{key:"_compileShadowGeneratorsAsync",value:function(){var n=this;this._parent._startPerformanceCounter("Compile shadow generators");var e=new Array,a=this._babylonScene.lights,o=!0,i=!1,s=void 0;try{for(var u=a[Symbol.iterator](),c;!(o=(c=u.next()).done);o=!0){var l=c.value,f=l.getShadowGenerator();f&&e.push(f.forceCompilationAsync())}}catch(x){i=!0,s=x}finally{try{!o&&u.return!=null&&u.return()}finally{if(i)throw s}}return Promise.all(e).then(function(){n._parent._endPerformanceCounter("Compile shadow generators")})}},{key:"_forEachExtensions",value:function(n){var e=!0,a=!1,o=void 0;try{for(var i=this._extensions[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var u=s.value;u.enabled&&n(u)}}catch(c){a=!0,o=c}finally{try{!e&&i.return!=null&&i.return()}finally{if(a)throw o}}}},{key:"_applyExtensions",value:function(n,e,a){var o=!0,i=!1,s=void 0;try{for(var u=this._extensions[Symbol.iterator](),c;!(o=(c=u.next()).done);o=!0){var l=c.value;if(l.enabled){var f="".concat(l.name,".").concat(e),x=n;x._activeLoaderExtensionFunctions=x._activeLoaderExtensionFunctions||{};var _=x._activeLoaderExtensionFunctions;if(!_[f]){_[f]=!0;try{var h=a(l);if(h)return h}finally{delete _[f]}}}}}catch(d){i=!0,s=d}finally{try{!o&&u.return!=null&&u.return()}finally{if(i)throw s}}return null}},{key:"_extensionsOnLoading",value:function(){this._forEachExtensions(function(n){return n.onLoading&&n.onLoading()})}},{key:"_extensionsOnReady",value:function(){this._forEachExtensions(function(n){return n.onReady&&n.onReady()})}},{key:"_extensionsLoadSceneAsync",value:function(n,e){return this._applyExtensions(e,"loadScene",function(a){return a.loadSceneAsync&&a.loadSceneAsync(n,e)})}},{key:"_extensionsLoadNodeAsync",value:function(n,e,a){return this._applyExtensions(e,"loadNode",function(o){return o.loadNodeAsync&&o.loadNodeAsync(n,e,a)})}},{key:"_extensionsLoadCameraAsync",value:function(n,e,a){return this._applyExtensions(e,"loadCamera",function(o){return o.loadCameraAsync&&o.loadCameraAsync(n,e,a)})}},{key:"_extensionsLoadVertexDataAsync",value:function(n,e,a){return this._applyExtensions(e,"loadVertexData",function(o){return o._loadVertexDataAsync&&o._loadVertexDataAsync(n,e,a)})}},{key:"_extensionsLoadMeshPrimitiveAsync",value:function(n,e,a,o,i,s){return this._applyExtensions(i,"loadMeshPrimitive",function(u){return u._loadMeshPrimitiveAsync&&u._loadMeshPrimitiveAsync(n,e,a,o,i,s)})}},{key:"_extensionsLoadMaterialAsync",value:function(n,e,a,o,i){return this._applyExtensions(e,"loadMaterial",function(s){return s._loadMaterialAsync&&s._loadMaterialAsync(n,e,a,o,i)})}},{key:"_extensionsCreateMaterial",value:function(n,e,a){return this._applyExtensions(e,"createMaterial",function(o){return o.createMaterial&&o.createMaterial(n,e,a)})}},{key:"_extensionsLoadMaterialPropertiesAsync",value:function(n,e,a){return this._applyExtensions(e,"loadMaterialProperties",function(o){return o.loadMaterialPropertiesAsync&&o.loadMaterialPropertiesAsync(n,e,a)})}},{key:"_extensionsLoadTextureInfoAsync",value:function(n,e,a){return this._applyExtensions(e,"loadTextureInfo",function(o){return o.loadTextureInfoAsync&&o.loadTextureInfoAsync(n,e,a)})}},{key:"_extensionsLoadTextureAsync",value:function(n,e,a){return this._applyExtensions(e,"loadTexture",function(o){return o._loadTextureAsync&&o._loadTextureAsync(n,e,a)})}},{key:"_extensionsLoadAnimationAsync",value:function(n,e){return this._applyExtensions(e,"loadAnimation",function(a){return a.loadAnimationAsync&&a.loadAnimationAsync(n,e)})}},{key:"_extensionsLoadAnimationChannelAsync",value:function(n,e,a,o,i){return this._applyExtensions(a,"loadAnimationChannel",function(s){return s._loadAnimationChannelAsync&&s._loadAnimationChannelAsync(n,e,a,o,i)})}},{key:"_extensionsLoadSkinAsync",value:function(n,e,a){return this._applyExtensions(a,"loadSkin",function(o){return o._loadSkinAsync&&o._loadSkinAsync(n,e,a)})}},{key:"_extensionsLoadUriAsync",value:function(n,e,a){return this._applyExtensions(e,"loadUri",function(o){return o._loadUriAsync&&o._loadUriAsync(n,e,a)})}},{key:"_extensionsLoadBufferViewAsync",value:function(n,e){return this._applyExtensions(e,"loadBufferView",function(a){return a.loadBufferViewAsync&&a.loadBufferViewAsync(n,e)})}},{key:"_extensionsLoadBufferAsync",value:function(n,e,a,o){return this._applyExtensions(e,"loadBuffer",function(i){return i.loadBufferAsync&&i.loadBufferAsync(n,e,a,o)})}},{key:"isExtensionUsed",value:function(n){return!!this._gltf.extensionsUsed&&this._gltf.extensionsUsed.indexOf(n)!==-1}},{key:"logOpen",value:function(n){this._parent._logOpen(n)}},{key:"logClose",value:function(){this._parent._logClose()}},{key:"log",value:function(n){this._parent._log(n)}},{key:"startPerformanceCounter",value:function(n){this._parent._startPerformanceCounter(n)}},{key:"endPerformanceCounter",value:function(n){this._parent._endPerformanceCounter(n)}}],[{key:"RegisterExtension",value:function(n,e){oe(n,!1,e)}},{key:"UnregisterExtension",value:function(n){return ae(n)}},{key:"_LoadTransform",value:function(n,e){if(n.skin==null){var a=z.Zero(),o=Se.Identity(),i=z.One();if(n.matrix){var s=We.FromArray(n.matrix);s.decompose(i,o,a)}else n.translation&&(a=z.FromArray(n.translation)),n.rotation&&(o=Se.FromArray(n.rotation)),n.scale&&(i=z.FromArray(n.scale));e.position=a,e.rotationQuaternion=o,e.scaling=i}}},{key:"AddPointerMetadata",value:function(n,e){n.metadata=n.metadata||{};var a=n._internalMetadata=n._internalMetadata||{},o=a.gltf=a.gltf||{},i=o.pointers=o.pointers||[];i.push(e)}},{key:"_GetTextureWrapMode",value:function(n,e){switch(e=e??10497,e){case 33071:return fe.CLAMP_ADDRESSMODE;case 33648:return fe.MIRROR_ADDRESSMODE;case 10497:return fe.WRAP_ADDRESSMODE;default:return ye.Warn("".concat(n,": Invalid value (").concat(e,")")),fe.WRAP_ADDRESSMODE}}},{key:"_GetTextureSamplingMode",value:function(n,e){var a=e.magFilter==null?9729:e.magFilter,o=e.minFilter==null?9987:e.minFilter;if(a===9729)switch(o){case 9728:return fe.LINEAR_NEAREST;case 9729:return fe.LINEAR_LINEAR;case 9984:return fe.LINEAR_NEAREST_MIPNEAREST;case 9985:return fe.LINEAR_LINEAR_MIPNEAREST;case 9986:return fe.LINEAR_NEAREST_MIPLINEAR;case 9987:return fe.LINEAR_LINEAR_MIPLINEAR;default:return ye.Warn("".concat(n,"/minFilter: Invalid value (").concat(o,")")),fe.LINEAR_LINEAR_MIPLINEAR}else switch(a!==9728&&ye.Warn("".concat(n,"/magFilter: Invalid value (").concat(a,")")),o){case 9728:return fe.NEAREST_NEAREST;case 9729:return fe.NEAREST_LINEAR;case 9984:return fe.NEAREST_NEAREST_MIPNEAREST;case 9985:return fe.NEAREST_LINEAR_MIPNEAREST;case 9986:return fe.NEAREST_NEAREST_MIPLINEAR;case 9987:return fe.NEAREST_LINEAR_MIPLINEAR;default:return ye.Warn("".concat(n,"/minFilter: Invalid value (").concat(o,")")),fe.NEAREST_NEAREST_MIPNEAREST}}},{key:"_GetTypedArrayConstructor",value:function(n,e){switch(e){case 5120:return Int8Array;case 5121:return Uint8Array;case 5122:return Int16Array;case 5123:return Uint16Array;case 5125:return Uint32Array;case 5126:return Float32Array;default:throw new Error("".concat(n,": Invalid component type ").concat(e))}}},{key:"_GetTypedArray",value:function(n,e,a,o,i){var s=a.buffer;o=a.byteOffset+(o||0);var u=t._GetTypedArrayConstructor("".concat(n,"/componentType"),e),c=te.GetTypeByteLength(e);return o%c!==0?(ye.Warn("".concat(n,": Copying buffer as byte offset (").concat(o,") is not a multiple of component type byte length (").concat(c,")")),new u(s.slice(o,o+i*c),0)):new u(s,o,i)}},{key:"_GetNumComponents",value:function(n,e){switch(e){case"SCALAR":return 1;case"VEC2":return 2;case"VEC3":return 3;case"VEC4":return 4;case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16}throw new Error("".concat(n,": Invalid type (").concat(e,")"))}},{key:"_ValidateUri",value:function(n){return se.IsBase64(n)||n.indexOf("..")===-1}},{key:"_GetDrawMode",value:function(n,e){switch(e==null&&(e=4),e){case 0:return Ne.PointListDrawMode;case 1:return Ne.LineListDrawMode;case 2:return Ne.LineLoopDrawMode;case 3:return Ne.LineStripDrawMode;case 4:return Ne.TriangleFillMode;case 5:return Ne.TriangleStripDrawMode;case 6:return Ne.TriangleFanDrawMode}throw new Error("".concat(n,": Invalid mesh primitive mode (").concat(e,")"))}},{key:"LoadExtensionAsync",value:function(n,e,a,o){if(!e.extensions)return null;var i=e.extensions,s=i[a];return s?o("".concat(n,"/extensions/").concat(a),s):null}},{key:"LoadExtraAsync",value:function(n,e,a,o){if(!e.extras)return null;var i=e.extras,s=i[a];return s?o("".concat(n,"/extras/").concat(a),s):null}}]),t}();re.DefaultSampler={index:-1};Be._CreateGLTF2Loader=function(t){return new re(t)};function mu(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function bu(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function pu(t,r,n){return bu(t.prototype,r),t}var Sn="EXT_lights_image_based",Au=function(){function t(r){mu(this,t),this.name=Sn,this._loader=r,this.enabled=this._loader.isExtensionUsed(Sn)}return pu(t,[{key:"dispose",value:function(){this._loader=null,delete this._lights}},{key:"onLoading",value:function(){var n=this._loader.gltf.extensions;if(n&&n[this.name]){var e=n[this.name];this._lights=e.lights}}},{key:"loadSceneAsync",value:function(n,e){var a=this;return re.LoadExtensionAsync(n,e,this.name,function(o,i){a._loader._allMaterialsDirtyRequired=!0;var s=new Array;s.push(a._loader.loadSceneAsync(n,e)),a._loader.logOpen("".concat(o));var u=U.Get("".concat(o,"/light"),a._lights,i.light);return s.push(a._loadLightAsync("/extensions/".concat(a.name,"/lights/").concat(i.light),u).then(function(c){a._loader.babylonScene.environmentTexture=c})),a._loader.logClose(),Promise.all(s).then(function(){})})}},{key:"_loadLightAsync",value:function(n,e){var a=this;if(!e._loaded){var o,i=function(l){var f,x=function(d){var v="".concat(n,"/specularImages/").concat(l,"/").concat(d);f._loader.logOpen("".concat(v));var m=_[d],p=U.Get(v,f._loader.gltf.images,m);s.push(f._loader.loadImageAsync("/images/".concat(m),p).then(function(A){u[l][d]=A})),f._loader.logClose()},_=e.specularImages[l];u[l]=new Array(_.length);for(var h=0;h<_.length;h++)f=o,x(h)},s=new Array;this._loader.logOpen("".concat(n));for(var u=new Array(e.specularImages.length),c=0;c<e.specularImages.length;c++)o=this,i(c);this._loader.logClose(),e._loaded=Promise.all(s).then(function(){var l=new Qi(a._loader.babylonScene,null,e.specularImageSize);if(l.name=e.name||"environment",e._babylonTexture=l,e.intensity!=null&&(l.level=e.intensity),e.rotation){var f=Se.FromArray(e.rotation);a._loader.babylonScene.useRightHandedSystem||(f=Se.Inverse(f)),We.FromQuaternionToRef(f,l.getReflectionTextureMatrix())}if(!e.irradianceCoefficients)throw new Error("".concat(n,": Irradiance coefficients are missing"));var x=Ua.FromArray(e.irradianceCoefficients);x.scaleInPlace(e.intensity),x.convertIrradianceToLambertianRadiance();var _=ja.FromHarmonics(x),h=(u.length-1)/Math.log2(e.specularImageSize);return l.updateRGBDAsync(u,_,h)})}return e._loaded.then(function(){return e._babylonTexture})}}]),t}();ae(Sn);oe(Sn,!0,function(t){return new Au(t)});function Tr(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function gu(t){if(Array.isArray(t))return t}function Tu(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function wu(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function ku(t,r,n){return wu(t.prototype,r),t}function Ou(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var e=[],a=!0,o=!1,i,s;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(e.push(i.value),!(r&&e.length===r));a=!0);}catch(u){o=!0,s=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}return e}}function Wu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Su(t,r){return gu(t)||Ou(t,r)||Eu(t,r)||Wu()}function Eu(t,r){if(t){if(typeof t=="string")return Tr(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tr(t,r)}}var En="EXT_mesh_gpu_instancing",Cu=function(){function t(r){Tu(this,t),this.name=En,this._loader=r,this.enabled=this._loader.isExtensionUsed(En)}return ku(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadNodeAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){o._loader._disableInstancedMesh++;var u=o._loader.loadNodeAsync("/nodes/".concat(e.index),e,a);if(o._loader._disableInstancedMesh--,!e._primitiveBabylonMeshes)return u;var c=new Array,l=0,f=function(x){if(s.attributes[x]==null){c.push(Promise.resolve(null));return}var _=U.Get("".concat(i,"/attributes/").concat(x),o._loader.gltf.accessors,s.attributes[x]);if(c.push(o._loader._loadFloatAccessorAsync("/accessors/".concat(_.bufferView),_)),l===0)l=_.count;else if(l!==_.count)throw new Error("".concat(i,"/attributes: Instance buffer accessors do not have the same count."))};return f("TRANSLATION"),f("ROTATION"),f("SCALE"),u.then(function(x){return Promise.all(c).then(function(_){var h=Su(_,3),d=h[0],v=h[1],m=h[2],p=new Float32Array(l*16);Me.Vector3[0].copyFromFloats(0,0,0),Me.Quaternion[0].copyFromFloats(0,0,0,1),Me.Vector3[1].copyFromFloats(1,1,1);for(var A=0;A<l;++A)d&&z.FromArrayToRef(d,A*3,Me.Vector3[0]),v&&Se.FromArrayToRef(v,A*4,Me.Quaternion[0]),m&&z.FromArrayToRef(m,A*3,Me.Vector3[1]),We.ComposeToRef(Me.Vector3[1],Me.Quaternion[0],Me.Vector3[0],Me.Matrix[0]),Me.Matrix[0].copyToArray(p,A*16);var T=!0,y=!1,b=void 0;try{for(var g=e._primitiveBabylonMeshes[Symbol.iterator](),k;!(T=(k=g.next()).done);T=!0){var W=k.value;W.thinInstanceSetBuffer("matrix",p,16,!0)}}catch(O){y=!0,b=O}finally{try{!T&&g.return!=null&&g.return()}finally{if(y)throw b}}return x})})})}}]),t}();ae(En);oe(En,!0,function(t){return new Cu(t)});function Pu(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Lu(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Mu(t,r,n){return Lu(t.prototype,r),t}var Cn="EXT_meshopt_compression",Nu=function(){function t(r){Pu(this,t),this.name=Cn,this.enabled=r.isExtensionUsed(Cn),this._loader=r}return Mu(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadBufferViewAsync",value:function(n,e){var a=this;return re.LoadExtensionAsync(n,e,this.name,function(o,i){var s=e;if(s._meshOptData)return s._meshOptData;var u=U.Get("".concat(n,"/buffer"),a._loader.gltf.buffers,i.buffer);return s._meshOptData=a._loader.loadBufferAsync("/buffers/".concat(u.index),u,i.byteOffset||0,i.byteLength).then(function(c){return Ka.Default.decodeGltfBufferAsync(c,i.count,i.byteStride,i.mode,i.filter)}),s._meshOptData})}}]),t}();ae(Cn);oe(Cn,!0,function(t){return new Nu(t)});function Iu(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ru(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Gu(t,r,n){return Ru(t.prototype,r),t}var Pn="EXT_texture_webp",Fu=function(){function t(r){Iu(this,t),this.name=Pn,this._loader=r,this.enabled=r.isExtensionUsed(Pn)}return Gu(t,[{key:"dispose",value:function(){this._loader=null}},{key:"_loadTextureAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=e.sampler==null?re.DefaultSampler:U.Get("".concat(n,"/sampler"),o._loader.gltf.samplers,e.sampler),c=U.Get("".concat(i,"/source"),o._loader.gltf.images,s.source);return o._loader._createTextureAsync(n,u,c,function(l){a(l)},void 0,!e._textureInfo.nonColorData)})}}]),t}();ae(Pn);oe(Pn,!0,function(t){return new Fu(t)});function Bu(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Vu(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Du(t,r,n){return Vu(t.prototype,r),t}var Ln="EXT_texture_avif",qu=function(){function t(r){Bu(this,t),this.name=Ln,this._loader=r,this.enabled=r.isExtensionUsed(Ln)}return Du(t,[{key:"dispose",value:function(){this._loader=null}},{key:"_loadTextureAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=e.sampler==null?re.DefaultSampler:U.Get("".concat(n,"/sampler"),o._loader.gltf.samplers,e.sampler),c=U.Get("".concat(i,"/source"),o._loader.gltf.images,s.source);return o._loader._createTextureAsync(n,u,c,function(l){a(l)},void 0,!e._textureInfo.nonColorData)})}}]),t}();ae(Ln);oe(Ln,!0,function(t){return new qu(t)});function wr(t,r,n,e,a,o,i){try{var s=t[o](i),u=s.value}catch(c){n(c);return}s.done?r(u):Promise.resolve(u).then(e,a)}function Uu(t){return function(){var r=this,n=arguments;return new Promise(function(e,a){var o=t.apply(r,n);function i(u){wr(o,e,a,i,s,"next",u)}function s(u){wr(o,e,a,i,s,"throw",u)}i(void 0)})}}function ju(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ku(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Hu(t,r,n){return Ku(t.prototype,r),t}function $u(t,r){var n,e,a,o,i={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,e&&(a=c[0]&2?e.return:c[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,c[1])).done)return a;switch(e=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,e=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){i=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(c[0]===6&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=r.call(t,i)}catch(l){c=[6,l],e=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Mn="EXT_lights_ies",Ju=function(){function t(r){ju(this,t),this.name=Mn,this._loader=r,this.enabled=this._loader.isExtensionUsed(Mn)}return Hu(t,[{key:"dispose",value:function(){this._loader=null,delete this._lights}},{key:"onLoading",value:function(){var n=this._loader.gltf.extensions;if(n&&n[this.name]){var e=n[this.name];this._lights=e.lights,U.Assign(this._lights)}}},{key:"loadNodeAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(){var i=Uu(function(s,u){var c,l,f,x,_;return $u(this,function(h){switch(h.label){case 0:return o._loader._allMaterialsDirtyRequired=!0,[4,o._loader.loadNodeAsync(n,e,function(d){l=U.Get(s,o._lights,u.light);var v=l.name||d.name;o._loader.babylonScene._blockEntityCollection=!!o._loader._assetContainer,c=new ft(v,z.Zero(),z.Backward(),0,1,o._loader.babylonScene),c.angle=Math.PI/2,c.innerAngle=0,c._parentContainer=o._loader._assetContainer,o._loader.babylonScene._blockEntityCollection=!1,l._babylonLight=c,c.falloffType=Vr.FALLOFF_GLTF,c.diffuse=u.color?ue.FromArray(u.color):ue.White(),c.intensity=u.multiplier||1,c.range=Number.MAX_VALUE,c.parent=d,o._loader._babylonLights.push(c),re.AddPointerMetadata(c,s),a(d)})];case 1:return f=h.sent(),l.uri?[4,o._loader.loadUriAsync(n,l,l.uri)]:[3,3];case 2:return x=h.sent(),[3,5];case 3:return _=U.Get("".concat(n,"/bufferView"),o._loader.gltf.bufferViews,l.bufferView),[4,o._loader.loadBufferViewAsync("/bufferViews/".concat(_.index),_)];case 4:x=h.sent(),h.label=5;case 5:return c.iesProfileTexture=new fe(name+"_iesProfile",o._loader.babylonScene,!0,!1,void 0,null,null,x,!0,void 0,void 0,void 0,void 0,".ies"),[2,f]}})});return function(s,u){return i.apply(this,arguments)}}())}}]),t}();ae(Mn);oe(Mn,!0,function(t){return new Ju(t)});function Qu(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Yu(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function zu(t,r,n){return Yu(t.prototype,r),t}var Nn="KHR_draco_mesh_compression",Zu=function(){function t(r){Qu(this,t),this.name=Nn,this.useNormalizedFlagFromAccessor=!0,this._loader=r,this.enabled=ur.DefaultAvailable&&this._loader.isExtensionUsed(Nn)}return zu(t,[{key:"dispose",value:function(){delete this.dracoDecoder,this._loader=null}},{key:"_loadVertexDataAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){if(e.mode!=null&&e.mode!==4&&e.mode!==5)throw new Error("".concat(n,": Unsupported mode ").concat(e.mode));var u={},c={},l=function(x,_){var h=s.attributes[x];if(h!=null&&(a._delayInfo=a._delayInfo||[],a._delayInfo.indexOf(_)===-1&&a._delayInfo.push(_),u[_]=h,o.useNormalizedFlagFromAccessor)){var d=U.TryGet(o._loader.gltf.accessors,e.attributes[x]);d&&(c[_]=d.normalized||!1)}};l("POSITION",te.PositionKind),l("NORMAL",te.NormalKind),l("TANGENT",te.TangentKind),l("TEXCOORD_0",te.UVKind),l("TEXCOORD_1",te.UV2Kind),l("TEXCOORD_2",te.UV3Kind),l("TEXCOORD_3",te.UV4Kind),l("TEXCOORD_4",te.UV5Kind),l("TEXCOORD_5",te.UV6Kind),l("JOINTS_0",te.MatricesIndicesKind),l("WEIGHTS_0",te.MatricesWeightsKind),l("COLOR_0",te.ColorKind);var f=U.Get(i,o._loader.gltf.bufferViews,s.bufferView);return f._dracoBabylonGeometry||(f._dracoBabylonGeometry=o._loader.loadBufferViewAsync("/bufferViews/".concat(f.index),f).then(function(x){var _=o.dracoDecoder||ur.Default,h=U.TryGet(o._loader.gltf.accessors,e.attributes.POSITION),d=!o._loader.parent.alwaysComputeBoundingBox&&!a.skeleton&&h?aa(h):null;return _._decodeMeshToGeometryForGltfAsync(a.name,o._loader.babylonScene,x,u,c,d).catch(function(v){throw new Error("".concat(n,": ").concat(v.message))})})),f._dracoBabylonGeometry})}}]),t}();ae(Nn);oe(Nn,!0,function(t){return new Zu(t)});function Xu(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ec(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function nc(t,r,n){return ec(t.prototype,r),t}var In="KHR_lights_punctual",tc=function(){function t(r){Xu(this,t),this.name=In,this._loader=r,this.enabled=this._loader.isExtensionUsed(In)}return nc(t,[{key:"dispose",value:function(){this._loader=null,delete this._lights}},{key:"onLoading",value:function(){var n=this._loader.gltf.extensions;if(n&&n[this.name]){var e=n[this.name];this._lights=e.lights,U.Assign(this._lights)}}},{key:"loadNodeAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){return o._loader._allMaterialsDirtyRequired=!0,o._loader.loadNodeAsync(n,e,function(u){var c,l=U.Get(i,o._lights,s.light),f=l.name||u.name;switch(o._loader.babylonScene._blockEntityCollection=!!o._loader._assetContainer,l.type){case"directional":{var x=new jt(f,z.Backward(),o._loader.babylonScene);x.position.setAll(0),c=x;break}case"point":{c=new Kt(f,z.Zero(),o._loader.babylonScene);break}case"spot":{var _=new ft(f,z.Zero(),z.Backward(),0,1,o._loader.babylonScene);_.angle=(l.spot&&l.spot.outerConeAngle||Math.PI/4)*2,_.innerAngle=(l.spot&&l.spot.innerConeAngle||0)*2,c=_;break}default:throw o._loader.babylonScene._blockEntityCollection=!1,new Error("".concat(i,": Invalid light type (").concat(l.type,")"))}c._parentContainer=o._loader._assetContainer,o._loader.babylonScene._blockEntityCollection=!1,l._babylonLight=c,c.falloffType=Vr.FALLOFF_GLTF,c.diffuse=l.color?ue.FromArray(l.color):ue.White(),c.intensity=l.intensity==null?1:l.intensity,c.range=l.range==null?Number.MAX_VALUE:l.range,c.parent=u,o._loader._babylonLights.push(c),re.AddPointerMetadata(c,i),a(u)})})}}]),t}();ae(In);oe(In,!0,function(t){return new tc(t)});function rc(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ac(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function oc(t,r,n){return ac(t.prototype,r),t}var Rn="KHR_materials_pbrSpecularGlossiness",ic=function(){function t(r){rc(this,t),this.name=Rn,this.order=200,this._loader=r,this.enabled=this._loader.isExtensionUsed(Rn)}return oc(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return u.push(o._loader.loadMaterialBasePropertiesAsync(n,e,a)),u.push(o._loadSpecularGlossinessPropertiesAsync(i,s,a)),o._loader.loadMaterialAlphaProperties(n,e,a),Promise.all(u).then(function(){})})}},{key:"_loadSpecularGlossinessPropertiesAsync",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var o=new Array;return a.metallic=null,a.roughness=null,e.diffuseFactor?(a.albedoColor=ue.FromArray(e.diffuseFactor),a.alpha=e.diffuseFactor[3]):a.albedoColor=ue.White(),a.reflectivityColor=e.specularFactor?ue.FromArray(e.specularFactor):ue.White(),a.microSurface=e.glossinessFactor==null?1:e.glossinessFactor,e.diffuseTexture&&o.push(this._loader.loadTextureInfoAsync("".concat(n,"/diffuseTexture"),e.diffuseTexture,function(i){i.name="".concat(a.name," (Diffuse)"),a.albedoTexture=i})),e.specularGlossinessTexture&&(o.push(this._loader.loadTextureInfoAsync("".concat(n,"/specularGlossinessTexture"),e.specularGlossinessTexture,function(i){i.name="".concat(a.name," (Specular Glossiness)"),a.reflectivityTexture=i,a.reflectivityTexture.hasAlpha=!0})),a.useMicroSurfaceFromReflectivityMapAlpha=!0),Promise.all(o).then(function(){})}}]),t}();ae(Rn);oe(Rn,!0,function(t){return new ic(t)});function sc(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function uc(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function cc(t,r,n){return uc(t.prototype,r),t}var Gn="KHR_materials_unlit",lc=function(){function t(r){sc(this,t),this.name=Gn,this.order=210,this._loader=r,this.enabled=this._loader.isExtensionUsed(Gn)}return cc(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(){return o._loadUnlitPropertiesAsync(n,e,a)})}},{key:"_loadUnlitPropertiesAsync",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var o=new Array;a.unlit=!0;var i=e.pbrMetallicRoughness;return i&&(i.baseColorFactor?(a.albedoColor=ue.FromArray(i.baseColorFactor),a.alpha=i.baseColorFactor[3]):a.albedoColor=ue.White(),i.baseColorTexture&&o.push(this._loader.loadTextureInfoAsync("".concat(n,"/baseColorTexture"),i.baseColorTexture,function(s){s.name="".concat(a.name," (Base Color)"),a.albedoTexture=s}))),e.doubleSided&&(a.backFaceCulling=!1,a.twoSidedLighting=!0),this._loader.loadMaterialAlphaProperties(n,e,a),Promise.all(o).then(function(){})}}]),t}();ae(Gn);oe(Gn,!0,function(t){return new lc(t)});function fc(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function xc(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function dc(t,r,n){return xc(t.prototype,r),t}var Fn="KHR_materials_clearcoat",_c=function(){function t(r){fc(this,t),this.name=Fn,this.order=190,this._loader=r,this.enabled=this._loader.isExtensionUsed(Fn)}return dc(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return u.push(o._loader.loadMaterialPropertiesAsync(n,e,a)),u.push(o._loadClearCoatPropertiesAsync(i,s,a)),Promise.all(u).then(function(){})})}},{key:"_loadClearCoatPropertiesAsync",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var o=new Array;return a.clearCoat.isEnabled=!0,a.clearCoat.useRoughnessFromMainTexture=!1,a.clearCoat.remapF0OnInterfaceChange=!1,e.clearcoatFactor!=null?a.clearCoat.intensity=e.clearcoatFactor:a.clearCoat.intensity=0,e.clearcoatTexture&&o.push(this._loader.loadTextureInfoAsync("".concat(n,"/clearcoatTexture"),e.clearcoatTexture,function(i){i.name="".concat(a.name," (ClearCoat)"),a.clearCoat.texture=i})),e.clearcoatRoughnessFactor!=null?a.clearCoat.roughness=e.clearcoatRoughnessFactor:a.clearCoat.roughness=0,e.clearcoatRoughnessTexture&&(e.clearcoatRoughnessTexture.nonColorData=!0,o.push(this._loader.loadTextureInfoAsync("".concat(n,"/clearcoatRoughnessTexture"),e.clearcoatRoughnessTexture,function(i){i.name="".concat(a.name," (ClearCoat Roughness)"),a.clearCoat.textureRoughness=i}))),e.clearcoatNormalTexture&&(e.clearcoatNormalTexture.nonColorData=!0,o.push(this._loader.loadTextureInfoAsync("".concat(n,"/clearcoatNormalTexture"),e.clearcoatNormalTexture,function(i){i.name="".concat(a.name," (ClearCoat Normal)"),a.clearCoat.bumpTexture=i})),a.invertNormalMapX=!a.getScene().useRightHandedSystem,a.invertNormalMapY=a.getScene().useRightHandedSystem,e.clearcoatNormalTexture.scale!=null&&(a.clearCoat.bumpTexture.level=e.clearcoatNormalTexture.scale)),Promise.all(o).then(function(){})}}]),t}();ae(Fn);oe(Fn,!0,function(t){return new _c(t)});function hc(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function vc(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function yc(t,r,n){return vc(t.prototype,r),t}var Bn="KHR_materials_iridescence",mc=function(){function t(r){hc(this,t),this.name=Bn,this.order=195,this._loader=r,this.enabled=this._loader.isExtensionUsed(Bn)}return yc(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return u.push(o._loader.loadMaterialPropertiesAsync(n,e,a)),u.push(o._loadIridescencePropertiesAsync(i,s,a)),Promise.all(u).then(function(){})})}},{key:"_loadIridescencePropertiesAsync",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var o=new Array;a.iridescence.isEnabled=!0;var i;a.iridescence.intensity=(i=e.iridescenceFactor)!==null&&i!==void 0?i:0;var s,u;a.iridescence.indexOfRefraction=(u=(s=e.iridescenceIor)!==null&&s!==void 0?s:e.iridescenceIOR)!==null&&u!==void 0?u:1.3;var c;a.iridescence.minimumThickness=(c=e.iridescenceThicknessMinimum)!==null&&c!==void 0?c:100;var l;return a.iridescence.maximumThickness=(l=e.iridescenceThicknessMaximum)!==null&&l!==void 0?l:400,e.iridescenceTexture&&o.push(this._loader.loadTextureInfoAsync("".concat(n,"/iridescenceTexture"),e.iridescenceTexture,function(f){f.name="".concat(a.name," (Iridescence)"),a.iridescence.texture=f})),e.iridescenceThicknessTexture&&o.push(this._loader.loadTextureInfoAsync("".concat(n,"/iridescenceThicknessTexture"),e.iridescenceThicknessTexture,function(f){f.name="".concat(a.name," (Iridescence Thickness)"),a.iridescence.thicknessTexture=f})),Promise.all(o).then(function(){})}}]),t}();ae(Bn);oe(Bn,!0,function(t){return new mc(t)});function bc(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function pc(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Ac(t,r,n){return pc(t.prototype,r),t}var Vn="KHR_materials_anisotropy",gc=function(){function t(r){bc(this,t),this.name=Vn,this.order=195,this._loader=r,this.enabled=this._loader.isExtensionUsed(Vn)}return Ac(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return u.push(o._loader.loadMaterialPropertiesAsync(n,e,a)),u.push(o._loadIridescencePropertiesAsync(i,s,a)),Promise.all(u).then(function(){})})}},{key:"_loadIridescencePropertiesAsync",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var o=new Array;a.anisotropy.isEnabled=!0;var i;a.anisotropy.intensity=(i=e.anisotropyStrength)!==null&&i!==void 0?i:0;var s;return a.anisotropy.angle=(s=e.anisotropyRotation)!==null&&s!==void 0?s:0,e.anisotropyTexture&&(e.anisotropyTexture.nonColorData=!0,o.push(this._loader.loadTextureInfoAsync("".concat(n,"/anisotropyTexture"),e.anisotropyTexture,function(u){u.name="".concat(a.name," (Anisotropy Intensity)"),a.anisotropy.texture=u}))),Promise.all(o).then(function(){})}}]),t}();ae(Vn);oe(Vn,!0,function(t){return new gc(t)});function Tc(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function wc(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function kc(t,r,n){return wc(t.prototype,r),t}var Dn="KHR_materials_emissive_strength",Oc=function(){function t(r){Tc(this,t),this.name=Dn,this.order=170,this._loader=r,this.enabled=this._loader.isExtensionUsed(Dn)}return kc(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){return o._loader.loadMaterialPropertiesAsync(n,e,a).then(function(){o._loadEmissiveProperties(i,s,a)})})}},{key:"_loadEmissiveProperties",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));e.emissiveStrength!==void 0&&(a.emissiveIntensity=e.emissiveStrength)}}]),t}();ae(Dn);oe(Dn,!0,function(t){return new Oc(t)});function Wc(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Sc(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Ec(t,r,n){return Sc(t.prototype,r),t}var qn="KHR_materials_sheen",Cc=function(){function t(r){Wc(this,t),this.name=qn,this.order=190,this._loader=r,this.enabled=this._loader.isExtensionUsed(qn)}return Ec(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return u.push(o._loader.loadMaterialPropertiesAsync(n,e,a)),u.push(o._loadSheenPropertiesAsync(i,s,a)),Promise.all(u).then(function(){})})}},{key:"_loadSheenPropertiesAsync",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var o=new Array;return a.sheen.isEnabled=!0,a.sheen.intensity=1,e.sheenColorFactor!=null?a.sheen.color=ue.FromArray(e.sheenColorFactor):a.sheen.color=ue.Black(),e.sheenColorTexture&&o.push(this._loader.loadTextureInfoAsync("".concat(n,"/sheenColorTexture"),e.sheenColorTexture,function(i){i.name="".concat(a.name," (Sheen Color)"),a.sheen.texture=i})),e.sheenRoughnessFactor!==void 0?a.sheen.roughness=e.sheenRoughnessFactor:a.sheen.roughness=0,e.sheenRoughnessTexture&&(e.sheenRoughnessTexture.nonColorData=!0,o.push(this._loader.loadTextureInfoAsync("".concat(n,"/sheenRoughnessTexture"),e.sheenRoughnessTexture,function(i){i.name="".concat(a.name," (Sheen Roughness)"),a.sheen.textureRoughness=i}))),a.sheen.albedoScaling=!0,a.sheen.useRoughnessFromMainTexture=!1,Promise.all(o).then(function(){})}}]),t}();ae(qn);oe(qn,!0,function(t){return new Cc(t)});function Pc(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Lc(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Mc(t,r,n){return Lc(t.prototype,r),t}var Un="KHR_materials_specular",Nc=function(){function t(r){Pc(this,t),this.name=Un,this.order=190,this._loader=r,this.enabled=this._loader.isExtensionUsed(Un)}return Mc(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return u.push(o._loader.loadMaterialPropertiesAsync(n,e,a)),u.push(o._loadSpecularPropertiesAsync(i,s,a)),Promise.all(u).then(function(){})})}},{key:"_loadSpecularPropertiesAsync",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var o=new Array;return e.specularFactor!==void 0&&(a.metallicF0Factor=e.specularFactor),e.specularColorFactor!==void 0&&(a.metallicReflectanceColor=ue.FromArray(e.specularColorFactor)),e.specularTexture&&(e.specularTexture.nonColorData=!0,o.push(this._loader.loadTextureInfoAsync("".concat(n,"/specularTexture"),e.specularTexture,function(i){i.name="".concat(a.name," (Specular)"),a.metallicReflectanceTexture=i,a.useOnlyMetallicFromMetallicReflectanceTexture=!0}))),e.specularColorTexture&&o.push(this._loader.loadTextureInfoAsync("".concat(n,"/specularColorTexture"),e.specularColorTexture,function(i){i.name="".concat(a.name," (Specular Color)"),a.reflectanceTexture=i})),Promise.all(o).then(function(){})}}]),t}();ae(Un);oe(Un,!0,function(t){return new Nc(t)});function Ic(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Rc(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Gc(t,r,n){return Rc(t.prototype,r),t}var jn="KHR_materials_ior",oa=function(){function t(r){Ic(this,t),this.name=jn,this.order=180,this._loader=r,this.enabled=this._loader.isExtensionUsed(jn)}return Gc(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return u.push(o._loader.loadMaterialPropertiesAsync(n,e,a)),u.push(o._loadIorPropertiesAsync(i,s,a)),Promise.all(u).then(function(){})})}},{key:"_loadIorPropertiesAsync",value:function(n,e,a){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));return e.ior!==void 0?a.indexOfRefraction=e.ior:a.indexOfRefraction=t._DEFAULT_IOR,Promise.resolve()}}]),t}();oa._DEFAULT_IOR=1.5;ae(jn);oe(jn,!0,function(t){return new oa(t)});function kr(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function Fc(t){if(Array.isArray(t))return t}function Bc(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Or(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Vc(t,r,n){return Or(t.prototype,r),Or(t,n),t}function Dc(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var e=[],a=!0,o=!1,i,s;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(e.push(i.value),!(r&&e.length===r));a=!0);}catch(u){o=!0,s=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}return e}}function qc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Uc(t,r){return Fc(t)||Dc(t,r)||jc(t,r)||qc()}function jc(t,r){if(t){if(typeof t=="string")return kr(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kr(t,r)}}var Te="KHR_materials_variants",Kc=function(){function t(r){Bc(this,t),this.name=Te,this._loader=r,this.enabled=this._loader.isExtensionUsed(Te)}return Vc(t,[{key:"dispose",value:function(){this._loader=null}},{key:"getAvailableVariants",value:function(n){return t.GetAvailableVariants(n)}},{key:"selectVariant",value:function(n,e){t.SelectVariant(n,e)}},{key:"reset",value:function(n){t.Reset(n)}},{key:"getLastSelectedVariant",value:function(n){return t.GetLastSelectedVariant(n)}},{key:"onLoading",value:function(){var n=this._loader.gltf.extensions;if(n&&n[this.name]){var e=n[this.name];this._variants=e.variants}}},{key:"onReady",value:function(){var n=this._loader.rootBabylonMesh;if(n){var e,a;(a=this._loader.parent.extensionOptions[Te])===null||a===void 0||(e=a.onLoaded)===null||e===void 0||e.call(a,{get variants(){return t.GetAvailableVariants(n)},get selectedVariant(){var o=t.GetLastSelectedVariant(n);return o?Array.isArray(o)?o[0]:o:t.GetAvailableVariants(n)[0]},set selectedVariant(o){t.SelectVariant(n,o)}})}}},{key:"_loadMeshPrimitiveAsync",value:function(n,e,a,o,i,s){var u=this;return re.LoadExtensionAsync(n,i,this.name,function(c,l){var f=new Array;return f.push(u._loader._loadMeshPrimitiveAsync(n,e,a,o,i,function(x){if(s(x),x instanceof Ze){var _=function(T){var y=l.mappings[T],b=U.Get("".concat(c,"/mappings/").concat(T,"/material"),u._loader.gltf.materials,y.material);f.push(u._loader._loadMaterialAsync("#/materials/".concat(y.material),b,x,h,function(g){for(var k=function(O){var S=y.variants[O],w=U.Get("/extensions/".concat(Te,"/variants/").concat(S),u._variants,S);p.variants[w.name]=p.variants[w.name]||[],p.variants[w.name].push({mesh:x,material:g}),x.onClonedObservable.add(function(L){var q=L,E=null,N=q;do{if(N=N.parent,!N)return;E=t._GetExtensionMetadata(N)}while(E===null);if(d&&E===t._GetExtensionMetadata(d)){N._internalMetadata={};for(var $ in d._internalMetadata)N._internalMetadata[$]=d._internalMetadata[$];N._internalMetadata.gltf=[];for(var J in d._internalMetadata.gltf)N._internalMetadata.gltf[J]=d._internalMetadata.gltf[J];N._internalMetadata.gltf[Te]={lastSelected:null,original:[],variants:{}};var C=!0,D=!1,I=void 0;try{for(var H=E.original[Symbol.iterator](),R;!(C=(R=H.next()).done);C=!0){var ne=R.value;N._internalMetadata.gltf[Te].original.push({mesh:ne.mesh,material:ne.material})}}catch(ve){D=!0,I=ve}finally{try{!C&&H.return!=null&&H.return()}finally{if(D)throw I}}for(var X in E.variants)if(Object.prototype.hasOwnProperty.call(E.variants,X)){N._internalMetadata.gltf[Te].variants[X]=[];var F=!0,B=!1,K=void 0;try{for(var M=E.variants[X][Symbol.iterator](),j;!(F=(j=M.next()).done);F=!0){var G=j.value;N._internalMetadata.gltf[Te].variants[X].push({mesh:G.mesh,material:G.material})}}catch(ve){B=!0,K=ve}finally{try{!F&&M.return!=null&&M.return()}finally{if(B)throw K}}}E=N._internalMetadata.gltf[Te]}var V=!0,Y=!1,Z=void 0;try{for(var ee=E.original[Symbol.iterator](),le;!(V=(le=ee.next()).done);V=!0){var Ce=le.value;Ce.mesh===x&&(Ce.mesh=q)}}catch(ve){Y=!0,Z=ve}finally{try{!V&&ee.return!=null&&ee.return()}finally{if(Y)throw Z}}var ge=!0,be=!1,xe=void 0;try{for(var de=E.variants[w.name][Symbol.iterator](),me;!(ge=(me=de.next()).done);ge=!0){var pe=me.value;pe.mesh===x&&(pe.mesh=q)}}catch(ve){be=!0,xe=ve}finally{try{!ge&&de.return!=null&&de.return()}finally{if(be)throw xe}}})},W=0;W<y.variants.length;++W)k(W)}))},h=re._GetDrawMode(n,i.mode),d=u._loader.rootBabylonMesh,v=d?d._internalMetadata=d._internalMetadata||{}:{},m=v.gltf=v.gltf||{},p=m[Te]=m[Te]||{lastSelected:null,original:[],variants:{}};p.original.push({mesh:x,material:x.material});for(var A=0;A<l.mappings.length;++A)_(A)}})),Promise.all(f).then(function(x){var _=Uc(x,1),h=_[0];return h})})}}],[{key:"GetAvailableVariants",value:function(n){var e=this._GetExtensionMetadata(n);return e?Object.keys(e.variants):[]}},{key:"SelectVariant",value:function(n,e){var a=this._GetExtensionMetadata(n);if(!a)throw new Error("Cannot select variant on a glTF mesh that does not have the ".concat(Te," extension"));var o=function(x){var _=a.variants[x];if(_){var h=!0,d=!1,v=void 0;try{for(var m=_[Symbol.iterator](),p;!(h=(p=m.next()).done);h=!0){var A=p.value;A.mesh.material=A.material}}catch(T){d=!0,v=T}finally{try{!h&&m.return!=null&&m.return()}finally{if(d)throw v}}}};if(e instanceof Array){var i=!0,s=!1,u=void 0;try{for(var c=e[Symbol.iterator](),l;!(i=(l=c.next()).done);i=!0){var f=l.value;o(f)}}catch(x){s=!0,u=x}finally{try{!i&&c.return!=null&&c.return()}finally{if(s)throw u}}}else o(e);a.lastSelected=e}},{key:"Reset",value:function(n){var e=this._GetExtensionMetadata(n);if(!e)throw new Error("Cannot reset on a glTF mesh that does not have the ".concat(Te," extension"));var a=!0,o=!1,i=void 0;try{for(var s=e.original[Symbol.iterator](),u;!(a=(u=s.next()).done);a=!0){var c=u.value;c.mesh.material=c.material}}catch(l){o=!0,i=l}finally{try{!a&&s.return!=null&&s.return()}finally{if(o)throw i}}e.lastSelected=null}},{key:"GetLastSelectedVariant",value:function(n){var e=this._GetExtensionMetadata(n);if(!e)throw new Error("Cannot get the last selected variant on a glTF mesh that does not have the ".concat(Te," extension"));return e.lastSelected}},{key:"_GetExtensionMetadata",value:function(n){var e,a;return(n==null||(a=n._internalMetadata)===null||a===void 0||(e=a.gltf)===null||e===void 0?void 0:e[Te])||null}}]),t}();ae(Te);oe(Te,!0,function(t){return new Kc(t)});function ia(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Wr(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function sa(t,r,n){return r&&Wr(t.prototype,r),n&&Wr(t,n),t}function Hc(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Sr(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{},e=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(e=e.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),e.forEach(function(a){Hc(t,a,n[a])})}return t}var $c=function(){function t(r,n){var e=this;ia(this,t),this._opaqueRenderTarget=null,this._opaqueMeshesCache=[],this._transparentMeshesCache=[],this._materialObservers={},this._options=Sr({},t._GetDefaultOptions(),r),this._scene=n,this._scene._transmissionHelper=this,this.onErrorObservable=new ke,this._scene.onDisposeObservable.addOnce(function(){e.dispose()}),this._parseScene(),this._setupRenderTargets()}return sa(t,[{key:"updateOptions",value:function(n){var e=this,a=Object.keys(n).filter(function(s){return e._options[s]!==n[s]});if(a.length){var o=Sr({},this._options,n),i=this._options;this._options=o,o.renderSize!==i.renderSize||o.renderTargetTextureType!==i.renderTargetTextureType||o.generateMipmaps!==i.generateMipmaps||!this._opaqueRenderTarget?this._setupRenderTargets():(this._opaqueRenderTarget.samples=o.samples,this._opaqueRenderTarget.lodGenerationScale=o.lodGenerationScale,this._opaqueRenderTarget.lodGenerationOffset=o.lodGenerationOffset)}}},{key:"getOpaqueTarget",value:function(){return this._opaqueRenderTarget}},{key:"_shouldRenderAsTransmission",value:function(n){return n?!!(n instanceof he&&n.subSurface.isRefractionEnabled):!1}},{key:"_addMesh",value:function(n){var e=this;this._materialObservers[n.uniqueId]=n.onMaterialChangedObservable.add(this._onMeshMaterialChanged.bind(this)),se.SetImmediate(function(){e._shouldRenderAsTransmission(n.material)?(n.material.refractionTexture=e._opaqueRenderTarget,e._transparentMeshesCache.indexOf(n)===-1&&e._transparentMeshesCache.push(n)):e._opaqueMeshesCache.indexOf(n)===-1&&e._opaqueMeshesCache.push(n)})}},{key:"_removeMesh",value:function(n){n.onMaterialChangedObservable.remove(this._materialObservers[n.uniqueId]),delete this._materialObservers[n.uniqueId];var e=this._transparentMeshesCache.indexOf(n);e!==-1&&this._transparentMeshesCache.splice(e,1),e=this._opaqueMeshesCache.indexOf(n),e!==-1&&this._opaqueMeshesCache.splice(e,1)}},{key:"_parseScene",value:function(){this._scene.meshes.forEach(this._addMesh.bind(this)),this._scene.onNewMeshAddedObservable.add(this._addMesh.bind(this)),this._scene.onMeshRemovedObservable.add(this._removeMesh.bind(this))}},{key:"_onMeshMaterialChanged",value:function(n){var e=this._transparentMeshesCache.indexOf(n),a=this._opaqueMeshesCache.indexOf(n),o=this._shouldRenderAsTransmission(n.material);o?(n.material instanceof he&&(n.material.subSurface.refractionTexture=this._opaqueRenderTarget),a!==-1?(this._opaqueMeshesCache.splice(a,1),this._transparentMeshesCache.push(n)):e===-1&&this._transparentMeshesCache.push(n)):e!==-1?(this._transparentMeshesCache.splice(e,1),this._opaqueMeshesCache.push(n)):a===-1&&this._opaqueMeshesCache.push(n)}},{key:"_isRenderTargetValid",value:function(){var n;return((n=this._opaqueRenderTarget)===null||n===void 0?void 0:n.getInternalTexture())!==null}},{key:"_setupRenderTargets",value:function(){var n=this,e;this._opaqueRenderTarget&&this._opaqueRenderTarget.dispose(),this._opaqueRenderTarget=new Ha("opaqueSceneTexture",this._options.renderSize,this._scene,this._options.generateMipmaps,void 0,this._options.renderTargetTextureType),this._opaqueRenderTarget.ignoreCameraViewport=!0,this._opaqueRenderTarget.renderList=this._opaqueMeshesCache;var a;this._opaqueRenderTarget.clearColor=(a=(e=this._options.clearColor)===null||e===void 0?void 0:e.clone())!==null&&a!==void 0?a:this._scene.clearColor.clone(),this._opaqueRenderTarget.gammaSpace=!1,this._opaqueRenderTarget.lodGenerationScale=this._options.lodGenerationScale,this._opaqueRenderTarget.lodGenerationOffset=this._options.lodGenerationOffset,this._opaqueRenderTarget.samples=this._options.samples,this._opaqueRenderTarget.renderSprites=!0,this._opaqueRenderTarget.renderParticles=!0;var o,i;this._opaqueRenderTarget.onBeforeBindObservable.add(function(s){i=n._scene.environmentIntensity,n._scene.environmentIntensity=1,o=n._scene.imageProcessingConfiguration.applyByPostProcess,n._options.clearColor?s.clearColor.copyFrom(n._options.clearColor):n._scene.clearColor.toLinearSpaceToRef(s.clearColor,n._scene.getEngine().useExactSrgbConversions),n._scene.imageProcessingConfiguration._applyByPostProcess=!0}),this._opaqueRenderTarget.onAfterUnbindObservable.add(function(){n._scene.environmentIntensity=i,n._scene.imageProcessingConfiguration._applyByPostProcess=o}),this._transparentMeshesCache.forEach(function(s){n._shouldRenderAsTransmission(s.material)&&(s.material.refractionTexture=n._opaqueRenderTarget)})}},{key:"dispose",value:function(){this._scene._transmissionHelper=void 0,this._opaqueRenderTarget&&(this._opaqueRenderTarget.dispose(),this._opaqueRenderTarget=null),this._transparentMeshesCache=[],this._opaqueMeshesCache=[]}}],[{key:"_GetDefaultOptions",value:function(){return{renderSize:1024,samples:4,lodGenerationScale:1,lodGenerationOffset:-4,renderTargetTextureType:Ye.TEXTURETYPE_HALF_FLOAT,generateMipmaps:!0}}}]),t}(),Kn="KHR_materials_transmission",Jc=function(){function t(r){ia(this,t),this.name=Kn,this.order=175,this._loader=r,this.enabled=this._loader.isExtensionUsed(Kn),this.enabled&&(r.parent.transparencyAsCoverage=!0)}return sa(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return u.push(o._loader.loadMaterialPropertiesAsync(n,e,a)),u.push(o._loadTransparentPropertiesAsync(i,e,a,s)),Promise.all(u).then(function(){})})}},{key:"_loadTransparentPropertiesAsync",value:function(n,e,a,o){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var i=a;if(i.subSurface.isRefractionEnabled=!0,i.subSurface.volumeIndexOfRefraction=1,i.subSurface.useAlbedoToTintRefraction=!0,o.transmissionFactor!==void 0){var s;i.subSurface.refractionIntensity=o.transmissionFactor;var u=i.getScene();if(i.subSurface.refractionIntensity&&!u._transmissionHelper)new $c({},i.getScene());else if(i.subSurface.refractionIntensity&&!(!((s=u._transmissionHelper)===null||s===void 0)&&s._isRenderTargetValid())){var c;(c=u._transmissionHelper)===null||c===void 0||c._setupRenderTargets()}}else return i.subSurface.refractionIntensity=0,i.subSurface.isRefractionEnabled=!1,Promise.resolve();return i.subSurface.minimumThickness=0,i.subSurface.maximumThickness=0,o.transmissionTexture?(o.transmissionTexture.nonColorData=!0,this._loader.loadTextureInfoAsync("".concat(n,"/transmissionTexture"),o.transmissionTexture,void 0).then(function(l){l.name="".concat(a.name," (Transmission)"),i.subSurface.refractionIntensityTexture=l,i.subSurface.useGltfStyleTextures=!0})):Promise.resolve()}}]),t}();ae(Kn);oe(Kn,!0,function(t){return new Jc(t)});function Qc(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Yc(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function zc(t,r,n){return Yc(t.prototype,r),t}var Hn="KHR_materials_diffuse_transmission",Zc=function(){function t(r){Qc(this,t),this.name=Hn,this.order=174,this._loader=r,this.enabled=this._loader.isExtensionUsed(Hn),this.enabled&&(r.parent.transparencyAsCoverage=!0)}return zc(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return u.push(o._loader.loadMaterialPropertiesAsync(n,e,a)),u.push(o._loadTranslucentPropertiesAsync(i,e,a,s)),Promise.all(u).then(function(){})})}},{key:"_loadTranslucentPropertiesAsync",value:function(n,e,a,o){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));var i=a;if(i.subSurface.isTranslucencyEnabled=!0,i.subSurface.volumeIndexOfRefraction=1,i.subSurface.minimumThickness=0,i.subSurface.maximumThickness=0,i.subSurface.useAlbedoToTintTranslucency=!1,o.diffuseTransmissionFactor!==void 0)i.subSurface.translucencyIntensity=o.diffuseTransmissionFactor;else return i.subSurface.translucencyIntensity=0,i.subSurface.isTranslucencyEnabled=!1,Promise.resolve();var s=new Array;return i.subSurface.useGltfStyleTextures=!0,o.diffuseTransmissionTexture&&(o.diffuseTransmissionTexture.nonColorData=!0,s.push(this._loader.loadTextureInfoAsync("".concat(n,"/diffuseTransmissionTexture"),o.diffuseTransmissionTexture).then(function(u){u.name="".concat(a.name," (Diffuse Transmission)"),i.subSurface.translucencyIntensityTexture=u}))),o.diffuseTransmissionColorFactor!==void 0?i.subSurface.translucencyColor=ue.FromArray(o.diffuseTransmissionColorFactor):i.subSurface.translucencyColor=ue.White(),o.diffuseTransmissionColorTexture&&s.push(this._loader.loadTextureInfoAsync("".concat(n,"/diffuseTransmissionColorTexture"),o.diffuseTransmissionColorTexture).then(function(u){u.name="".concat(a.name," (Diffuse Transmission Color)"),i.subSurface.translucencyColorTexture=u})),Promise.all(s).then(function(){})}}]),t}();ae(Hn);oe(Hn,!0,function(t){return new Zc(t)});function Xc(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function el(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function nl(t,r,n){return el(t.prototype,r),t}var $n="KHR_materials_volume",tl=function(){function t(r){Xc(this,t),this.name=$n,this.order=173,this._loader=r,this.enabled=this._loader.isExtensionUsed($n),this.enabled&&this._loader._disableInstancedMesh++}return nl(t,[{key:"dispose",value:function(){this.enabled&&this._loader._disableInstancedMesh--,this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return u.push(o._loader.loadMaterialPropertiesAsync(n,e,a)),u.push(o._loadVolumePropertiesAsync(i,e,a,s)),Promise.all(u).then(function(){})})}},{key:"_loadVolumePropertiesAsync",value:function(n,e,a,o){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));if(!a.subSurface.isRefractionEnabled&&!a.subSurface.isTranslucencyEnabled||!o.thicknessFactor)return Promise.resolve();a.subSurface.volumeIndexOfRefraction=a.indexOfRefraction;var i=o.attenuationDistance!==void 0?o.attenuationDistance:Number.MAX_VALUE;return a.subSurface.tintColorAtDistance=i,o.attenuationColor!==void 0&&o.attenuationColor.length==3&&a.subSurface.tintColor.copyFromFloats(o.attenuationColor[0],o.attenuationColor[1],o.attenuationColor[2]),a.subSurface.minimumThickness=0,a.subSurface.maximumThickness=o.thicknessFactor,a.subSurface.useThicknessAsDepth=!0,o.thicknessTexture?(o.thicknessTexture.nonColorData=!0,this._loader.loadTextureInfoAsync("".concat(n,"/thicknessTexture"),o.thicknessTexture).then(function(s){s.name="".concat(a.name," (Thickness)"),a.subSurface.thicknessTexture=s,a.subSurface.useGltfStyleTextures=!0})):Promise.resolve()}}]),t}();ae($n);oe($n,!0,function(t){return new tl(t)});function rl(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function al(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function ol(t,r,n){return al(t.prototype,r),t}var Jn="KHR_materials_dispersion",il=function(){function t(r){rl(this,t),this.name=Jn,this.order=174,this._loader=r,this.enabled=this._loader.isExtensionUsed(Jn)}return ol(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return u.push(o._loader.loadMaterialPropertiesAsync(n,e,a)),u.push(o._loadDispersionPropertiesAsync(i,e,a,s)),Promise.all(u).then(function(){})})}},{key:"_loadDispersionPropertiesAsync",value:function(n,e,a,o){if(!(a instanceof he))throw new Error("".concat(n,": Material type not supported"));return!a.subSurface.isRefractionEnabled||!o.dispersion||(a.subSurface.isDispersionEnabled=!0,a.subSurface.dispersion=o.dispersion),Promise.resolve()}}]),t}();ae(Jn);oe(Jn,!0,function(t){return new il(t)});function sl(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ul(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function cl(t,r,n){return ul(t.prototype,r),t}var Qn="KHR_mesh_quantization",ll=function(){function t(r){sl(this,t),this.name=Qn,this.enabled=r.isExtensionUsed(Qn)}return cl(t,[{key:"dispose",value:function(){}}]),t}();ae(Qn);oe(Qn,!0,function(t){return new ll(t)});function fl(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function xl(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function dl(t,r,n){return xl(t.prototype,r),t}var Yn="KHR_texture_basisu",_l=function(){function t(r){fl(this,t),this.name=Yn,this._loader=r,this.enabled=r.isExtensionUsed(Yn)}return dl(t,[{key:"dispose",value:function(){this._loader=null}},{key:"_loadTextureAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=e.sampler==null?re.DefaultSampler:U.Get("".concat(n,"/sampler"),o._loader.gltf.samplers,e.sampler),c=U.Get("".concat(i,"/source"),o._loader.gltf.images,s.source);return o._loader._createTextureAsync(n,u,c,function(l){a(l)},e._textureInfo.nonColorData?{useRGBAIfASTCBC7NotAvailableWhenUASTC:!0}:void 0,!e._textureInfo.nonColorData)})}}]),t}();ae(Yn);oe(Yn,!0,function(t){return new _l(t)});function hl(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function vl(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function yl(t,r,n){return vl(t.prototype,r),t}var zn="KHR_texture_transform",ml=function(){function t(r){hl(this,t),this.name=zn,this._loader=r,this.enabled=this._loader.isExtensionUsed(zn)}return yl(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadTextureInfoAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){return o._loader.loadTextureInfoAsync(n,e,function(u){if(!(u instanceof fe))throw new Error("".concat(i,": Texture type not supported"));s.offset&&(u.uOffset=s.offset[0],u.vOffset=s.offset[1]),u.uRotationCenter=0,u.vRotationCenter=0,s.rotation&&(u.wAng=-s.rotation),s.scale&&(u.uScale=s.scale[0],u.vScale=s.scale[1]),s.texCoord!=null&&(u.coordinatesIndex=s.texCoord),a(u)})})}}]),t}();ae(zn);oe(zn,!0,function(t){return new ml(t)});function bl(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function pl(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Al(t,r,n){return pl(t.prototype,r),t}var Zn="KHR_xmp_json_ld",gl=function(){function t(r){bl(this,t),this.name=Zn,this.order=100,this._loader=r,this.enabled=this._loader.isExtensionUsed(Zn)}return Al(t,[{key:"dispose",value:function(){this._loader=null}},{key:"onLoading",value:function(){var n,e,a;if(this._loader.rootBabylonMesh!==null){var o=(n=this._loader.gltf.extensions)===null||n===void 0?void 0:n.KHR_xmp_json_ld,i=(a=this._loader.gltf.asset)===null||a===void 0||(e=a.extensions)===null||e===void 0?void 0:e.KHR_xmp_json_ld;if(o&&i){var s=+i.packet;o.packets&&s<o.packets.length&&(this._loader.rootBabylonMesh.metadata=this._loader.rootBabylonMesh.metadata||{},this._loader.rootBabylonMesh.metadata.xmp=o.packets[s])}}}}]),t}();ae(Zn);oe(Zn,!0,function(t){return new gl(t)});function Tl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yt(t,r,n){return r=Xn(r),Wl(t,ua()?Reflect.construct(r,n||[],Xn(t).constructor):r.apply(t,n))}function zt(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function wl(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Zt(t,r,n){return r&&wl(t.prototype,r),t}function kl(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Xn(t){return Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Xn(t)}function Xt(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&Nt(t,r)}function Ol(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{},e=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(e=e.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),e.forEach(function(a){kl(t,a,n[a])})}return t}function Wl(t,r){return r&&(Sl(r)==="object"||typeof r=="function")?r:Tl(t)}function Nt(t,r){return Nt=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e},Nt(t,r)}function Sl(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}function ua(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ua=function(){return!!t})()}function Ke(t,r,n,e){return ue.FromArray(r,n).scale(e)}function El(t,r,n,e){return r[n+3]*e}function ce(t,r,n,e){return r[n]*e}function It(t,r,n,e){return-r[n]*e}function et(t,r,n,e){return r[n+1]*e}function Er(t,r,n,e){return r[n]*e*2}function Ae(t){return{scale:[new ie(Q.ANIMATIONTYPE_FLOAT,"".concat(t,".uScale"),ce,function(){return 2}),new ie(Q.ANIMATIONTYPE_FLOAT,"".concat(t,".vScale"),et,function(){return 2})],offset:[new ie(Q.ANIMATIONTYPE_FLOAT,"".concat(t,".uOffset"),ce,function(){return 2}),new ie(Q.ANIMATIONTYPE_FLOAT,"".concat(t,".vOffset"),et,function(){return 2})],rotation:[new ie(Q.ANIMATIONTYPE_FLOAT,"".concat(t,".wAng"),It,function(){return 1})]}}var qe=function(t){Xt(r,t);function r(){return zt(this,r),Yt(this,r,arguments)}return Zt(r,[{key:"buildAnimations",value:function(e,a,o,i,s){s(e._babylonCamera,this._buildAnimation(a,o,i))}}]),r}(yn),ie=function(t){Xt(r,t);function r(){return zt(this,r),Yt(this,r,arguments)}return Zt(r,[{key:"buildAnimations",value:function(e,a,o,i,s){for(var u in e._data)s(e._data[u].babylonMaterial,this._buildAnimation(a,o,i))}}]),r}(yn),Qe=function(t){Xt(r,t);function r(){return zt(this,r),Yt(this,r,arguments)}return Zt(r,[{key:"buildAnimations",value:function(e,a,o,i,s){s(e._babylonLight,this._buildAnimation(a,o,i))}}]),r}(yn),Cl={__array__:Ol({__target__:!0},ln)},Pl={__array__:{__target__:!0,orthographic:{xmag:[new qe(Q.ANIMATIONTYPE_FLOAT,"orthoLeft",It,function(){return 1}),new qe(Q.ANIMATIONTYPE_FLOAT,"orthoRight",et,function(){return 1})],ymag:[new qe(Q.ANIMATIONTYPE_FLOAT,"orthoBottom",It,function(){return 1}),new qe(Q.ANIMATIONTYPE_FLOAT,"orthoTop",et,function(){return 1})],zfar:[new qe(Q.ANIMATIONTYPE_FLOAT,"maxZ",ce,function(){return 1})],znear:[new qe(Q.ANIMATIONTYPE_FLOAT,"minZ",ce,function(){return 1})]},perspective:{yfov:[new qe(Q.ANIMATIONTYPE_FLOAT,"fov",ce,function(){return 1})],zfar:[new qe(Q.ANIMATIONTYPE_FLOAT,"maxZ",ce,function(){return 1})],znear:[new qe(Q.ANIMATIONTYPE_FLOAT,"minZ",ce,function(){return 1})]}}},Ll={__array__:{__target__:!0,pbrMetallicRoughness:{baseColorFactor:[new ie(Q.ANIMATIONTYPE_COLOR3,"albedoColor",Ke,function(){return 4}),new ie(Q.ANIMATIONTYPE_FLOAT,"alpha",El,function(){return 4})],metallicFactor:[new ie(Q.ANIMATIONTYPE_FLOAT,"metallic",ce,function(){return 1})],roughnessFactor:[new ie(Q.ANIMATIONTYPE_FLOAT,"roughness",ce,function(){return 1})],baseColorTexture:{extensions:{KHR_texture_transform:Ae("albedoTexture")}},metallicRoughnessTexture:{extensions:{KHR_texture_transform:Ae("metallicTexture")}}},emissiveFactor:[new ie(Q.ANIMATIONTYPE_COLOR3,"emissiveColor",Ke,function(){return 3})],normalTexture:{scale:[new ie(Q.ANIMATIONTYPE_FLOAT,"bumpTexture.level",ce,function(){return 1})],extensions:{KHR_texture_transform:Ae("bumpTexture")}},occlusionTexture:{strength:[new ie(Q.ANIMATIONTYPE_FLOAT,"ambientTextureStrength",ce,function(){return 1})],extensions:{KHR_texture_transform:Ae("ambientTexture")}},emissiveTexture:{extensions:{KHR_texture_transform:Ae("emissiveTexture")}},extensions:{KHR_materials_anisotropy:{anisotropyStrength:[new ie(Q.ANIMATIONTYPE_FLOAT,"anisotropy.intensity",ce,function(){return 1})],anisotropyRotation:[new ie(Q.ANIMATIONTYPE_FLOAT,"anisotropy.angle",ce,function(){return 1})],anisotropyTexture:{extensions:{KHR_texture_transform:Ae("anisotropy.texture")}}},KHR_materials_clearcoat:{clearcoatFactor:[new ie(Q.ANIMATIONTYPE_FLOAT,"clearCoat.intensity",ce,function(){return 1})],clearcoatRoughnessFactor:[new ie(Q.ANIMATIONTYPE_FLOAT,"clearCoat.roughness",ce,function(){return 1})],clearcoatTexture:{extensions:{KHR_texture_transform:Ae("clearCoat.texture")}},clearcoatNormalTexture:{scale:[new ie(Q.ANIMATIONTYPE_FLOAT,"clearCoat.bumpTexture.level",ce,function(){return 1})],extensions:{KHR_texture_transform:Ae("clearCoat.bumpTexture")}},clearcoatRoughnessTexture:{extensions:{KHR_texture_transform:Ae("clearCoat.textureRoughness")}}},KHR_materials_dispersion:{dispersion:[new ie(Q.ANIMATIONTYPE_FLOAT,"subSurface.dispersion",ce,function(){return 1})]},KHR_materials_emissive_strength:{emissiveStrength:[new ie(Q.ANIMATIONTYPE_FLOAT,"emissiveIntensity",ce,function(){return 1})]},KHR_materials_ior:{ior:[new ie(Q.ANIMATIONTYPE_FLOAT,"indexOfRefraction",ce,function(){return 1})]},KHR_materials_iridescence:{iridescenceFactor:[new ie(Q.ANIMATIONTYPE_FLOAT,"iridescence.intensity",ce,function(){return 1})],iridescenceIor:[new ie(Q.ANIMATIONTYPE_FLOAT,"iridescence.indexOfRefraction",ce,function(){return 1})],iridescenceThicknessMinimum:[new ie(Q.ANIMATIONTYPE_FLOAT,"iridescence.minimumThickness",ce,function(){return 1})],iridescenceThicknessMaximum:[new ie(Q.ANIMATIONTYPE_FLOAT,"iridescence.maximumThickness",ce,function(){return 1})],iridescenceTexture:{extensions:{KHR_texture_transform:Ae("iridescence.texture")}},iridescenceThicknessTexture:{extensions:{KHR_texture_transform:Ae("iridescence.thicknessTexture")}}},KHR_materials_sheen:{sheenColorFactor:[new ie(Q.ANIMATIONTYPE_COLOR3,"sheen.color",Ke,function(){return 3})],sheenRoughnessFactor:[new ie(Q.ANIMATIONTYPE_FLOAT,"sheen.roughness",ce,function(){return 1})],sheenColorTexture:{extensions:{KHR_texture_transform:Ae("sheen.texture")}},sheenRoughnessTexture:{extensions:{KHR_texture_transform:Ae("sheen.textureRoughness")}}},KHR_materials_specular:{specularFactor:[new ie(Q.ANIMATIONTYPE_FLOAT,"metallicF0Factor",ce,function(){return 1})],specularColorFactor:[new ie(Q.ANIMATIONTYPE_COLOR3,"metallicReflectanceColor",Ke,function(){return 3})],specularTexture:{extensions:{KHR_texture_transform:Ae("metallicReflectanceTexture")}},specularColorTexture:{extensions:{KHR_texture_transform:Ae("reflectanceTexture")}}},KHR_materials_transmission:{transmissionFactor:[new ie(Q.ANIMATIONTYPE_FLOAT,"subSurface.refractionIntensity",ce,function(){return 1})],transmissionTexture:{extensions:{KHR_texture_transform:Ae("subSurface.refractionIntensityTexture")}}},KHR_materials_volume:{attenuationColor:[new ie(Q.ANIMATIONTYPE_COLOR3,"subSurface.tintColor",Ke,function(){return 3})],attenuationDistance:[new ie(Q.ANIMATIONTYPE_FLOAT,"subSurface.tintColorAtDistance",ce,function(){return 1})],thicknessFactor:[new ie(Q.ANIMATIONTYPE_FLOAT,"subSurface.maximumThickness",ce,function(){return 1})],thicknessTexture:{extensions:{KHR_texture_transform:Ae("subSurface.thicknessTexture")}}},KHR_materials_diffuse_transmission:{diffuseTransmissionFactor:[new ie(Q.ANIMATIONTYPE_FLOAT,"subSurface.translucencyIntensity",ce,function(){return 1})],diffuseTransmissionTexture:{extensions:{KHR_texture_transform:Ae("subSurface.translucencyIntensityTexture")}},diffuseTransmissionColorFactor:[new ie(Q.ANIMATIONTYPE_COLOR3,"subSurface.translucencyColor",Ke,function(){return 3})],diffuseTransmissionColorTexture:{extensions:{KHR_texture_transform:Ae("subSurface.translucencyColorTexture")}}}}}},Ml={KHR_lights_punctual:{lights:{__array__:{__target__:!0,color:[new Qe(Q.ANIMATIONTYPE_COLOR3,"diffuse",Ke,function(){return 3})],intensity:[new Qe(Q.ANIMATIONTYPE_FLOAT,"intensity",ce,function(){return 1})],range:[new Qe(Q.ANIMATIONTYPE_FLOAT,"range",ce,function(){return 1})],spot:{innerConeAngle:[new Qe(Q.ANIMATIONTYPE_FLOAT,"innerAngle",Er,function(){return 1})],outerConeAngle:[new Qe(Q.ANIMATIONTYPE_FLOAT,"angle",Er,function(){return 1})]}}}},EXT_lights_ies:{lights:{__array__:{__target__:!0,color:[new Qe(Q.ANIMATIONTYPE_COLOR3,"diffuse",Ke,function(){return 3})],multiplier:[new Qe(Q.ANIMATIONTYPE_FLOAT,"intensity",ce,function(){return 1})]}}}},Nl={nodes:Cl,materials:Ll,cameras:Pl,extensions:Ml};function Il(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Rl(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Gl(t,r,n){return Rl(t.prototype,r),t}var ca=function(){function t(r,n){Il(this,t),this._gltf=r,this._infoTree=n}return Gl(t,[{key:"convert",value:function(n){var e=this._gltf,a=this._infoTree,o=void 0;if(!n.startsWith("/"))throw new Error("Path must start with a /");var i=n.split("/");i.shift();var s=!0,u=!1,c=void 0;try{for(var l=i[Symbol.iterator](),f;!(s=(f=l.next()).done);s=!0){var x=f.value;if(a.__array__)a=a.__array__;else if(a=a[x],!a)throw new Error("Path ".concat(n," is invalid"));if(e===void 0)throw new Error("Path ".concat(n," is invalid"));e=e[x],a.__target__&&(o=e)}}catch(_){u=!0,c=_}finally{try{!s&&l.return!=null&&l.return()}finally{if(u)throw c}}return{object:o,info:a}}}]),t}();function Fl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bl(t,r,n){return r=nt(r),Ul(t,fa()?Reflect.construct(r,n,nt(t).constructor):r.apply(t,n))}function la(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Vl(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Dl(t,r,n){return Vl(t.prototype,r),t}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},nt(t)}function ql(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Rt(t,r)}function Ul(t,r){return r&&(jl(r)==="object"||typeof r=="function")?r:Fl(t)}function Rt(t,r){return Rt=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e},Rt(t,r)}function jl(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}function fa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fa=function(){return!!t})()}var tt="KHR_animation_pointer",Kl=function(t){ql(r,t);function r(n){return la(this,r),Bl(this,r,[n,Nl])}return r}(ca),Hl=function(){function t(r){la(this,t),this.name=tt,this._loader=r,this._pathToObjectConverter=new Kl(this._loader.gltf)}return Dl(t,[{key:"enabled",get:function(){return this._loader.isExtensionUsed(tt)}},{key:"dispose",value:function(){this._loader=null,delete this._pathToObjectConverter}},{key:"_loadAnimationChannelAsync",value:function(n,e,a,o,i){var s,u=(s=o.target.extensions)===null||s===void 0?void 0:s.KHR_animation_pointer;if(!u||!this._pathToObjectConverter)return null;o.target.path!=="pointer"&&ye.Warn("".concat(n,"/target/path: Value (").concat(o.target.path,") must be (","pointer",") when using the ").concat(this.name," extension")),o.target.node!=null&&ye.Warn("".concat(n,"/target/node: Value (").concat(o.target.node,") must not be present when using the ").concat(this.name," extension"));var c="".concat(n,"/extensions/").concat(this.name),l=u.pointer;if(!l)throw new Error("".concat(c,": Pointer is missing"));try{var f=this._pathToObjectConverter.convert(l);return this._loader._loadAnimationChannelFromTargetInfoAsync(n,e,a,o,f,i)}catch{return ye.Warn("".concat(c,"/pointer: Invalid pointer (").concat(l,") skipped")),null}}}]),t}();ae(tt);oe(tt,!0,function(t){return new Hl(t)});function $l(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Jl(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Ql(t,r,n){return Jl(t.prototype,r),t}var rt="MSFT_audio_emitter",Yl=function(){function t(r){$l(this,t),this.name=rt,this._loader=r,this.enabled=this._loader.isExtensionUsed(rt)}return Ql(t,[{key:"dispose",value:function(){this._loader=null,this._clips=null,this._emitters=null}},{key:"onLoading",value:function(){var n=this._loader.gltf.extensions;if(n&&n[this.name]){var e=n[this.name];this._clips=e.clips,this._emitters=e.emitters,U.Assign(this._clips),U.Assign(this._emitters)}}},{key:"loadSceneAsync",value:function(n,e){var a=this;return re.LoadExtensionAsync(n,e,this.name,function(o,i){var s=new Array;s.push(a._loader.loadSceneAsync(n,e));var u=!0,c=!1,l=void 0;try{for(var f=i.emitters[Symbol.iterator](),x;!(u=(x=f.next()).done);u=!0){var _=x.value,h=U.Get("".concat(o,"/emitters"),a._emitters,_);if(h.refDistance!=null||h.maxDistance!=null||h.rolloffFactor!=null||h.distanceModel!=null||h.innerAngle!=null||h.outerAngle!=null)throw new Error("".concat(o,": Direction or Distance properties are not allowed on emitters attached to a scene"));s.push(a._loadEmitterAsync("".concat(o,"/emitters/").concat(h.index),h))}}catch(d){c=!0,l=d}finally{try{!u&&f.return!=null&&f.return()}finally{if(c)throw l}}return Promise.all(s).then(function(){})})}},{key:"loadNodeAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=new Array;return o._loader.loadNodeAsync(i,e,function(c){var l=!0,f=!1,x=void 0;try{for(var _=function(){var v=d.value,m=U.Get("".concat(i,"/emitters"),o._emitters,v);u.push(o._loadEmitterAsync("".concat(i,"/emitters/").concat(m.index),m).then(function(){var p=!0,A=!1,T=void 0;try{for(var y=m._babylonSounds[Symbol.iterator](),b;!(p=(b=y.next()).done);p=!0){var g=b.value;g.attachToMesh(c),(m.innerAngle!=null||m.outerAngle!=null)&&(g.setLocalDirectionToMesh(z.Forward()),g.setDirectionalCone(2*se.ToDegrees(m.innerAngle==null?Math.PI:m.innerAngle),2*se.ToDegrees(m.outerAngle==null?Math.PI:m.outerAngle),0))}}catch(k){A=!0,T=k}finally{try{!p&&y.return!=null&&y.return()}finally{if(A)throw T}}}))},h=s.emitters[Symbol.iterator](),d;!(l=(d=h.next()).done);l=!0)_()}catch(v){f=!0,x=v}finally{try{!l&&h.return!=null&&h.return()}finally{if(f)throw x}}a(c)}).then(function(c){return Promise.all(u).then(function(){return c})})})}},{key:"loadAnimationAsync",value:function(n,e){var a=this;return re.LoadExtensionAsync(n,e,this.name,function(o,i){return a._loader.loadAnimationAsync(n,e).then(function(s){var u=new Array;U.Assign(i.events);var c=!0,l=!1,f=void 0;try{for(var x=i.events[Symbol.iterator](),_;!(c=(_=x.next()).done);c=!0){var h=_.value;u.push(a._loadAnimationEventAsync("".concat(o,"/events/").concat(h.index),n,e,h,s))}}catch(d){l=!0,f=d}finally{try{!c&&x.return!=null&&x.return()}finally{if(l)throw f}}return Promise.all(u).then(function(){return s})})})}},{key:"_loadClipAsync",value:function(n,e){if(e._objectURL)return e._objectURL;var a;if(e.uri)a=this._loader.loadUriAsync(n,e,e.uri);else{var o=U.Get("".concat(n,"/bufferView"),this._loader.gltf.bufferViews,e.bufferView);a=this._loader.loadBufferViewAsync("/bufferViews/".concat(o.index),o)}return e._objectURL=a.then(function(i){return URL.createObjectURL(new Blob([i],{type:e.mimeType}))}),e._objectURL}},{key:"_loadEmitterAsync",value:function(n,e){var a=this;if(e._babylonSounds=e._babylonSounds||[],!e._babylonData){for(var o,i=function(x){var _="/extensions/".concat(o.name,"/clips"),h=U.Get(_,o._clips,e.clips[x].clip);s.push(o._loadClipAsync("".concat(_,"/").concat(e.clips[x].clip),h).then(function(d){var v=e._babylonSounds[x]=new $a(u,d,a._loader.babylonScene,null,c);v.refDistance=e.refDistance||1,v.maxDistance=e.maxDistance||256,v.rolloffFactor=e.rolloffFactor||1,v.distanceModel=e.distanceModel||"exponential"}))},s=new Array,u=e.name||"emitter".concat(e.index),c={loop:!1,autoplay:!1,volume:e.volume==null?1:e.volume},l=0;l<e.clips.length;l++)o=this,i(l);var f=Promise.all(s).then(function(){var x=e.clips.map(function(h){return h.weight||1}),_=new Vi(e.loop||!1,e._babylonSounds,x);e.innerAngle&&(_.directionalConeInnerAngle=2*se.ToDegrees(e.innerAngle)),e.outerAngle&&(_.directionalConeOuterAngle=2*se.ToDegrees(e.outerAngle)),e.volume&&(_.volume=e.volume),e._babylonData.sound=_});e._babylonData={loaded:f}}return e._babylonData.loaded}},{key:"_getEventAction",value:function(n,e,a,o,i){switch(a){case"play":return function(s){var u=(i||0)+(s-o);e.play(u)};case"stop":return function(){e.stop()};case"pause":return function(){e.pause()};default:throw new Error("".concat(n,": Unsupported action ").concat(a))}}},{key:"_loadAnimationEventAsync",value:function(n,e,a,o,i){var s=this;if(i.targetedAnimations.length==0)return Promise.resolve();var u=i.targetedAnimations[0],c=o.emitter,l=U.Get("/extensions/".concat(this.name,"/emitters"),this._emitters,c);return this._loadEmitterAsync(n,l).then(function(){var f=l._babylonData.sound;if(f){var x=new Ri(o.time,s._getEventAction(n,f,o.action,o.time,o.startOffset));u.animation.addEvent(x),i.onAnimationGroupEndObservable.add(function(){f.stop()}),i.onAnimationGroupPauseObservable.add(function(){f.pause()})}})}}]),t}();ae(rt);oe(rt,!0,function(t){return new Yl(t)});function zl(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Zl(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Xl(t,r,n){return Zl(t.prototype,r),t}var xn="MSFT_lod",ef=function(){function t(r){zl(this,t);var n;this.name=xn,this.order=100,this.maxLODsToLoad=10,this.onNodeLODsLoadedObservable=new ke,this.onMaterialLODsLoadedObservable=new ke,this._bufferLODs=new Array,this._nodeIndexLOD=null,this._nodeSignalLODs=new Array,this._nodePromiseLODs=new Array,this._nodeBufferLODs=new Array,this._materialIndexLOD=null,this._materialSignalLODs=new Array,this._materialPromiseLODs=new Array,this._materialBufferLODs=new Array,this._loader=r;var e;this.maxLODsToLoad=(e=(n=this._loader.parent.extensionOptions[xn])===null||n===void 0?void 0:n.maxLODsToLoad)!==null&&e!==void 0?e:this.maxLODsToLoad,this.enabled=this._loader.isExtensionUsed(xn)}return Xl(t,[{key:"dispose",value:function(){this._loader=null,this._nodeIndexLOD=null,this._nodeSignalLODs.length=0,this._nodePromiseLODs.length=0,this._nodeBufferLODs.length=0,this._materialIndexLOD=null,this._materialSignalLODs.length=0,this._materialPromiseLODs.length=0,this._materialBufferLODs.length=0,this.onMaterialLODsLoadedObservable.clear(),this.onNodeLODsLoadedObservable.clear()}},{key:"onReady",value:function(){for(var n,e=function(c){var l=Promise.all(n._nodePromiseLODs[c]).then(function(){c!==0&&(i._loader.endPerformanceCounter("Node LOD ".concat(c)),i._loader.log("Loaded node LOD ".concat(c))),i.onNodeLODsLoadedObservable.notifyObservers(c),c!==i._nodePromiseLODs.length-1&&(i._loader.startPerformanceCounter("Node LOD ".concat(c+1)),i._loadBufferLOD(i._nodeBufferLODs,c+1),i._nodeSignalLODs[c]&&i._nodeSignalLODs[c].resolve())});n._loader._completePromises.push(l)},a,o=function(c){var l=Promise.all(a._materialPromiseLODs[c]).then(function(){c!==0&&(i._loader.endPerformanceCounter("Material LOD ".concat(c)),i._loader.log("Loaded material LOD ".concat(c))),i.onMaterialLODsLoadedObservable.notifyObservers(c),c!==i._materialPromiseLODs.length-1&&(i._loader.startPerformanceCounter("Material LOD ".concat(c+1)),i._loadBufferLOD(i._materialBufferLODs,c+1),i._materialSignalLODs[c]&&i._materialSignalLODs[c].resolve())});a._loader._completePromises.push(l)},i=this,s=0;s<this._nodePromiseLODs.length;s++)n=this,e(s);for(var u=0;u<this._materialPromiseLODs.length;u++)a=this,o(u)}},{key:"loadSceneAsync",value:function(n,e){var a=this._loader.loadSceneAsync(n,e);return this._loadBufferLOD(this._bufferLODs,0),a}},{key:"loadNodeAsync",value:function(n,e,a){var o=this;return re.LoadExtensionAsync(n,e,this.name,function(i,s){var u=function(x){var _=l[x];x!==0&&(o._nodeIndexLOD=x,o._nodeSignalLODs[x]=o._nodeSignalLODs[x]||new cn);var h=function(v){a(v),v.setEnabled(!1)},d=o._loader.loadNodeAsync("/nodes/".concat(_.index),_,h).then(function(v){if(x!==0){var m=l[x-1];m._babylonTransformNode&&(o._disposeTransformNode(m._babylonTransformNode),delete m._babylonTransformNode)}return v.setEnabled(!0),v});o._nodePromiseLODs[x]=o._nodePromiseLODs[x]||[],x===0?c=d:(o._nodeIndexLOD=null,o._nodePromiseLODs[x].push(d))},c,l=o._getLODs(i,e,o._loader.gltf.nodes,s.ids);o._loader.logOpen("".concat(i));for(var f=0;f<l.length;f++)u(f);return o._loader.logClose(),c})}},{key:"_loadMaterialAsync",value:function(n,e,a,o,i){var s=this;return this._nodeIndexLOD?null:re.LoadExtensionAsync(n,e,this.name,function(u,c){var l=function(h){var d=x[h];h!==0&&(s._materialIndexLOD=h);var v=s._loader._loadMaterialAsync("/materials/".concat(d.index),d,a,o,function(m){h===0&&i(m)}).then(function(m){if(h!==0){i(m);var p=x[h-1]._data;p[o]&&(s._disposeMaterials([p[o].babylonMaterial]),delete p[o])}return m});s._materialPromiseLODs[h]=s._materialPromiseLODs[h]||[],h===0?f=v:(s._materialIndexLOD=null,s._materialPromiseLODs[h].push(v))},f,x=s._getLODs(u,e,s._loader.gltf.materials,c.ids);s._loader.logOpen("".concat(u));for(var _=0;_<x.length;_++)l(_);return s._loader.logClose(),f})}},{key:"_loadUriAsync",value:function(n,e,a){var o=this;if(this._nodeIndexLOD!==null){this._loader.log("deferred");var i=this._nodeIndexLOD-1;return this._nodeSignalLODs[i]=this._nodeSignalLODs[i]||new cn,this._nodeSignalLODs[this._nodeIndexLOD-1].promise.then(function(){return o._loader.loadUriAsync(n,e,a)})}else if(this._materialIndexLOD!==null){this._loader.log("deferred");var s=this._materialIndexLOD-1;return this._materialSignalLODs[s]=this._materialSignalLODs[s]||new cn,this._materialSignalLODs[s].promise.then(function(){return o._loader.loadUriAsync(n,e,a)})}return null}},{key:"loadBufferAsync",value:function(n,e,a,o){if(this._loader.parent.useRangeRequests&&!e.uri){if(!this._loader.bin)throw new Error("".concat(n,": Uri is missing or the binary glTF is missing its binary chunk"));var i=function(s,u){var c=a,l=c+o-1,f=s[u];return f?(f.start=Math.min(f.start,c),f.end=Math.max(f.end,l)):(f={start:c,end:l,loaded:new cn},s[u]=f),f.loaded.promise.then(function(x){return new Uint8Array(x.buffer,x.byteOffset+a-f.start,o)})};return this._loader.log("deferred"),this._nodeIndexLOD!==null?i(this._nodeBufferLODs,this._nodeIndexLOD):this._materialIndexLOD!==null?i(this._materialBufferLODs,this._materialIndexLOD):i(this._bufferLODs,0)}return null}},{key:"_loadBufferLOD",value:function(n,e){var a=n[e];a&&(this._loader.log("Loading buffer range [".concat(a.start,"-").concat(a.end,"]")),this._loader.bin.readAsync(a.start,a.end-a.start+1).then(function(o){a.loaded.resolve(o)},function(o){a.loaded.reject(o)}))}},{key:"_getLODs",value:function(n,e,a,o){if(this.maxLODsToLoad<=0)throw new Error("maxLODsToLoad must be greater than zero");for(var i=[],s=o.length-1;s>=0;s--)if(i.push(U.Get("".concat(n,"/ids/").concat(o[s]),a,o[s])),i.length===this.maxLODsToLoad)return i;return i.push(e),i}},{key:"_disposeTransformNode",value:function(n){var e=this,a=[],o=n.material;o&&a.push(o);var i=!0,s=!1,u=void 0;try{for(var c=n.getChildMeshes()[Symbol.iterator](),l;!(i=(l=c.next()).done);i=!0){var f=l.value;f.material&&a.push(f.material)}}catch(_){s=!0,u=_}finally{try{!i&&c.return!=null&&c.return()}finally{if(s)throw u}}n.dispose();var x=a.filter(function(_){return e._loader.babylonScene.meshes.every(function(h){return h.material!=_})});this._disposeMaterials(x)}},{key:"_disposeMaterials",value:function(n){var e={},a=!0,o=!1,i=void 0;try{for(var s=n[Symbol.iterator](),u;!(a=(u=s.next()).done);a=!0){var c=u.value,l=!0,f=!1,x=void 0;try{for(var _=c.getActiveTextures()[Symbol.iterator](),h;!(l=(h=_.next()).done);l=!0){var d=h.value;e[d.uniqueId]=d}}catch(k){f=!0,x=k}finally{try{!l&&_.return!=null&&_.return()}finally{if(f)throw x}}c.dispose()}}catch(k){o=!0,i=k}finally{try{!a&&s.return!=null&&s.return()}finally{if(o)throw i}}for(var v in e){var m=!0,p=!1,A=void 0;try{for(var T=this._loader.babylonScene.materials[Symbol.iterator](),y;!(m=(y=T.next()).done);m=!0){var b=y.value;b.hasTexture(e[v])&&delete e[v]}}catch(k){p=!0,A=k}finally{try{!m&&T.return!=null&&T.return()}finally{if(p)throw A}}}for(var g in e)e[g].dispose()}}]),t}();ae(xn);oe(xn,!0,function(t){return new ef(t)});function nf(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function tf(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function rf(t,r,n){return tf(t.prototype,r),t}var at="MSFT_minecraftMesh",af=function(){function t(r){nf(this,t),this.name=at,this._loader=r,this.enabled=this._loader.isExtensionUsed(at)}return rf(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtraAsync(n,e,this.name,function(i,s){if(s){if(!(a instanceof he))throw new Error("".concat(i,": Material type not supported"));var u=o._loader.loadMaterialPropertiesAsync(n,e,a);return a.needAlphaBlending()&&(a.forceDepthWrite=!0,a.separateCullingPass=!0),a.backFaceCulling=a.forceDepthWrite,a.twoSidedLighting=!0,u}return null})}}]),t}();ae(at);oe(at,!0,function(t){return new af(t)});function of(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function sf(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function uf(t,r,n){return sf(t.prototype,r),t}var ot="MSFT_sRGBFactors",cf=function(){function t(r){of(this,t),this.name=ot,this._loader=r,this.enabled=this._loader.isExtensionUsed(ot)}return uf(t,[{key:"dispose",value:function(){this._loader=null}},{key:"loadMaterialPropertiesAsync",value:function(n,e,a){var o=this;return re.LoadExtraAsync(n,e,this.name,function(i,s){if(s){if(!(a instanceof he))throw new Error("".concat(i,": Material type not supported"));var u=o._loader.loadMaterialPropertiesAsync(n,e,a),c=a.getScene().getEngine().useExactSrgbConversions;return a.albedoTexture||a.albedoColor.toLinearSpaceToRef(a.albedoColor,c),a.reflectivityTexture||a.reflectivityColor.toLinearSpaceToRef(a.reflectivityColor,c),u}return null})}}]),t}();ae(ot);oe(ot,!0,function(t){return new cf(t)});var lf={"lifecycle/onStart":Ja.ClassName,"lifecycle/onTick":Qa.ClassName,log:Ya.ClassName,"flow/delay":za.ClassName,"customEvent/send":Za.ClassName,"customEvent/receive":Xa.ClassName,"flow/sequence":eo.ClassName,"world/get":no.ClassName,"world/set":to.ClassName,"flow/doN":ro.ClassName,"variable/get":ao.ClassName,"variable/set":oo.ClassName,"flow/whileLoop":io.ClassName,"math/random":so.ClassName,"math/e":uo.ClassName,"math/pi":co.ClassName,"math/inf":lo.ClassName,"math/nan":fo.ClassName,"math/abs":xo.ClassName,"math/sign":_o.ClassName,"math/trunc":ho.ClassName,"math/floor":vo.ClassName,"math/ceil":yo.ClassName,"math/fract":mo.ClassName,"math/neg":bo.ClassName,"math/add":po.ClassName,"math/sub":Ao.ClassName,"math/mul":go.ClassName,"math/div":To.ClassName,"math/rem":wo.ClassName,"math/min":ko.ClassName,"math/max":Oo.ClassName,"math/clamp":Wo.ClassName,"math/saturate":So.ClassName,"math/mix":Eo.ClassName,"math/eq":Co.ClassName,"math/lt":Po.ClassName,"math/le":Lo.ClassName,"math/gt":Mo.ClassName,"math/ge":No.ClassName,"math/isnan":Io.ClassName,"math/isinf":Ro.ClassName,"math/rad":Go.ClassName,"math/deg":Fo.ClassName,"math/sin":Bo.ClassName,"math/cos":Vo.ClassName,"math/tan":Do.ClassName,"math/asin":qo.ClassName,"math/acos":Uo.ClassName,"math/atan":jo.ClassName,"math/atan2":Ko.ClassName,"math/sinh":Ho.ClassName,"math/cosh":$o.ClassName,"math/tanh":Jo.ClassName,"math/asinh":Qo.ClassName,"math/acosh":Yo.ClassName,"math/atanh":zo.ClassName,"math/exp":Zo.ClassName,"math/log":Xo.ClassName,"math/log2":ei.ClassName,"math/log10":ni.ClassName,"math/sqrt":ti.ClassName,"math/cbrt":ri.ClassName,"math/pow":ai.ClassName,"math/length":oi.ClassName,"math/normalize":ii.ClassName,"math/dot":si.ClassName,"math/cross":ui.ClassName,"math/rotate2d":ci.ClassName,"math/rotate3d":li.ClassName,"math/transpose":fi.ClassName,"math/determinant":xi.ClassName,"math/inverse":di.ClassName,"math/matmul":_i.ClassName,"math/not":hi.ClassName,"math/and":vi.ClassName,"math/or":yi.ClassName,"math/xor":mi.ClassName,"math/asr":bi.ClassName,"math/lsl":pi.ClassName,"math/clz":Ai.ClassName,"math/ctz":gi.ClassName,"math/popcnt":Ti.ClassName},ff={float2:"Vector2",float3:"Vector3",float4:"Vector4",float4x4:"Matrix",int:"FlowGraphInteger"};function Gt(t,r,n){if(t.type!==void 0){var e=r.types&&r.types[t.type];if(!e)throw new Error("".concat(n,": Unknown type: ").concat(t.type));var a=e.signature;if(!a)throw new Error("".concat(n,": Type ").concat(t.type," has no signature"));var o=ff[a];return{value:t.value,className:o}}else return t.value}function xf(t,r,n){var e={},a,o=(a=t.configuration)!==null&&a!==void 0?a:[],i=!0,s=!1,u=void 0;try{for(var c=o[Symbol.iterator](),l;!(i=(l=c.next()).done);i=!0){var f=l.value;if(f.id==="customEvent"){var x=r.customEvents&&r.customEvents[f.value];if(!x)throw new Error("/extensions/KHR_interactivity/nodes/".concat(n,": Unknown custom event: ").concat(f.value));e.eventId=x.id,e.eventData=x.values.map(function(d){return d.id})}else if(f.id==="variable"){var _=r.variables&&r.variables[f.value];if(!_)throw new Error("/extensions/KHR_interactivity/nodes/".concat(n,": Unknown variable: ").concat(f.value));e.variableName=_.id}else if(f.id==="path"){var h=f.value;e.path=h}else e[f.id]=Gt(f,r,"/extensions/KHR_interactivity/nodes/".concat(n))}}catch(d){s=!0,u=d}finally{try{!i&&c.return!=null&&c.return()}finally{if(s)throw u}}return e}function df(t,r,n){var e=lf[r.type];if(!e)throw new Error("/extensions/KHR_interactivity/nodes/".concat(t,": Unknown block type: ").concat(r.type));var a=t.toString(),o=xf(r,n,a),i=r.metadata,s=[],u=[],c=[],l=[];return{className:e,config:o,uniqueId:a,metadata:i,dataInputs:s,dataOutputs:u,signalInputs:c,signalOutputs:l}}function _f(t){for(var r={uniqueId:un(),_userVariables:{},_connectionValues:{}},n=[r],e=[],a=0;a<t.nodes.length;a++){var o=t.nodes[a],i=df(a,o,t);e.push(i)}for(var s=0;s<t.nodes.length;s++){var u=t.nodes[s],c=e[s],l,f=(l=u.flows)!==null&&l!==void 0?l:[],x=!0,_=!1,h=void 0;try{for(var d=function(){var E=m.value,N=E.id,$={uniqueId:un(),name:N,_connectionType:1,connectedPointIds:[]};c.signalOutputs.push($);var J=E.node,C=E.socket,D=e[J];if(!D)throw new Error("/extensions/KHR_interactivity/nodes/".concat(s,": Could not find node with id ").concat(J," that connects its input with with node ").concat(s,"'s output ").concat(N));var I=D.signalInputs.find(function(H){return H.name===C});I||(I={uniqueId:un(),name:C,_connectionType:0,connectedPointIds:[]},D.signalInputs.push(I)),I.connectedPointIds.push($.uniqueId),$.connectedPointIds.push(I.uniqueId)},v=f[Symbol.iterator](),m;!(x=(m=v.next()).done);x=!0)d()}catch(E){_=!0,h=E}finally{try{!x&&v.return!=null&&v.return()}finally{if(_)throw h}}var p,A=(p=u.values)!==null&&p!==void 0?p:[],T=!0,y=!1,b=void 0;try{for(var g=function(){var E=W.value,N=E.id,$={uniqueId:un(),name:N,_connectionType:0,connectedPointIds:[]};if(c.dataInputs.push($),E.value!==void 0){var J=Gt(E,t,"/extensions/KHR_interactivity/nodes/".concat(s));r._connectionValues[$.uniqueId]=J}else if(E.node!==void 0&&E.socket!==void 0){var C=E.node,D=E.socket,I=e[C];if(!I)throw new Error("/extensions/KHR_interactivity/nodes/".concat(s,": Could not find node with id ").concat(C," that connects its output with node").concat(s,"'s input ").concat(N));var H=I.dataOutputs.find(function(R){return R.name===D});H||(H={uniqueId:un(),name:D,_connectionType:1,connectedPointIds:[]},I.dataOutputs.push(H)),$.connectedPointIds.push(H.uniqueId),H.connectedPointIds.push($.uniqueId)}else throw new Error("/extensions/KHR_interactivity/nodes/".concat(s,": Invalid socket ").concat(N," in node ").concat(s))},k=A[Symbol.iterator](),W;!(T=(W=k.next()).done);T=!0)g()}catch(E){y=!0,b=E}finally{try{!T&&k.return!=null&&k.return()}finally{if(y)throw b}}}for(var O,S=(O=t.variables)!==null&&O!==void 0?O:[],w=0;w<S.length;w++){var L=S[w],q=L.id;r._userVariables[q]=Gt(L,t,"/extensions/KHR_interactivity/variables/".concat(w))}return{allBlocks:e,executionContexts:n}}function hf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vf(t,r,n){return r=it(r),bf(t,xa()?Reflect.construct(r,n,it(t).constructor):r.apply(t,n))}function yf(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},it(t)}function mf(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Ft(t,r)}function bf(t,r){return r&&(pf(r)==="object"||typeof r=="function")?r:hf(t)}function Ft(t,r){return Ft=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e},Ft(t,r)}function pf(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}function xa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xa=function(){return!!t})()}var Af=function(t){mf(r,t);function r(n){return yf(this,r),vf(this,r,[n,Tf])}return r}(ca),gf={__array__:{__target__:!0,translation:{type:"Vector3",get:function(t){var r=t._babylonTransformNode;return r.position},set:function(t,r){var n=r._babylonTransformNode;n.position=t},getObject:function(t){return t._babylonTransformNode}}}},Tf={nodes:gf};function wf(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function kf(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Of(t,r,n){return kf(t.prototype,r),t}var st="KHR_interactivity",Wf=function(){function t(r){wf(this,t),this._loader=r,this.name=st,this.enabled=this._loader.isExtensionUsed(st),this._pathConverter=new Af(this._loader.gltf)}return Of(t,[{key:"dispose",value:function(){this._loader=null,delete this._pathConverter}},{key:"onReady",value:function(){var n;if(!(!this._loader.babylonScene||!this._pathConverter)){var e=this._loader.babylonScene,a=(n=this._loader.gltf.extensions)===null||n===void 0?void 0:n.KHR_interactivity,o=_f(a),i=new wi({scene:e});ki.Parse(o,{coordinator:i,pathConverter:this._pathConverter}),i.start()}}}]),t}();ae(st);oe(st,!0,function(t){return new Wf(t)});function Cr(t,r,n,e,a,o,i){try{var s=t[o](i),u=s.value}catch(c){n(c);return}s.done?r(u):Promise.resolve(u).then(e,a)}function Sf(t){return function(){var r=this,n=arguments;return new Promise(function(e,a){var o=t.apply(r,n);function i(u){Cr(o,e,a,i,s,"next",u)}function s(u){Cr(o,e,a,i,s,"throw",u)}i(void 0)})}}function Ef(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Cf(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Pf(t,r,n){return Cf(t.prototype,r),t}function Lf(t,r){var n,e,a,o,i={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,e&&(a=c[0]&2?e.return:c[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,c[1])).done)return a;switch(e=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,e=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){i=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(c[0]===6&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=r.call(t,i)}catch(l){c=[6,l],e=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var ut="KHR_node_visibility",Mf=function(){function t(r){Ef(this,t),this.name=ut,this._loader=r,this.enabled=r.isExtensionUsed(ut)}return Pf(t,[{key:"onReady",value:function(){var n=this;return Sf(function(){var e;return Lf(this,function(a){return(e=n._loader.gltf.nodes)===null||e===void 0||e.forEach(function(o){var i,s;if((i=o._primitiveBabylonMeshes)===null||i===void 0||i.forEach(function(l){l.inheritVisibility=!0}),!((s=o.extensions)===null||s===void 0)&&s.KHR_node_visibility){var u;if(((u=o.extensions)===null||u===void 0?void 0:u.KHR_node_visibility.visible)===!1){var c;o._babylonTransformNode&&(o._babylonTransformNode.isVisible=!1),(c=o._primitiveBabylonMeshes)===null||c===void 0||c.forEach(function(l){l.isVisible=!1})}}}),[2]})})()}},{key:"dispose",value:function(){this._loader=null}}]),t}();ae(ut);oe(ut,!0,function(t){return new Mf(t)});function Nf(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function If(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Rf(t,r,n){return If(t.prototype,r),t}var er="ExtrasAsMetadata",Gf=function(){function t(r){Nf(this,t),this.name=er,this.enabled=!0,this._loader=r}return Rf(t,[{key:"_assignExtras",value:function(n,e){if(e.extras&&Object.keys(e.extras).length>0){var a=n.metadata=n.metadata||{},o=a.gltf=a.gltf||{};o.extras=e.extras}}},{key:"dispose",value:function(){this._loader=null}},{key:"loadNodeAsync",value:function(n,e,a){var o=this;return this._loader.loadNodeAsync(n,e,function(i){o._assignExtras(i,e),a(i)})}},{key:"loadCameraAsync",value:function(n,e,a){var o=this;return this._loader.loadCameraAsync(n,e,function(i){o._assignExtras(i,e),a(i)})}},{key:"createMaterial",value:function(n,e,a){var o=this._loader.createMaterial(n,e,a);return this._assignExtras(o,e),o}}]),t}();ae(er);oe(er,!1,function(t){return new Gf(t)});const Ff=""+new URL("yuki-pbr.COk5upsy.glb",import.meta.url).href;function Bf(t){return new Worker(""+new URL("poseWorker-l0sNRNKZ.js",import.meta.url).href,{type:"module",name:t==null?void 0:t.name})}(function(t,r){function n(u,c,l,f,x){return P(c-754,u)}function e(u,c,l,f,x){return P(l- -259,f)}function a(u,c,l,f,x){return P(l-832,c)}function o(u,c,l,f,x){return P(f- -623,x)}for(var i=t();;)try{var s=parseInt(e(542,785,628,"u#jm",605))/1+-parseInt(e(-228,-323,-9,"r#q!",-246))/2*(-parseInt(e(-95,660,257,"nyUT",150))/3)+parseInt(e(-87,385,96,")q@M",372))/4+parseInt(a(934,"7!0k",1062,1343,1138))/5*(parseInt(n("3k8i",1108,1429,1235,962))/6)+parseInt(o(-58,-758,-584,-380,"7!0k"))/7+parseInt(o(103,584,-94,301,"nyUT"))/8+-parseInt(o(-453,-217,-550,-249,"3k8i"))/9;if(s===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(ct,-147191+-565361*1+-17121*-86);var Vf=function(){var t=!0;return function(r,n){var e=t?function(){function a(i,s,u,c,l){return P(s-160,c)}if(n){var o=n[a(1063,809,1005,"u#jm")](r,arguments);return n=null,o}}:function(){};return t=!1,e}}();function on(t,r,n,e,a){return P(n-237,t)}var Bt=Vf(void 0,function(){var t={};t[o("nyUT",390,-119,11)]=n(336,"f4!h")+o("KJ5c",-27,-350,-159)+"+$";function r(i,s,u,c,l){return P(i-889,s)}function n(i,s,u,c,l){return P(i- -207,s)}function e(i,s,u,c,l){return P(s-966,u)}var a=t;function o(i,s,u,c,l){return P(c- -610,i)}return Bt[e(957,1192,"zoof")+r(1374,"D6M#")]()[e(1216,1405,"8)3L")+"h"](a[e(1864,1816,"olh6")])[n(347,"hEq7")+o("GjXu",-250,-162,-306)]()[e(1947,1572,"NH6w")+r(1475,"#YET")+"r"](Bt)[r(1369,"gNcj")+"h"](a[n(-44,"X%wp")])});Bt();var Df=function(){var t=!0;return function(r,n){var e=t?function(){function a(i,s,u,c,l){return P(l-458,u)}if(n){var o=n[a(1001,1623,"nyUT",1695,1397)](r,arguments);return n=null,o}}:function(){};return t=!1,e}}();(function(){function t(o,i,s,u,c){return P(o- -428,c)}function r(o,i,s,u,c){return P(s-800,c)}var n={EBpkS:t(-53,-41,-333,287,"VWlL")+r(1663,1738,1560,1583,"l73$")+r(1550,1505,1286,946,"AmML")+")",UOWzn:a(-98,-143,58,"X%wp",51)+e("yC2d",291,857,596)+a(619,12,312,"BhJe",370)+e("mjm1",-313,161,-178)+r(1762,1436,1702,1326,"hEq7")+t(-127,-393,-311,-518,"8)3L")+r(1974,1957,1756,1492,"#YET"),YFdcn:function(o,i){return o(i)},rOGHq:a(617,475,557,"bjqb",241),lKKGM:function(o,i){return o+i},ICSsk:e("olh6",914,802,589),ezmaq:e("UO@r",-297,24,-107),gBszW:function(o,i){return o(i)},hBJGt:function(o){return o()},CNvNG:function(o,i,s){return o(i,s)}};function e(o,i,s,u,c){return P(u- -359,o)}function a(o,i,s,u,c){return P(c- -237,u)}n[e("zoof",671,613,305)](Df,this,function(){function o(_,h,d,v,m){return a(_-385,h-440,d-292,h,v- -683)}var i=new RegExp(n[l(1153,926,"f8(d")]),s=new RegExp(n[x(814,"MvAq",851,677,1088)],"i"),u=n[l(1061,679,"zoof")](Vt,n[x(1050,"dGD(",1546,1057,1213)]);function c(_,h,d,v,m){return t(m- -328,h-170,d-465,v-118,h)}function l(_,h,d,v,m){return a(_-428,h-496,d-370,d,_-967)}function f(_,h,d,v,m){return r(_-203,h-491,m- -845,v-125,_)}function x(_,h,d,v,m){return e(h,h-486,d-406,m-806)}!i[c(-107,")C%(",123,489,122)](n[o(-943,"D6M#",-161,-555)](u,n[l(1033,840,"yC2d")]))||!s[f("D6M#",377,504,435,468)](n[o(-453,"dGD(",-685,-295)](u,n[l(1514,1545,"bjqb")]))?n[x(800,"yC2d",439,414,803)](u,"0"):n[f("gv9[",1199,1048,957,845)](Vt)})()})();function Pr(t,r){var n={};n[a("f8(d",405,310)]=function(l,f){return l==f},n[a("MDi8",153,469)]=function(l,f){return l>f},n[i(10,274,-11,200,"7!0k")]=function(l,f){return l<f};var e=n;function a(l,f,x,_,h){return P(x- -89,l)}function o(l,f,x,_,h){return P(x-253,f)}(e[a("Fkj)",809,449)](r,null)||e[o(1027,")q@M",983)](r,t[c("UO@r",214,693,355)+"h"]))&&(r=t[o(1126,"bjqb",849)+"h"]);function i(l,f,x,_,h){return P(x- -223,h)}for(var s=1559+1*-1559,u=new Array(r);e[a("MvAq",169,495)](s,r);s++)u[s]=t[s];function c(l,f,x,_,h){return P(_- -623,l)}return u}function P(t,r){var n=ct();return P=function(e,a){e=e-(-2976+-1*378+-12*-293);var o=n[e];if(P.WiJNoB===void 0){var i=function(x){for(var _="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=",h="",d="",v=h+i,m=0,p,A,T=0;A=x.charAt(T++);~A&&(p=m%4?p*64+A:A,m++%4)?h+=v.charCodeAt(T+10)-10!==0?String.fromCharCode(255&p>>(-2*m&6)):m:0)A=_.indexOf(A);for(var y=0,b=h.length;y<b;y++)d+="%"+("00"+h.charCodeAt(y).toString(16)).slice(-2);return decodeURIComponent(d)},s=function(x,_){var h=[],d=0,v,m="";x=i(x);var p;for(p=0;p<256;p++)h[p]=p;for(p=0;p<256;p++)d=(d+h[p]+_.charCodeAt(p%_.length))%256,v=h[p],h[p]=h[d],h[d]=v;p=0,d=0;for(var A=0;A<x.length;A++)p=(p+1)%256,d=(d+h[p])%256,v=h[p],h[p]=h[d],h[d]=v,m+=String.fromCharCode(x.charCodeAt(A)^h[(h[p]+h[d])%256]);return m};P.ncLTjs=s,t=arguments,P.WiJNoB=!0}var u=n[-94*65+-953*-1+-5157*-1],c=e+u,l=t[c];if(l)o=l;else{if(P.LjUbTx===void 0){var f=function(x){this.vntwZh=x,this.zqHhTh=[1,0,0],this.hGXhYS=function(){return"newState"},this.nOPEMF="\\w+ *\\(\\) *{\\w+ *",this.NPXLJu=`['|"].+['|"];? *}`};f.prototype.WAUoPX=function(){var x=new RegExp(this.nOPEMF+this.NPXLJu),_=x.test(this.hGXhYS.toString())?--this.zqHhTh[-109*31+2*2978+46*-56]:--this.zqHhTh[0];return this.gRUmib(_)},f.prototype.gRUmib=function(x){return~x?this.nqCIHe(this.vntwZh):x},f.prototype.nqCIHe=function(x){for(var _=0,h=this.zqHhTh.length;_<h;_++)this.zqHhTh.push(Math.round(Math.random())),h=this.zqHhTh.length;return x(this.zqHhTh[-1*9122+769*-7+14505])},new f(P).WAUoPX(),P.LjUbTx=!0}o=P.ncLTjs(o,a),t[c]=o}return o},P(t,r)}function qf(t){function r(n,e,a,o,i){return P(o-197,e)}if(Array[r(807,"isSZ",669,928)+"ay"](t))return t}function Lr(t,r,n,e,a,o,i){function s(_,h,d,v,m){return P(_-674,d)}var u={ocmXx:function(_,h){return _(h)},fcZGf:function(_,h){return _(h)}};function c(_,h,d,v,m){return P(h- -492,_)}function l(_,h,d,v,m){return P(_-462,d)}try{var f=t[o](i),x=f[l(1335,1572,"f8(d",1421,943)]}catch(_){u[c("UO@r",164)](n,_);return}f[l(809,877,"#YET")]?u[c("BhJe",151)](r,x):Promise[s(1493,1168,"EGJT")+"ve"](x)[l(1208,1010,"MvAq")](e,a)}function An(t){function r(a,o,i,s,u){return P(s- -336,u)}var n={CZJBI:function(a,o,i,s,u,c,l,f){return a(o,i,s,u,c,l,f)},RqaEV:r(399,-93,372,203,"r#q!"),YVfyf:function(a,o){return a(o)},FkEPp:function(a,o,i,s,u,c,l,f){return a(o,i,s,u,c,l,f)},uLwpm:e(1482,1873,1530,"gNcj")};function e(a,o,i,s,u){return P(o-913,s)}return function(){var a={azoAz:function(u,c,l,f,x,_,h,d){function v(m,p,A,T,y){return P(p-664,m)}return n[v("mjm1",1228)](u,c,l,f,x,_,h,d)},xCLdU:n[s(453,235,"f0lV")]},o=this,i=arguments;function s(u,c,l,f,x){return e(u-67,u- -1077,l-41,l)}return new Promise(function(u,c){var l={qlBzC:function(m,p,A,T,y,b,g,k){function W(O,S,w,L,q){return P(L- -997,w)}return n[W(-217,456,"a8Cp",26)](m,p,A,T,y,b,g,k)},VGQmU:n[f(1369,1667,1912,1529,"MvAq")]};function f(m,p,A,T,y){return s(T-894,p-200,y)}function x(m,p,A,T,y){return s(T-918,p-263,A)}var _=t[f(754,975,1089,954,"VWlL")](o,i);function h(m){function p(A,T,y,b,g){return x(A-36,T-100,b,T-234)}l[p(2049,1714,1526,"D6M#")](Lr,_,u,c,h,d,l[p(1092,1268,1651,"MDi8")],m)}function d(m){function p(A,T,y,b,g){return x(A-0,T-118,T,y- -919)}a[p(34,"UO@r",448)](Lr,_,u,c,h,d,a[p(379,"4gfK",361)],m)}function v(m,p,A,T,y){return s(T-665,p-386,y)}n[v(1285,1549,1578,1271,"YWgG")](h,void 0)})}}function Uf(t,r,n){var e={};function a(f,x,_,h,d){return P(f- -347,d)}e[i(390,320,"u#jm")]=function(f,x){return f in x};var o=e;function i(f,x,_,h,d){return P(f- -38,_)}function s(f,x,_,h,d){return P(f- -218,d)}function u(f,x,_,h,d){return P(d-340,h)}function c(f,x,_,h,d){return P(h-556,f)}if(o[i(228,528,"l73$")](r,t)){var l={};l[s(258,355,622,383,"f0lV")]=n,l[u(875,822,918,"BhJe",1241)+s(505,873,531,792,"JQEX")]=!0,l[c("6V*g",1126,749,1022)+c("Gr6%",1086,694,1078)+"le"]=!0,l[c("r#q!",1018,610,919)+a(671,712,494,822,"YWgG")]=!0,Object[c("dGD(",743,1185,862)+i(511,373,"KJ5c")+a(450,446,388,171,"Fkj)")](t,r,l)}else t[r]=n;return t}function jf(t,r){var n={};n[e(-136,242,44,"VV8W")]=function(d,v){return d==v},n[e(-238,170,598,"r#q!")]=function(d,v){return d!==v},n[e(-216,86,-248,"bjqb")]=e(549,448,512,"nyUT")+s(636,1108,947,545,"gv9["),n[e(-199,101,90,"MvAq")]=i(-247,-184,-448,"Gr6%")+i(-111,-197,122,")q@M"),n[s(1004,1476,1093,861,"f8(d")]=function(d,v){return d==v},n[i(482,-158,216,"bjqb")]=function(d,v){return d===v};function e(d,v,m,p,A){return P(v- -240,p)}function a(d,v,m,p,A){return P(m-864,d)}n[s(321,188,510,317,"KJ5c")]=function(d,v){return d!=v},n[a("X%wp",1158,1445)]=e(382,701,1046,"EGJT")+"n";var o=n;function i(d,v,m,p,A){return P(m- -690,p)}function s(d,v,m,p,A){return P(m-94,A)}var u=o[i(240,-10,198,"hEq7")](t,null)?null:o[h(1691,1286,1457,1335,"nyUT")](typeof Symbol,o[s(44,541,434,434,"gv9[")])&&t[Symbol[h(1659,1438,1393,1136,"l73$")+e(501,629,500,"UO@r")]]||t[o[e(790,736,1075,"dGD(")]];if(o[h(1667,1742,1615,1245,"x4%x")](u,null))return;var c=[],l=!0,f=!1,x,_;try{for(u=u[a("MvAq",1427,1463,1284,1825)](t);!(l=(x=u[s(298,881,596,314,"#jEy")]())[s(513,833,669,759,"olh6")])&&(c[e(49,67,17,"gv9[",288)](x[s(546,736,445,817,"isSZ")]),!(r&&o[e(109,144,26,"x4%x",-220)](c[h(975,1311,978,603,"f4!h")+"h"],r)));l=!0);}catch(d){f=!0,_=d}finally{try{!l&&o[s(267,493,301,494,"zoof")](u[o[s(432,1017,681,864,")q@M")]],null)&&u[o[a("dGD(",1643,1760,1624,1403)]]()}finally{if(f)throw _}}function h(d,v,m,p,A){return P(m-601,A)}return c}function Kf(){function t(s,u,c,l,f){return P(f- -375,s)}function r(s,u,c,l,f){return P(u-566,c)}var n={};function e(s,u,c,l,f){return P(s- -129,c)}n[r(666,835,"7!0k")]=r(1295,1112,"YWgG")+r(512,847,"BhJe")+e(374,392,"Gr6%")+i(-440,-233,-482,"WA8j")+t("#jEy",397,196,283,473)+i(-395,-582,-76,"3k8i")+o(50,-265,"EGJT")+i(101,10,516,"T[F&")+i(-122,-189,-271,")C%(")+i(-236,-125,-459,"4gfK")+r(960,1329,"BhJe")+i(-148,219,-315,"isSZ")+i(-134,-360,224,"mjm1")+e(743,922,"6V*g")+e(205,-220,"f0lV")+t(")q@M",545,180,624,399)+i(-650,-533,-302,"mjm1")+t("hEq7",847,783,474,597)+i(-439,-334,-354,"olh6")+r(1568,1245,"NH6w")+t("a8Cp",795,258,611,443)+t("KJ5c",-623,64,-218,-196)+t("D6M#",388,395,360,241)+o(-267,-568,"u#jm")+r(1380,1428,"a8Cp")+t("VWlL",314,232,648,604)+r(1195,1450,"dGD(")+"d.";var a=n;function o(s,u,c,l,f){return P(u- -735,c)}function i(s,u,c,l,f){return P(s- -899,l)}throw new TypeError(a[o(-699,-343,"yC2d")])}function Hf(t){function r(l,f,x,_,h){return P(x-191,f)}function n(l,f,x,_,h){return P(_-703,x)}function e(l,f,x,_,h){return P(x- -125,_)}for(var a={UmkpA:function(l,f,x,_){return l(f,x,_)},Qrbma:function(l,f){return l<f},isemh:function(l,f){return l!=f},MlHpD:function(l,f){return l===f},XSvEK:n(789,460,"BhJe",871)+c(890,1194,1068,")q@M")},o=947*-1+14*86+-256;a[c(1021,1264,1376,"#YET")](o,arguments[r(1039,"UO@r",1169)+"h"]);o++){var i=a[u(-110,"r#q!",-684,51,-325)](arguments[o],null)?arguments[o]:{},s=Object[e(232,618,596,"X%wp")](i);a[r(1354,"JQEX",1171)](typeof Object[r(1437,"Gr6%",1211)+u(96,"l73$",50,-171,-136)+c(966,838,1034,"nyUT")+u(519,"($xq",417,18,267)+"s"],a[e(1017,881,719,"8)3L")])&&(s=s[e(746,1009,710,"AmML")+"t"](Object[c(1042,1301,896,"olh6")+c(1106,498,758,"Gr6%")+r(999,"a8Cp",853)+c(994,1419,1245,"yC2d")+"s"](i)[c(1046,878,1125,"f0lV")+"r"](function(l){function f(v,m,p,A,T){return e(v-373,m-147,T- -627,m)}function x(v,m,p,A,T){return n(v-373,m-16,m,A-286)}function _(v,m,p,A,T){return u(v-371,A,p-217,A-499,v-926)}function h(v,m,p,A,T){return e(v-429,m-386,T-610,v)}function d(v,m,p,A,T){return c(v-341,m-200,T- -617,v)}return Object[f(-496,"8)3L",-361,-524,-559)+_(776,897,704,"KJ5c")+f(-34,"7!0k",-166,-29,-419)+d("bjqb",509,530,937,509)+_(1128,1322,1048,"D6M#")](i,l)[h(")q@M",615,676,948,822)+x(1980,"WA8j",1432,1556)]}))),s[u(350,")C%(",-52,171,-26)+"ch"](function(l){function f(x,_,h,d,v){return u(x-246,d,h-406,d-112,x-774)}a[f(465,466,820,"ctNo")](Uf,t,l,i[l])})}function u(l,f,x,_,h){return P(h- -721,f)}function c(l,f,x,_,h){return P(x-511,_)}return t}function $f(t,r){function n(u,c,l,f,x){return P(f-97,l)}function e(u,c,l,f,x){return P(u-952,c)}function a(u,c,l,f,x){return P(u-325,l)}function o(u,c,l,f,x){return P(u- -671,x)}var i=Object[a(603,498,"u#jm")](t);if(Object[o(-446,-97,-626,-562,"mjm1")+n(1407,1393,"UO@r",982)+a(1155,1371,"T[F&")+o(-278,-581,-187,-450,"olh6")+"s"]){var s=Object[o(98,439,285,22,"EGJT")+a(928,819,"Fkj)")+o(-378,-47,-67,-692,"KJ5c")+e(1554,"f0lV")+"s"](t);r&&(s=s[a(1062,903,"VWlL")+"r"](function(u){function c(x,_,h,d,v){return e(v- -640,d)}function l(x,_,h,d,v){return o(x-1316,_-277,h-3,d-312,h)}function f(x,_,h,d,v){return n(x-159,_-110,v,x- -276)}return Object[f(380,470,90,497,"AmML")+f(609,245,343,928,"#jEy")+f(450,110,577,792,"#jEy")+f(49,-109,-213,-227,"ctNo")+l(1282,1424,")C%(",1331)](t,u)[f(685,1057,315,889,"zoof")+c(912,1387,1298,"Gr6%",1211)]})),i[a(1121,1231,")q@M")][o(282,672,-103,11,"#YET")](i,s)}return i}function Jf(t,r){function n(u,c,l,f,x){return P(x- -700,l)}var e={ESbzz:function(u,c){return u!=c},DpnAg:function(u,c){return u(c)},tUNFF:function(u,c){return u(c)}};function a(u,c,l,f,x){return P(f-966,u)}r=e[i(1415,1126,"WA8j")](r,null)?r:{};function o(u,c,l,f,x){return P(l- -524,u)}function i(u,c,l,f,x){return P(u-524,l)}Object[s(943,"VV8W",991,778)+i(1043,1226,"X%wp")+i(1153,1457,"#jEy")+a("f8(d",1085,1047,1237)+n(-132,-358,"WA8j",-619,-511)]?Object[a("dGD(",1512,1396,1272)+n(59,-54,"GjXu",8,-99)+s(609,"BhJe",939,803)+"s"](t,Object[n(-75,-452,"4gfK",-250,-471)+n(-116,-219,"NH6w",-597,-377)+o("MDi8",-331,-104)+o("Fkj)",117,266)+o("8)3L",-176,170)](r)):e[o("ctNo",34,-249)]($f,e[s(1729,"VV8W",1063,1346)](Object,r))[a("GjXu",1103,1104,1415)+"ch"](function(u){function c(h,d,v,m,p){return i(m- -1142,d-261,d)}function l(h,d,v,m,p){return o(p,d-170,m- -388)}function f(h,d,v,m,p){return o(h,d-166,v-387)}function x(h,d,v,m,p){return i(d- -1316,d-292,h)}function _(h,d,v,m,p){return s(h-300,v,v-492,p- -630)}Object[f("BhJe",191,445)+c(-41,")q@M",24,379)+f("7!0k",792,501)](t,u,Object[f("l73$",1201,793)+l(-451,-533,-1034,-653,"f8(d")+x("4gfK",-583)+_(301,780,"gv9[",83,450)+x("#YET",144)](r,u))});function s(u,c,l,f,x){return P(f-356,c)}return t}function Qf(t,r){function n(o,i,s,u,c){return P(u-739,i)}function e(o,i,s,u,c){return P(u-257,s)}var a={kYSoP:function(o,i){return o(i)},mXdMv:function(o,i,s){return o(i,s)},BqExb:function(o,i,s){return o(i,s)},IISbJ:function(o){return o()}};return a[e(1224,1542,"NH6w",1200)](qf,t)||a[n(1403,")C%(",1465,1610)](jf,t,r)||a[e(1274,1253,")q@M",1010)](Yf,t,r)||a[e(827,1028,"mjm1",809)](Kf)}function Yf(t,r){var n={raQfp:o("T[F&",484,947,693)+u(-172,99,-94,"JQEX",37)+"2",JofaT:function(f,x){return f===x},BAaEf:i("AmML",819)+"g",EDWhJ:function(f,x,_){return f(x,_)},yspJs:function(f,x){return f===x},ioxbr:o("UO@r",184,835,505)+o("hEq7",179,522,602),hDtRg:function(f,x,_){return f(x,_)},KPKvV:function(f,x){return f===x},CVCmX:i("VWlL",712)+"t",NacbV:function(f,x){return f===x},JorIO:s(242,536,427,"YWgG"),zIOBj:function(f,x){return f===x},KgaHp:i("($xq",1023)},e=n[u(89,166,230,"VV8W",-107)][s(339,425,365,"zoof")]("|");function a(f,x,_,h,d){return P(_-276,f)}function o(f,x,_,h,d){return P(h-310,f)}function i(f,x,_,h,d){return P(x-384,f)}function s(f,x,_,h,d){return P(x- -130,h)}function u(f,x,_,h,d){return P(d- -956,h)}for(var c=1357+-1357*1;;){switch(e[c++]){case"0":if(n[o("hEq7",878,783,741)](typeof t,n[u(-794,-877,-628,"u#jm",-553)]))return n[o("Fkj)",930,705,711)](Pr,t,r);continue;case"1":var l=Object[s(509,886,1018,"hEq7")+o(")C%(",948,863,1113)][a("MvAq",909,1238)+o("WA8j",455,335,530)][s(835,827,611,"D6M#")](t)[i("BhJe",549)](2*-3251+1*-233+-613*-11,-1);continue;case"2":if(n[a("7!0k",709,909)](l,n[o("AmML",949,564,594)])||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[o("KJ5c",1072,1298,1176)](l))return n[s(348,632,807,"#jEy")](Pr,t,r);continue;case"3":if(!t)return;continue;case"4":n[s(517,733,996,"AmML")](l,n[s(491,92,-182,"mjm1")])&&t[u(-423,-370,-420,"a8Cp",-81)+i("D6M#",640)+"r"]&&(l=t[i("ctNo",692)+s(1078,875,542,"Gr6%")+"r"][a("WA8j",436,663)]);continue;case"5":if(n[a("($xq",1119,800)](l,n[a("6V*g",446,529)])||n[u(-536,217,-484,"a8Cp",-145)](l,n[o("dGD(",1407,720,988)]))return Array[i("D6M#",1277)](l);continue}break}}function gn(t,r){function n(d,v,m,p,A){return P(v-751,m)}var e={nblaw:function(d,v){return d&v},Sfnrm:function(d,v){return d(v)},ppUPL:_(812,312,"#jEy",489)+_(889,644,"MDi8",547)+n(1546,1759,")C%(")+n(1113,1041,"WA8j")+_(761,1080,"isSZ",737)+_(743,600,"6V*g",651)+".",gVVZo:function(d,v){return d&v},UChba:x(1056,1310,1186,1045,"YWgG")+"n",goPav:a(1094,893,647,894,"NH6w"),TPgTt:function(d,v){return d>v},RxXPq:function(d,v){return d-v},RrDnG:function(d,v){return d===v},GOvwM:function(d,v){return d<v},qFYlS:function(d,v){return d===v},ragzX:function(d,v){return d<v},pwUSn:function(d,v){return d<v},EdnKL:function(d,v){return d&v},muhfu:function(d,v){return d(v)},PikrM:x(1144,920,794,527,"VWlL")+n(1299,1495,"x4%x")};function a(d,v,m,p,A){return P(p-61,A)}var o,i,s,u,c={label:0,sent:function(){if(e[d(-160,260,"f8(d",454,110)](s[17*338+-8661+-265*-11],1))throw s[8686+2377*-1+-6308];function d(v,m,p,A,T){return f(T- -179,p)}return s[-53*157+-929*4+-463*-26]},trys:[],ops:[]};return u={next:e[_(235,614,"yC2d",497)](l,6818+-1*6115+-703),throw:e[a(1280,792,1410,1028,"($xq")](l,1*-2687+-7864+10552),return:e[a(117,74,380,335,"UO@r")](l,-1563*2+-7226+10354)},e[a(430,1063,1104,803,"a8Cp")](typeof Symbol,e[x(624,1275,933,502,"yC2d")])&&(u[Symbol[a(1068,718,1113,832,"#YET")+n(1150,1291,"yC2d")]]=function(){return this}),u;function l(d){return function(v){function m(p,A,T,y,b){return P(b- -341,A)}return e[m(274,"GjXu",669,-57,372)](h,[d,v])}}function f(d,v,m,p,A){return P(d- -581,v)}function x(d,v,m,p,A){return P(m-419,A)}function _(d,v,m,p,A){return P(p-313,m)}function h(d){if(o)throw new TypeError(e[b(-584,-744,-552,-847,"l73$")]);function v(g,k,W,O,S){return n(g-495,g- -1087,k)}function m(g,k,W,O,S){return a(g-439,k-368,W-100,O-771,W)}function p(g,k,W,O,S){return n(g-238,W-43,g)}for(;c;)try{if(o=-8771+-3*-628+6888,i&&(s=e[b(-33,26,217,-167,"3k8i")](d[1733*-3+-8*-226+-3391*-1],4583*-1+7886*1+-3301*1)?i[e[b(28,22,442,393,"MvAq")]]:d[-381*-5+-731+-1174]?i[e[v(596,")C%(",623,613,969)]]||((s=i[e[p("BhJe",1347,1327,1699,1297)]])&&s[p("gNcj",1037,1196,948,789)](i),0):i[p("T[F&",1341,1008,996,1107)])&&!(s=s[p("gv9[",1097,1446,1828,1167)](i,d[-2*-575+7868+127*-71]))[v(604,"F%^z",794,544,968)])return s;switch(i=2568*-2+-83*-93+-2583,s&&(d=[e[p("6V*g",2228,1805,1955,1456)](d[-8818*-1+9221*1+-7*2577],7*1249+8417+8579*-2),s[y(567,"f8(d",836,575,755)]]),d[-5060*-1+-1*6383+1323]){case-4*1153+-8203+11*1165:case 13403+2*-6701:s=d;break;case-7291*1+-8801+32*503:c[y(558,"3k8i",212,-174,225)]++;var A={};return A[y(457,"UO@r",327,-193,78)]=d[-6702+3*-263+1873*4],A[b(91,406,-244,-150,"VV8W")]=!1,A;case 5:c[v(446,"bjqb",506,573,831)]++,i=d[-5*706+-8620+12151],d=[-7600+5*1520];continue;case-31*-11+1*2881+-3215:d=c[p("MvAq",1197,1284,1667,1677)][v(-4,"nyUT",64,395,-127)](),c[m(1608,980,"MvAq",1232,1577)][y(442,"a8Cp",937,661,537)]();continue;default:if(s=c[p("($xq",1423,1453,1755,1654)],!(s=e[v(471,"f8(d",363,600,389)](s[v(-149,"olh6",-499,2,-545)+"h"],7346*1+-3881+11*-315)&&s[e[b(-26,-56,-409,-308,"Gr6%")](s[m(1314,1741,"MvAq",1642,1864)+"h"],-2*4415+6680+2151)])&&(e[m(1728,1353,"nyUT",1686,1467)](d[-42*-135+-1*-5417+1*-11087],-4171+4*2333+1*-5155)||e[y(154,"BhJe",799,849,501)](d[8123+-157*53+-1*-198],-11670+-4*-2918))){c=0;continue}if(e[b(-342,-490,-21,-615,"Fkj)")](d[1019*2+1*-1801+-79*3],-3956*2+322*21+1153*1)&&(!s||e[b(-157,185,-98,249,"a8Cp")](d[5167+2*-2583],s[0])&&e[p("MDi8",847,1143,1037,841)](d[-4*-797+2099+1762*-3],s[1151*3+512+-3962]))){c[p("f4!h",813,1201,835,1546)]=d[1];break}if(e[p("f4!h",1327,1198,1534,1221)](d[1589*-6+-9163+18697],-5814+823*6+126*7)&&e[v(238,"Fkj)",-118,361,281)](c[p("f8(d",1327,1052,936,797)],s[-3532+9472*-1+13005])){c[v(638,"isSZ",582,997,793)]=s[43*-167+3*-1955+-3*-4349],s=d;break}if(s&&e[m(591,713,"F%^z",1005,1405)](c[p("KJ5c",1893,1500,1261,1597)],s[-13564+-4522*-3])){c[m(1276,1065,"ctNo",1258,1309)]=s[79*3+-104*65+-435*-15],c[b(-211,-440,-592,-590,"l73$")][b(-391,6,-91,-511,"UO@r")](d);break}s[-4931*1+5*-1645+-153*-86]&&c[p("l73$",992,1344,1488,1021)][m(1416,1250,"hEq7",1568,1470)](),c[b(251,212,-68,49,"8)3L")][m(1834,1215,"VV8W",1584,1689)]();continue}d=r[y(16,"gNcj",312,-82,284)](t,c)}catch(g){d=[7095+2*532+-31*263,g],i=9317*1+-11*871+264}finally{o=s=4410+-33*-211+-11373}if(e[v(198,"ctNo")](d[3*-227+-3375+4056],-1*-941+-2548+1612))throw d[-67*-137+521*17+3607*-5];var T={};T[v(397,"3k8i")]=d[-589*8+-1325+6037]?d[1794+-21*458+-25*-313]:void 0,T[y(1189,"F%^z",858,1012,822)]=!0;function y(g,k,W,O,S){return x(g-101,k-64,S- -537,O-432,k)}function b(g,k,W,O,S){return n(g-500,g- -1512,S)}return T}}function rn(t,r,n,e,a){return P(e- -762,t)}var da={};da[hn(-173,-188,-444,"BhJe")]=hn(-83,-399,-241,"WA8j");var zf=da,_a={};function Mr(t,r,n,e,a){return P(e-652,a)}_a[rn("NH6w",-402,84,-288)]=rn("T[F&",-299,11,89)+rn("#jEy",-88,204,-136);function ct(){var t=["BIdcNmoQzG","yH40vCoa","WOmykKVcKG","WQK+p3RcTG","ocZcU0fH","W5KZrgJdQSkTDmkABKFcHW","lCkmxxdcHa","j1uvts8","WO3dUSkDWR/cLa","WPzqWOuBWPu","gSoicmkDWR0","WPVdTmkIWRW","sqvXW5G","WPtdI8o3W57dGW","WRGKcKpdKq","WOpdISoxW6BdPG","CdZdVmoKWOi","WOVcMSolW7JdKG","W4PSaaGT","WOXHmGtcNG","BCkjWOK","W7GxWQpdVmkT","eJZcSmoHka","W51NbGWY","W5ZdQvLcgG","WQdcNSokW6e","WOv5mSkZWO4","kGNcLCoJ","W4mtFa","AH09zCoF","yCksqINcSW","WP3cNfrJWRS","CH49CCon","WOnaWOSTWR0","W74kWQZdU8k2","Ac5+WOpcHa","WO1KfGVcGG","EmkVvra","BH7cS8o8tG","WOb4WP4vWO0","W6JdRvjmhG","WRhdK8oZWOCU","BNFdKCkqWQO","BZZdVmo5WP8","W5KSFfHx","W6DLfGz5","W4nmW4iqBxddRmornmoKWOtcNq","WRK/eSouya","lCkmWQ4/WQ4","scLEW7VcJq","p8k8B1/dNG","kGFcNSo7gW","zvldUSk3","q8kUBs7cPW","oZ5wWOiB","AGJdISo0WOy","WRpdKvLZW7u","WQi+aCoa","WQ/dKSkCaCkA","qMmzWRVdNq","E8kcWOHfW7y","W7nWu8oskq","F8k/yapcVG","dmoceSkEWRq","h8kMAq","WPakohZdTa","BrNcQa","WRCra8oaCa","WQa0c1hcTG","AmkqvapcKG","lNmSWQdcTSkEhexcMa","jKKpwG","W6TDmJmd","WPldHCoCzCoD","W4/cI8oDja","WR7dL8kdWRxcQW","WODLea","sG3dNmoNWRO","WRZdG8koaCkg","EmkLDrdcTW","tcHEWPtdHa","AeqjWQRdVW","C1tdUSkO","W7FcICkbWOJcSfeSuSoBWQxcPwhcUCop","WRxdJ8oeEmox","BJa6vCoF","WRWUaa","uZuYjmoM","rSk9Cq7cLq","WPlcTmoHuCka","vJ8deCob","A8kLDGxcSW","zdBdUSouWPe","WONdUSkGWQZcGq","DSkjWPbb","W73dR1rD","aCksi0BdIW","W68uWQRdU8kU","WQFdICodW5ZdVq","AqRdKmoZ","v8krtSkGqG","md5w","W4hcGmocW6FcMW","WQNdMCkZj8kZ","WOW1WPLdiq","ASkLsrddQW","kSkXxu3cTa","WRPjWO0iWPe","W4pcT8oLW7VdUa","x3SprG","pb/cImo2gq","WPpdJezQW6i","W6ZdQ0TdaG","W4tdGCoMpZC","dCkKjSkEjW","WQNdHHeg","yehdUCk2","WRDeWPqv","WQ1ZWO7dHaK","WOxdGSoaFSod","qColgJRcLq","smkvW6dcOSoe","FcHU","bJbkWOPg","WQBcLmomW7VcMa","eSoffq","rhqwWONdJa","WOZdN8o1W5BdGa","CbH+W5lcUa","WRRdMSofWPuU","neCs","WReVc8okja","WQCfWRRcMq","Dcb6WONcUa","fL8K","EbFdJCogWOC","varM","W5Szyfbt","j8kNWQe3WPi","WP/dK8oEWPyy","W4tcSCoiW4VcGq","WRdcQ8o0W5dcJG","W4pcTSo/","WPZdMu5Y","cZJcPKrb","W7WgWRBdOCkT","kCoohmkrWOC","ugWCWOddLq","W5rGjtag","WOVdJSkcWP/cOG","vCkoW5BcPmox","W4CtFv5t","WQ7cI8oQW5mG","DCowgdBcIW","WOrgemk0WQW","WRBdLSoaW5NdSa","FcBcQmoNwW","r8oHdrVcOq","zIGiCSoF","eSoEhSkaWRa","lCkAA0xcOW","tW/dVCoGDa","cCkBAeVdGq","WQ3dNmokW4ddQW","WQ/dHSkDgCkq","v8kTW5hcRmoI","C0/dPSkZWQS","zCk5bGxcQq","W4unzKrl","uG5ZW5xcIG","WPxdQMbCW7q","WOuFmeW","DYKbjmos","rMBcLSkitq","oSkxr27cIa","WRmVbCohAW","WRaZi0/dLa","WOXNeG","u8kvvSkGvq","WRRdLSkkiSki","DHOIBCos","WPNcSmo3E8kB","W54/WOJdISkl","wSovltVcMq","E8oIbGNcPW","WRJdU8oAyCo/","BCkaWPrlW7y","gCk9W4HlW4m","WPSuW59miq","EmkzWPnlW6C","W7DoiqO1","WORdJ8oXWOa3","WPSIiM7cIG","gmolf8kE","FrldQ8ofvG","EYb2WPRcTq","W5jSjtKJ","bumpwIG","WOxcOCoatSk7","W7JcRmoDc8oK","WQlcNSkzW7tdNa","qWr6W4/cJq","W7hcTCkngmo2","FYrSWRNcPW","vHO6oCoz","sSo5CCoccq","W4KtWOZdVSk1","WODIn8k1WOO","WRveWOigWOS","WRRdUSoFwCoh","cSkByLFdLW","kSkKWQa7W7S","qXZdV8ouWRy","WOGnk8o1ta","WPyipxdcIG","gIRcILDG","W7yoAujk","W4eDyKjc","W57cKSo+W7JcOq","WRaicG","WOldJ8og","mapcLq","umk5WQTdW54","nYRcGCoGga","iCknrW","W6VdTfrBvq","WQacWONcI8kF","udSbhCoD","W5D+hcG0","AGpcUmo8wq","iCkqWQ41W5K","uCoTDCorgq","m8kQWRiiW7a","aSktF1BcRW","WQi5dSo2CG","fCopa8kg","W4qmWPFdOCkB","DtL9W53cGW","WR5jl8krWOy","DM0BWOJcLW","WRZdUSkHWRZcLG","e8kbAG","WRn/WO7dQq","W6JcVmoQkmo1","ECo+ibRcVW","nmkkW7LYW4S","W4ZcJ8oDcSoA","W4XMibuL","xrpcRmoHsa","rJWqbSoA","i8khWQ4dW6O","F8oAgGxdNtFcV8kSW7ZdKfi","DdddRmo0WP8","odNcImoKjG","qrTKW5dcGa","W7hdSSo9cMe","W4/dQSo3h28","WQdcKCo0W5/cSa","W4xcSmoAW6VcKq","WPpdTmk7WRZcLG","ESkjWOTbW7a","x8k7WP5VW70","nMSetdi","WP3dS8kxgCkA","ECosgqNdN0ldTmoZW4BdRL0PW6eK","CdJdVmo0WRq","WQVdK8oEWPCj","wmoYdrBcOq","WRpdO8kmaSkp","WQ4yWQVcHmod","W4xcHCohAmom","t3/dIs1BfIlcOmkllW","ysXCWOBcRq","W54sFKjt","WRJdK0rpW5q","WQBcISorW6BcKa","WQ1dWQhdSqy","CvxdTSkUWRa","AbBdO8oaWOC","Ab4ZyCoe","AI8JA8oy","WR7cTmosW4tcIW","WRmYgCohsq","WPGDWP9ciq","W6BcM8oDW5RcUq","W6pcJ8kMW5nUW4PfW7rTzSkaW6BdQCoF","W6f5xG","WQBcNSo5rmkI","imkdWQ4T","WOzfh8kBWOS","bmkMs3pcIa","wSoWgXRcOG","yqWYDSob","WRBdTSk8WRBcLG","W43cVmoLW53cUa","W5OjzLfs","zZ8DnCou","WP1eWPOiWPW","WPGdlvRcHq","WP8DWOHw","zGddH8oMvW","W4BdGCodfrq","D8kiW51jW6C","j8knwq","mrxcRCkBWRpcVLeidG","mapcG8o1da","WQmGaL/dLq","WQPvWO0vWPO","WRmYgCoACa","Amk4m1JdRq","WR7dKmoHWOmU","cmkkBehdNq","feaPAaS","WQyZhSoa","WRhcIConW6ZcRW","nmoieCkxWRi","zaVdISoLcW","g8kFFq","WPPagchcSa","WRhdNmkz","WR3dPxTbW64","WOBcTmoHv8kz","WOSSzgxcOG","omknwLxcMq","BSopsSoxfW","WQL0WOC","WQuUhupdHa","zJZdRSo4WP4","ub5NW5q","qcaDb8oh","uSouhIFcPq","uSoDy8oYnq","tCo0ntdcOG","qSk6wG","WPHIeZtcTq","DaOIBa","WQuTd1m","y8kICCkEDa","jCkVAgVcVq","WRmhcKNcSq","bSkUW4zo","uHTIW4VcLG","eemh","WQRdTSo6W4FdIW","W4tcICoJW6FcUW","hmkoW7PsW4m","W7KaWRdcPSko","WQ0rb0/dHG","FuGVWQZdUG","gSkyW6n7W5e","WRVdKCoMWPmO","WQjmnGtcQW","W6fpfWi5","WRBdLSod","lCkqxuxcQq","wCkHuXlcLG","WOzmpa8tWO/cVSowWR3cGJxcNmkZWOa","Cq8HyCoA","FbJcR8oLtG","WOFdIf9OW7W","B8k0ra3dMq","wdT9W5NcJW","rSk0W7BcGCob","zXddRa","WQmnWQJcJ8kD","v1NcOmklvG","pmkuW6bQ","vt0wq8oK","W6NdTfvk","WQmjWQtcJCkf","W5FdICoKdWW","EalcRSoPsa","BIb0WPNcSq","quRdLSkSWPm","W7ZdQCoLhtm","W71zW7lcQ8kDW5ZdKwZcGG","kehdQmkXgmoMWQ1dWORdIb4aWRa","qmooASoEkW","WQVdVSoKyCo/","nmkxW6W","WR3cUmo+W4ZcUa","W4qzEG","WPuip1BcNG","uuhdSCkZWQO","cJ3cL2fU","qSksvSkwDa","B2VdNSkDWPi","W6NdV8oKmXq","W6FdRSo3hs0","kYNcUSoAna","sqvGW4/dIG","W4CjFv8","smkEurFcGq","mumguJ8","B0xdU8k9WQS","W7XAW7JdN8oaWP7cLctcLg/dSCk6W5RdHG","m8kpW6D9W4y","AexdRmkQWRa","ntrwWOaC","rbRdRCoZWQi","r0NdRmkFWPu","vJ/dUSobWPe","gchcILLM","WRBdLSoaW5u","smows8koW6a","yxRcMCkOFG","WR5eWPGUWOG","WOnXWQ4lWQO","fmkoyea","tZddT8ofBW","F8koWO5hW78","W77dLgTgka","WQlcMSovW6dcMq","A8oiE8oRgq","WQbmWO4oWPm","WOXQWQiSWRW","WP9gasBcUW","fdZcM3HN","AWFcSSo7rW","f8ofgSkwWRq","vrmcyCo+","smkiW4RcPq","WRzuaCk+WQS","WPldI8oEFq","WRy5WPbGmW","kbDHWOS7","WPJdVSk4WO3cLG","WRJcLmooW7dcJG","ntbAWOie","AYRcQSk4W5G","W7hdPmolnqu","odZcMKnT","WPpdVKrQW5m","DIiybmoY","umo2hv3cNW","WRZdImk4WRZcHG","WPRdJ8olyCoB","WRVcJmowW5ZcNW","sqr6","D0xdRCkUW7i","WQfIeSk4WQy","W7xdTmoMaqu","WOemWPq","WPJdVSk4WPBcKW","qt0HB8o7","ocrGWONcTW","WPldVSkOWRdcHq","tY4reCoF","W5tdSgPGoG","WQC3WP1/aa","W5NcJ8oAmmob","oNuvst0","WOKYdmosua","WQ88cmowAa","mKKsvI4","W6xcM8o5W4RcMq","kHJcICo+ea","qSktx8kN","W5i8WO/dJ8k3","WPZcVSo7","WOiike3cNG","WQ7dLSkqgq","W7pcMSooi8og","neCnsJ8","CCkzEqZcUa","WRjeWPurWPa","zwZdV8kBWRm","WOFdI8oEzmor","E8kEWOLbW7y","qvFdSSkJWO4","WQz1WPldMaK","W6uUWQxdV8k0","W73dKmkqWR7dLq","CrPnW7/cSa","aZHrWRyT","g8kKxxlcPa","WPZdGmkha8kC","WOuQoxRdGW","t8obu8oQga","saNdM8o7xq","wSkByGxdGa","WRzdWOyeWPW","caVcUfTG","qctcT8oKFa","WOiinfddTW","WQG9WQxcG8k/","W415fWaJ","WPhdK1HGW7i","q8oPE8or","WP10m8kKWQ0","j0jbxtu","bCkAvCk7hq","at0wamog","rSkCWPPoW7G","WQaYbf3dNa","W4NcTCoWW7VcUa","WQxdI8koWRpcSq","rSk0wHxcKG","m8kvW7TBW5m","WRWVb14","W4uslKnp","WOldJ8oty8ox","DSoQpsBcVW","WOxdUCk0WR7cGa","ndbaWR4j","WRHKgqdcVW","AK7dSG","butdM8k9iG","WQddM8oZWPr8","sqvZ","l8oTd8k1WQC","u8kkW4a","Cs0emSoE","k3CQW5NdPCoyxq/cS8o6WQ8dk3i","WQX8m8kXW48","Amo9C8o8la","W5JcJ8ohmq","W7aRAMvE","WQfsWRldMam","WRBdNSoIWOC","oHJcLmoLvG","WP3dRSk4WQ3cIW","n8khWQ4","lemzsW","WQNdLSkthCkl","WQWyWR/cMmku","uH53W4JcLG","u8kDxSkWxW","FCkaWPXBW6a","FCoQAmoMnq","WOBdMureW74","uW56W4G","r17cOCkntG","BCkUqIhcSW","D0xdPSkU","D8oLCSowmq","W4qqA0vx","W7dcI8khW7ZdPHDUhSoC","WRhdHhfmW4S","mmkiW4r7W5y","wSodhrZcVq","d8kFFuddLG","C1Psq2O","WRRdHSkmdmkD","WQpdI8ohW4NdLW","z2aDWO3dRW","W6exsffW","pmkHWPyOW4G","D8oelqtcTW","C8kXW77cOCoZ","W5JcMmokcSop","W4xcTCoKW7ZcRG","WOldHNDwW44","WRNdL8kFgCkE","s8kVWPvkW7i","zISDp8o/","rSkvvmkJuq","mYBcQmo0eq","Bb8HmmoM","WQj8bCkZWRC","eYRcHMe","u8oJAW","reW/WRJdQq","FJ0AuSom","CxKqW4Ld","WPddMSocFCon","W4fLoXac","WQDLatdcTG","W4/dSxHznW","rfG/WOpdLW","WRhcQ8olW7RcJa","WPRcOCoM","zmk4DCk5FW","W6lcO8o6j8oN","WRpdMmoxW5BdGG","WRCYoCohDG","W4T5hWGJ","omojnmkBWQC","CbNcTa","W5ZdImo6mZK","pGNcJ8oycq","umkvxSkZDG","W5hdG8oLpqC","WRyYa3pdGq","mGNcGG","W63cGCoSfCoD","WOZdMSoRW5hdIW","W54kWQ7dP8kW","cmkoB0NdGq","WPFdImoqDCoF","AqtdISo3","zuSpWOVdIG","WRRcQ8olW7RcJa","DJOqsCoI","DrFcUmoTrW","WOfXmCkSWRK","WR1oWOie","cCoVoSk/WPS","CtZdPSoL","WRyUafNdHa","WPuhdmogBG","WPJdMvvY","xmoclrBcUW","ESkjWPTbW70","wSohEvFdKq","DSklW6xcVmo0","WPVcGCoNCCkh","W7/dRLHBfa","CsFcMmoTxq","bwaZDYS","CvhdVCkPWRm","WPpdQmo1WQeY","W5ldRmordG0","WO0gWONcNmk9","E8kcWPHA","katcSfHm","rmo/Dmo9dq","WRKKae3dHa","WQVdOmoYW5ZdQG","WQWdWR/cHmkf","x8kBW5/cUG","vCkBsCk8ra","WQvkWPldSHG","sCk4va/cMW","WP1ajmk5WPe","W4K1WQxdNmk2","WQhdL8o5WPmW","W4NcTSo/W7VcVW","F8obWODPWR4","WPiJpK7dPq","W5JcQmo5W7VcPW","rHntW6xcVW","WQWSaSocvW","W5P3rY3dRW","W5ygyxzD","vSk8wHtcKG","WRaYdvJdMq","whpdRmk3WR0","rCkzqrdcMG","W5/cJ8oBm8om","tmkEWRLgW5q","qqPkWRNcNW","WONdImoAW4RdRG","kIfuWO4C","seNdOSkaWPm","fSk7k8kDt1Gfcmo+WRdcMqLj","BHldG8owWR0","n1ie","ASkfDaRcOG","mSkdWRy5W7G","j1qvrH4","tmkvW4dcV8oc","W4tcRCoWW7ZcOG","WQCTiSoavW","mCkrwxBcNG","W545z0ri","WR8nWRJcJ8kF","WOVdSSoQW57dNq","Fmk+sry","lCkqxuu","EMqk","WOldJ8oCzq","ACk1W6tcRmoy","v8kfuSkMxa","EmkpWQDVW7u","cCk7WQmlW7O","W73cGmodW6BcGq","W507zhrY","iX9wWQ0L","AYr0WONcTW","WPuiWOfjla","W5T6hJGM","rSksW5xcUmoK","qWP4W5a","i8khueZcGG","q8kHwra","W60kWRi","W5GFy29F","fmkqWR8VW7q","jSoAW6H8W4e","xxmhWPW","WRDrbJBcKq","jSkrxu7cMa","W7GxWRBdSCkr","kSkrWQ4TW7m","W7Thbs8q","EWtdKSoJxq","WQnQbW","hHxcQSo0dq","o8osWQa+","vmo+E8omea","W7pdP8o+fa","WOucj0W","WPNcVSoY","dWRcHK1h","q8k+uWZcKG","pSkdruNcIa","zq8HAmor","WOmCiuZcKq","st7dQCozWOa","W57cQSkXW6xcVG","kGxcLmo5","WPJdH8kgo8k3","W4X7cHi","nXH2WQ44","Dr3dHSoLqa","waldMmo4vG","D1NdPCk/","WQFcI8ovW7ZcIa","WRpdL8oxW5xdOG","WRpdQ1vbW7u","W5RcTSoIW6hcVW","DbaIBCoC","bSoDCrtdMa","WQhdRCo0WOme","WOezjK3cJG","ASkLvchcPa","D23dRmkyWPO","sf7cUmkBsa","qL7cUq","xCkzW5JcPq","yXddMW","xCo9gWddVG","W47cR8oFimod","qSkrtSkbqG","gchcMNb9","WRWFee/cKG","WRJcMSoBW7dcKa","W7NdQCo8","WPqdpflcMa","yq7dJCoAsa","DLxcQmkDBa","WPVdK1G","Cs3dP8oH","WPn8WO7dRWu","sSoPFConhq","WRjxWQSdWPm","AZFdVmoIW4m","WPRdV1LOW68","sCoKqmoNnG","WRRcNSoWW7VcMa","rYfwWONdJa","x8o2fGa","WOGOc8olqq","WQddNSo0WOO5","rrH3W47cKa","WRpdICodW5xdTG","CKZdL8kGWPW","rmk6wbm","WQG6WPZcSmkE","cmkdWRCUW5C","vtJcSSoduW","CtjzWP7cPG","t2ldMCkiWQ0","WRKnWQBcN8ku","xSoHE8olea","WO/dI8kMpCko","WRmYgG","m8ktW6vQW5C","Dan5WPtcGa","DGOYCmoh","WPldLSknWO7cTa","kSoZoCkCWPO","W48xWOBdPSkf","W4fKnWSU","tv7cOq","FINdL8o7uq","smksW5BcUa","l38GuZq","FrddJCo+","WPJcTmoMDSks","WO3dVSk4WQZcLG","us84WOpcPG","WO/dTmk8","wWFcN8oWsq","WOtdNvPZW74","WOddJv51W7C","uaPMW5NcLW","WQOZhSowAG","ctH7WO8E","eZ3cKmo6ma","WPZcVSo7pSoD","Ccb2WOG","kMivBt0","FCkjW5n0W70","r8k5FsBcRW","W4/cJ8oBzCoz","CbBdJ8ozWOe","WPXUaYtcQa","oSkhr1JcIa","qSkrtSkArW","WRDDesJcVa","W6tdR15DgG","WQC4hmoAzW","taP2W5NcLq","EXRcV8kKcW","FGtdMCoZ","W7jLjtu5","BSkMq0tcRa","o8klxuu","ya/cRmodFG","c8k7WO8BW7K","umockbRcVq","WRKGde/dNa","bqtcMwj5","WRa7a0VdGq","WRb1WPpdTbW","WPCJWQFcUCkE","ku8pwW","lhytucO","ACk5W5VcTmox","WPzJnCkKWOG","WRJdLmk+WPFcLG","WPZcPCoWBmkw","WOCelvRcKG","W6ddGw9Bea","WQOYba","AqpcQCoG","WPzIiSkV","oCoaomkeWP0","BSklW5lcK8oG","W5VdR8oLiG0","WP7dNvrJW7C","pSkVwhFcPW","EmkZvGe","BXFcTSo9tG","WQSzWOniEW","W4xcQCoLW6hcPa","uc82umoC","WR9oWP4eWQ0","WOdcGSooW5tcMq","umkFW53cSCoc","W6CSWO3dISkO","AXFcRSoNwq","x2asWPRdNa","cmkEzvBdIa","f8kKWQ4cW5q","W7tcICkeWOJdKaTWimozWPW","W4uzy1Hr","W64rW6ldOmkJ","v8krsCk6xa","vaW7ASoP","t8kdW6xcPmoB","WQ4pWR7cVSkE","xSkCEcNcPW","AcyelSo/","lSk2D3ddNq","q8oJD8ob","W7HyW7NdN8ojWPZdQhJcRLtdRmkk","WOldNmolqSoX","WQy1c0tdLq","hSoyd8klWOi","rGL2W5JcKG","CCkUASkhEW","W57cSCoJW6FcVa","WRNdMSknhCkq","oGpcLCo0hW","WOJdSSotWQ8K","rM8tWORdIG","gWFcUSoFoW","WPBdTmkI","W5NcVmoL"];return ct=function(){return t},ct()}var Zf=_a,Xf=[hn(286,109,-23,")q@M")];function hn(t,r,n,e,a){return P(r- -695,e)}var Nr=-317*-23+1*-4189+-22*141+.8;(function(){var t={JfFfD:function(u,c){return u(c)},dPMEr:function(u,c){return u+c},aUssX:function(u,c){return u+c},TvNvw:r(1380,"dGD(")+r(1243,"($xq")+s(73,-603,-602,"X%wp",-218)+s(584,586,-108,"VWlL",180),PiChv:s(58,819,107,"WA8j",449)+e("7!0k",113)+a(1398,1149,1205,"AmML")+s(179,1,348,"ctNo",-17)+i(403,379,-23,"UO@r",116)+e("dGD(",-140)+" )",ZiiQE:function(u){return u()}};function r(u,c,l,f,x){return lt(u-445,u-881,c)}var n;function e(u,c,l,f,x){return on(u,c-254,c- -785)}function a(u,c,l,f,x){return rn(f,c-138,l-409,l-1468)}try{var o=t[s(243,358,699,"nyUT",480)](Function,t[i(308,986,498,"KJ5c",619)](t[e("AmML",-316,-288,-588,-707)](t[r(708,"a8Cp",536,672,439)],t[e("f4!h",210,-182,-153,-199)]),");"));n=t[s(-438,297,-354,"f4!h",-35)](o)}catch{n=window}function i(u,c,l,f,x){return on(f,c-383,x- -600)}function s(u,c,l,f,x){return hn(u-191,x-207,l-152,f)}n[s(196,-481,1,"l73$",-188)+e("mjm1",70)+"l"](Vt,-1*1595+-6*-1559+-3759)})();function lt(t,r,n,e,a){return P(r- -358,n)}const e0=ma({__name:rn("Fkj)",-313,-574,-576)+Mr(1887,1487,1669,1569,"YWgG"),setup:function(t){var r={SFtNI:function(y,b,g){return y(b,g)},aBrlH:function(y,b,g){return y(b,g)},ymDjy:function(y){return y()},VonQe:T(26,"T[F&",-93)+u(187,182,"Gr6%"),TYzUy:u(0,1,"VWlL"),fxGYF:u(37,383,"nyUT"),BjCvL:function(y,b){return y(b)},ZagLB:T(631,"isSZ",270),usjwl:function(y,b,g){return y(b,g)},lBaxT:function(y,b){return y&&b},AWcGn:function(y,b,g){return y(b,g)},AEwEF:function(y,b){return y===b},ZPBjU:function(y,b){return y===b},csmYq:function(y,b){return y(b)},rEAMJ:function(y,b){return y<b},OYUWd:function(y,b){return y===b},rqhsl:function(y,b){return y+b},XOmSo:function(y,b){return y!=b},jOkQw:u(405,236,"VV8W")+"n",xStvg:function(y,b){return y/b},lOIwO:function(y,b){return y/b},ylHqU:function(y,b){return y/b},OYMGu:function(y,b){return y===b},VfHWQ:function(y,b){return y!=b},dQGip:T(331,"#jEy",30)+e(174,-224,583,"ctNo",193),nhYCJ:function(y,b){return y+b},kWbzT:function(y,b,g){return y(b,g)},dpHsS:m(1225,"YWgG")+m(1305,"WA8j")+"3",jeVXt:m(1527,"gNcj")+e(-112,187,-293,"F%^z",-57),TGtGv:function(y,b){return y<b},yyvKU:u(676,1003,"f8(d")+"e",nFBHT:f(1697,1586,1910,1506,"BhJe"),rpvwo:function(y,b){return y+b},tMyBE:function(y,b){return y<b},JcXaO:function(y,b){return y+b},CSteb:function(y,b){return y+b},TfrPa:function(y,b){return y+b},uQzVI:u(260,435,"JQEX")+u(-20,194,"a8Cp"),HTTvJ:e(-309,-219,-101,"x4%x",-413)+u(68,-339,"X%wp"),tKopj:function(y,b){return y/b},wHhDm:e(-662,-545,-356,"f8(d",-421)+u(513,314,"KJ5c")+"L",ygZCo:function(y,b){return y/b},dZrgW:T(728,"ctNo",440)+f(2035,1615,1882,1636,"f4!h")+"R",syVrm:function(y,b){return y/b},kbgTd:e(-275,-64,-401,"MDi8",-404)+u(460,835,"u#jm")+"L",ItsLq:function(y,b){return y/b},OdKJb:T(-420,"KJ5c",-85)+T(-497,"f0lV",-152)+"R",MmOir:m(1338,"nyUT")+f(1279,886,849,804,"MDi8")+"L",GFRHq:function(y,b){return y/b},CcOiv:u(175,93,"WA8j")+f(1827,1537,1605,1723,"zoof")+"R",zBKVd:function(y,b){return y/b},JlVTn:T(-371,"JQEX",-202)+e(-235,-198,-709,"($xq",-539)+"L",Ugfnn:function(y,b){return y/b},KPmHs:m(1310,"x4%x")+T(190,"Fkj)",2)+"R",aHREk:function(y,b){return y/b},TywAe:m(1559,")C%(")+"L",vMqKJ:function(y,b){return y/b},mZTtk:m(817,"#YET")+"R",uUIMj:function(y,b){return y/b},uDFNo:f(1473,1624,1507,1872,"3k8i"),ALOlO:function(y,b){return y/b},vhGnb:function(y,b){return y<b},xKgwv:function(y,b){return y(b)},bjEUD:u(-126,-62,"VV8W")+"a",YRmlW:function(y,b){return y*b},qMvwa:function(y,b){return y-b},heSsr:function(y,b){return y-b},gQoiN:function(y,b,g){return y(b,g)},sOPiS:function(y,b){return y===b},BUISW:function(y,b){return y===b},mMAWP:function(y){return y()},mYAln:function(y,b,g,k,W){return y(b,g,k,W)},liVQQ:function(y,b){return y===b},BwgyQ:u(161,-185,"EGJT")+T(-370,"JQEX",-162),pofoP:function(y,b,g,k,W,O){return y(b,g,k,W,O)},VkFfW:u(461,268,"NH6w")+"n",MrYpo:function(y,b,g){return y(b,g)},jGjCU:function(y,b,g,k){return y(b,g,k)},pzAPU:u(618,945,"isSZ"),KiwZL:m(1148,"EGJT")+"s",bStqY:u(44,-151,"BhJe")+e(82,-268,-111,"u#jm",-336),GyQcs:T(269,"#jEy",-119)+m(1244,"NH6w")+m(818,"3k8i")+e(365,118,314,"#jEy",214),lksLp:e(425,-110,455,"gv9[",218),IQhpK:f(1137,916,490,1015,"bjqb"),OjVcI:m(787,"isSZ")+T(100,"VWlL",167)+e(9,-466,-2,"NH6w",-227),MYyGg:function(y,b,g,k){return y(b,g,k)},vwXQN:function(y,b,g,k,W){return y(b,g,k,W)},FVKKD:T(105,"isSZ",157)+"t",nINIP:function(y,b){return y(b)},GWdRy:function(y,b){return y(b)},xMhft:function(y){return y()},VZfuj:function(y,b,g,k){return y(b,g,k)},RdgcV:f(1171,1151,746,1095,"VV8W")+"n",OKMwE:m(1578,"KJ5c")+T(260,"#jEy",-22)+T(-111,"JQEX",-4)+u(73,-134,"D6M#")+e(310,-281,183,")q@M",122),ByRUr:m(1526,"zoof"),OBhBR:function(y,b,g){return y(b,g)},kvGbl:T(149,"VWlL",-172),OqjXP:function(y,b,g){return y(b,g)},fGqTh:e(-333,-911,-322,"dGD(",-526),CxGJP:f(1290,1518,1595,1620,"Fkj)")+f(1467,1109,915,715,"F%^z")+"nt",QqYCI:function(y){return y()},fLjAl:function(y){return y()},LBLRr:function(y){return y()},NUVkM:function(y){return y()},KPAFH:function(y,b){return y(b)},LGAUq:function(y,b){return y(b)},PkWPs:function(y,b){return y(b)}},n=r[u(107,336,"gv9[")](ref);function e(y,b,g,k,W){return on(k,b-198,W- -994)}var a=r[T(-421,"D6M#",-46)](ref),o=null,i=r[T(223,"D6M#",241)](ref),s=r[f(897,914,507,673,"NH6w")](ref);function u(y,b,g,k,W){return rn(g,b-391,g-342,y-417)}var c=r[u(-144,-226,"BhJe")](ref),l=null;function f(y,b,g,k,W){return Mr(y-443,b-139,g-54,b- -1,W)}r[T(-129,"hEq7",-299)](onMounted,r[m(943,"YWgG")](An,function(){function y(b,g,k,W,O){return T(b-416,g,k-178)}return r[y(718,"4gfK",502)](gn,this,function(b){function g(w,L,q,E,N){return y(w-326,N,E- -349)}function k(w,L,q,E,N){return y(w-255,N,L-612)}function W(w,L,q,E,N){return y(w-195,E,w-1265)}function O(w,L,q,E,N){return y(w-161,N,w- -381)}switch(b[g(-67,-213,-427,-416,"X%wp")]){case 7080+241*-6+-9*626:var S={};return S[g(-540,-408,-557,-349,"YWgG")]=!0,[4,navigator[g(-69,-172,9,-237,"VV8W")+g(548,660,416,263,"gNcj")+"es"][W(1134,1407,1271,"isSZ")+g(223,-199,-363,-144,"VWlL")+"ia"](S)];case 2735+2*2857+-176*48:return l=b[W(1173,1394,1110,"GjXu")](),[4,navigator[W(1807,1438,1895,"bjqb")+k(178,575,301,513,"olh6")+"es"][g(83,72,180,46,"8)3L")+O(-450,-151,-756,-711,"dGD(")+k(834,1180,1543,1448,"#YET")+"s"]()];case 10*797+-5755+2213*-1:return s[W(1617,1360,1947,"F%^z")]=b[g(-33,-90,-10,-152,"gv9[")](),[-2*-26+-3354+-8*-413]}})}));var x=r[T(372,"a8Cp",-41)](ref,!1);function _(){function y(b,g,k,W,O){return f(b-306,g- -36,k-184,W-382,k)}return h[y(1517,1291,"f8(d",939)](this,arguments)}function h(){function y(O,S,w,L,q){return m(S- -1299,O)}var b={tjMJL:function(O){function S(w,L,q,E,N){return P(E- -920,N)}return r[S(-292,-21,226,-177,"zoof")](O)},ZTVpK:r[W(592,"YWgG",986)],svySE:r[W(1195,"WA8j",1327)],oiKcZ:r[y("gv9[",-76)],GOrNr:function(O,S){function w(L,q,E,N,$){return y($,E-1482)}return r[w(1478,1150,1387,1588,"MDi8")](O,S)},abYMD:r[y("olh6",188)],URiaz:function(O,S,w){function L(q,E,N,$,J){return y(N,J-1300)}return r[L(1030,1178,"bjqb",1177,1087)](O,S,w)},WYRnJ:function(O,S){function w(L,q,E,N,$){return k(L-419,L-939,$)}return r[w(1559,1574,1506,1436,"isSZ")](O,S)},zNnJM:function(O,S){function w(L,q,E,N,$){return k(L-175,E- -83,q)}return r[w(800,"3k8i",391)](O,S)},iEiso:function(O,S){function w(L,q,E,N,$){return W(L-435,$,L-257)}return r[w(1761,1795,1692,1679,"F%^z")](O,S)},DiyEJ:function(O,S,w){function L(q,E,N,$,J){return W(q-496,E,$- -1210)}return r[L(140,"6V*g",-424,-19)](O,S,w)},Xpgfk:function(O,S){function w(L,q,E,N,$){return W(L-479,$,q- -419)}return r[w(921,644,517,851,"MDi8")](O,S)},zhfnR:function(O,S){function w(L,q,E,N,$){return g(q,q-241,E-372,L- -676)}return r[w(-198,"VV8W",-6)](O,S)}};function g(O,S,w,L,q){return f(O-245,L- -648,w-475,L-150,O)}function k(O,S,w,L,q){return u(S-227,S-100,w)}h=r[W(1067,"zoof",1152)](An,function(){function O($,J,C,D,I){return W($-247,C,$- -364)}var S,w,L,q,E,N;return r[O(549,774,"6V*g")](gn,this,function($){function J(F,B,K,M,j){return O(M-799,B-418,B)}function C(F,B,K,M,j){return O(B-778,B-30,F)}function D(F,B,K,M,j){return O(F-266,B-315,j)}var I={wlKFX:function(F){function B(K,M,j,G,V){return P(G-753,K)}return b[B("KJ5c",1164,893,989)](F)},CWBwz:b[J(1101,"gNcj",1701,1294)],uXuIX:b[C("gNcj",1744)],JQkmN:b[R("NH6w",605)],ZfqBI:function(F,B){function K(M,j,G,V,Y){return R(V,M- -1065)}return b[K(94,310,59,"VV8W")](F,B)},OGRkb:b[C("MDi8",1325)],LambJ:function(F,B,K){function M(j,G,V,Y,Z){return J(j-51,V,V-32,j- -822)}return b[M(331,417,"gv9[")](F,B,K)},sRbeX:function(F,B){function K(M,j,G,V,Y){return R(M,G-253)}return b[K("NH6w",850,1266)](F,B)},uadfF:function(F,B){function K(M,j,G,V,Y){return C(V,G- -922)}return b[K(1068,780,641,"f4!h")](F,B)},YZqgK:function(F,B){function K(M,j,G,V,Y){return R(Y,V- -1212)}return b[K(31,-616,59,-210,"UO@r")](F,B)},YKRUK:function(F,B,K){function M(j,G,V,Y,Z){return C(V,G- -851)}return b[M(614,444,"D6M#")](F,B,K)}};function H(F,B,K,M,j){return O(M-737,B-166,K)}function R(F,B,K,M,j){return O(B-230,B-336,F)}switch($[C("isSZ",1890)]){case 2186+-57*-114+-4342*2:if(x[H(1076,1491,"gNcj",1321)]=!0,b[H(1283,1360,"BhJe",1347)](l,null)||b[H(983,1452,"mjm1",1316)](l,void 0)||b[H(907,1474,"JQEX",1045)](S=l[J(1704,"VV8W",1570,1342)+R("MvAq",1067)](),null)||b[J(1496,"MvAq",1636,1588)](S,void 0)||S[H(1649,2012,"dGD(",1808)+"ch"](function(F){function B(K,M,j,G,V){return C(j,V- -1396)}return F[B(128,-163,"f0lV",-201,174)]()}),!i[R("bjqb",653)])return[25*-293+497*-3+8818];$[J(1559,"l73$",2344,1959)]=6883*1+3201+10083*-1;case 1561+15*-104:$[C("zoof",1598)][C("F%^z",1664)]([8*-1053+-1*1327+106*92,4141+9312*1+-1345*10,,-7*-441+3133+-222*28]);var ne={};ne[J(1522,"BhJe",1149,1176)+C("WA8j",1821)]=c[H(862,886,"yC2d",1085)];var X={};return X[D(1197,797,1191,1168,"8)3L")]=ne,[2*1919+7*655+-8419*1,navigator[H(1359,1651,"yC2d",1589)+R(")q@M",595)+"es"][R("NH6w",641)+H(2073,1973,"bjqb",1892)+"ia"](X)];case 2*4572+8656+1*-17798:return l=$[R("Gr6%",808)](),[2170+-130*26+1213*1,1*6247+-5082+-1161];case 7053*1+7360+-55*262:return w=$[C("dGD(",1493)](),console[D(1076,1413,1260,1024,"l73$")](w),[678*-9+-2*-4706+-3307,-180*15+15*653+-7091];case 501*-5+4*-280+3629:return i[C("KJ5c",1307)][D(933,741,622,852,"mjm1")+D(984,959,1330,570,"6V*g")]=l,[347*15+805*-2+-3591,new Promise(function(F){function B(G,V,Y,Z,ee){return R(ee,G-57)}function K(G,V,Y,Z,ee){return C(V,ee- -1607)}var M={BkAHE:function(G){function V(Y,Z,ee,le,Ce){return P(Z-43,ee)}return I[V(770,807,"f0lV")](G)}};function j(G,V,Y,Z,ee){return J(G-328,G,Y-187,ee- -242)}i[B(1100,1274,1230,1138,"7!0k")][K(-48,"hEq7",-728,-118,-478)+K(470,"7!0k",299,-42,156)+B(1254,955,1526,1524,"bjqb")+"r"](I[j("X%wp",1024,1376,1151,1222)],function(){function G(V,Y,Z,ee,le){return j(Y,Y-412,Z-426,ee-292,V- -686)}return M[G(847,"AmML",432,1244)](F)})})];case 2773*-1+-6080+8858*1:return $[D(1272,881,1419,1665,"AmML")](),i[C("EGJT",1935)][R("bjqb",683)](),L=new Bf,q=!1,L[H(1788,2120,"($xq",1712)+D(1179,1021,924,1283,"F%^z")]=function(F){function B(V,Y,Z,ee,le){return D(ee- -586,Y-248,Z-28,ee-216,le)}function K(V,Y,Z,ee,le){return H(V-403,Y-335,ee,Y- -79)}function M(V,Y,Z,ee,le){return J(V-76,Z,Z-72,le- -1278)}function j(V,Y,Z,ee,le){return C(le,ee- -1200)}function G(V,Y,Z,ee,le){return J(V-244,V,Z-342,Z- -693)}switch(F[G("4gfK",440,511)][G("D6M#",535,930)]){case I[G("X%wp",1518,1205)]:q=!0;break;case I[K(1352,1555,1348,"AmML")]:I[j(243,-171,243,224,"yC2d")](d,F[K(1555,1711,1637,"mjm1")][B(383,215,-126,247,"mjm1")+"t"]),E=!1;break;case I[j(-295,-59,-187,-115,"zoof")]:I[j(569,661,63,445,"4gfK")](v,F[M(547,492,"F%^z",243,228)][G("mjm1",1005,673)+"t"],F[K(1585,1294,1398,"JQEX")][B(389,77,375,95,"8)3L")]);break}},E=!1,N=function(){function F(M,j,G,V,Y){return J(M-349,M,G-65,j- -1677)}var B={oqhqS:function(M,j){function G(V,Y,Z,ee,le){return P(Y-130,le)}return I[G(732,823,990,820,"JQEX")](M,j)},KuaxE:function(M,j){function G(V,Y,Z,ee,le){return P(Z-169,ee)}return I[G(982,1092,722,"nyUT")](M,j)},LJqds:function(M,j){function G(V,Y,Z,ee,le){return P(ee- -989,le)}return I[G(-581,-701,-370,-329,"YWgG")](M,j)},EtxVH:function(M,j,G){function V(Y,Z,ee,le,Ce){return P(Z-763,le)}return I[V(1447,1383,1420,"isSZ")](M,j,G)}},K=I[F("EGJT",-180,194)](An,function(){function M(G,V,Y,Z,ee){return F(G,Z-1303,Y-21)}var j;return B[M("Gr6%",987,1101,1244)](gn,this,function(G){function V(Ce,ge,be,xe,de){return M(xe,ge-21,be-229,de- -559)}function Y(Ce,ge,be,xe,de){return M(de,ge-62,be-81,be- -52)}function Z(Ce,ge,be,xe,de){return M(be,ge-315,be-321,xe-288)}function ee(Ce,ge,be,xe,de){return M(Ce,ge-298,be-420,xe- -58)}function le(Ce,ge,be,xe,de){return M(ge,ge-168,be-63,be-392)}switch(G[Z(1335,2017,"6V*g",1652)]){case 5014+1*-5883+-11*-79:return B[Y(1400,820,1122,1100,"hEq7")](q,!E)?[-12*-179+70*-46+2*538,B[ee("hEq7",864,1615,1227)](createImageBitmap,i[le(1901,"VV8W",1889)])]:[58*-147+-1586+289*35,465*-4+13*8+1758];case-5478+2*-781+7041:j=G[V(282,869,702,"mjm1",499)](),L[V(587,264,471,"hEq7",265)+V(748,1179,572,"AmML",955)+"e"](j,[j]),E=!0,G[Y(1014,512,943,976,"hEq7")]=-13435+-4479*-3;case-1*4835+-1377+13*478:return x[le(1752,"($xq",1768)]&&B[Y(1241,989,1081,1354,"($xq")](requestAnimationFrame,N),[23*159+-6*362+1483*-1]}})});return function(){function j(G,V,Y,Z,ee){return F(Z,ee-1526,Y-17)}return K[j(1088,952,1060,"gNcj",1330)](this,arguments)}}(),b[H(2077,1466,"Gr6%",1819)](N),[1*-2824+-1473*-3+-1593]}})});function W(O,S,w,L,q){return e(O-194,S-81,w-94,S,w-1259)}return h[g("6V*g",536,1193,955)](this,arguments)}var d=function(y){function b(C,D,I,H,R){return e(C-215,D-185,I-399,I,R-61)}var g=!0,k=!1,W=void 0;function O(C,D,I,H,R){return m(C- -1284,H)}function S(C,D,I,H,R){return e(C-489,D-354,I-278,I,C-1672)}function w(C,D,I,H,R){return e(C-263,D-485,I-313,R,D-735)}try{for(var L=y[Symbol[O(-337,63,-556,"f0lV",-599)+O(306,594,664,"gv9[",120)]](),q;!(g=(q=L[J(890,742,788,887,"olh6")]())[J(545,1067,440,841,"#jEy")]);g=!0)for(var E=q[b(-175,389,"($xq",249,117)],N=13*-10+-9074+9204;r[J(91,-95,489,297,"AmML")](N,5170+1020*5+-10237);N++){var $;r[w(675,758,332,1122,"4gfK")]($=A[N],null)||r[w(229,605,200,813,"f0lV")]($,void(1*5692+9584+-3*5092))?-6547+-283*1+6830:$[w(1074,970,593,798,"UO@r")+w(-106,178,230,11,"AmML")][S(1755,1385,"NH6w",1923,1638)](E[b(-741,-401,"F%^z",-228,-417)+w(798,694,794,630,"dGD(")+"D"][N].x,r[S(1853,1616,"a8Cp",2068,1770)](-E[S(1919,1826,"nyUT",1639,2346)+J(541,691,325,298,"gv9[")+"D"][N].y,Nr),E[O(-227,-450,-488,"olh6",96)+b(-476,-620,"F%^z",-304,-401)+"D"][N].z)}}catch(C){k=!0,W=C}finally{try{!g&&r[J(1009,417,983,715,"3k8i")](L[r[b(-922,-538,"8)3L",-434,-525)]],null)&&L[r[w(32,238,-43,-147,"KJ5c")]]()}finally{if(k)throw W}}function J(C,D,I,H,R){return e(C-144,D-253,I-325,R,H-686)}A[r[b(266,327,"6V*g",480,59)](r[J(107,638,842,538,"NH6w")](r[b(-397,-149,"EGJT",-278,-54)](4427+1*-397+-571*7,21),8393+-2*-1740+11852*-1),-1342+122*11)][w(-100,280,509,710,"7!0k")+w(1048,773,1097,903,"hEq7")][b(-541,-860,"gNcj",-720,-497)](r[O(-241,83,-84,"#jEy")](r[b(-434,-251,"D6M#",240,-107)](A[7455+-4*1861][S(1202,1296,"hEq7")+J(502,1293,469,871,"f4!h")].x,A[211*-5+-28*22+1683][O(-238,-41,-197,"#jEy")+S(1353,1524,"l73$")].x),6683*1+-7521+840),r[S(1237,1304,"nyUT")](r[J(938,872,356,743,"WA8j")](A[11][S(1515,1421,"EGJT")+S(1842,2042,"bjqb")].y,A[-4584+4*-1476+-25*-420][J(282,464,371,234,"bjqb")+b(219,31,"6V*g",-366,15)].y),-1*-5938+1*3127+-9063),r[b(-462,280,"zoof",-530,-151)](r[J(520,1039,598,938,"UO@r")](A[-2271*-2+1*-7082+2551*1][w(848,608,981,459,"MvAq")+O(168,308,571,"VV8W")].z,A[-205*-19+-733+525*-6][S(1605,1335,"NH6w")+O(-468,-628,-652,"7!0k")].z),1368+28*-223+-542*-9))},v=function(y,b){function g(D,I,H,R,ne){return f(D-28,R- -688,H-11,R-323,D)}function k(D,I,H,R,ne){return T(D-459,ne,H-306)}var W=!0,O=!1,S=void 0;function w(D,I,H,R,ne){return f(D-20,D- -1463,H-103,R-465,ne)}function L(D,I,H,R,ne){return m(R- -563,ne)}function q(D,I,H,R,ne){return T(D-223,R,D-1042)}try{for(var E=y[Symbol[g("MvAq",1350,873,954,1012)+g(")q@M",1176,1124,870,1262)]](),N;!(W=(N=E[q(1535,1324,1306,"6V*g",1643)]())[w(14,-268,139,-87,"yC2d")]);W=!0)for(var $=N[w(-184,-199,-281,-244,"4gfK")],J=0;r[g("T[F&",317,612,539,387)](J,8803*-1+-3668+1041*12);J++){var C;r[g("6V*g",614,361,262,-89)](C=A[r[L(511,649,1101,727,"8)3L")](r[q(948,938,558,")q@M",1339)](J,-7877*-1+-5469+95*-25),b?2445*1+2422+-4846:3*1374+-19*346+-1226*-2)],null)||r[q(1473,1897,1514,"($xq",1424)](C,void(252*-1+2162+955*-2))||C[w(195,169,525,10,"D6M#")+g("MDi8",1099,293,670,444)][w(49,-258,155,-251,"BhJe")]($[k(330,207,230,-59,"gNcj")+g("4gfK",842,754,852,538)+"D"][J].x,-$[k(475,-161,191,93,"D6M#")+k(1118,821,764,514,"NH6w")+"D"][J].y,$[g("7!0k",622,282,616,396)+k(345,507,516,205,"X%wp")+"D"][J].z)}}catch(D){O=!0,S=D}finally{try{!W&&r[q(842,1126,520,"#jEy",819)](E[r[k(1151,959,741,1132,"f8(d")]],null)&&E[r[g("dGD(",340,47,220,177)]]()}finally{if(O)throw S}}};function m(y,b,g,k,W){return lt(y-470,y-971,b)}var p,A=[];r[e(-373,-757,-725,"VWlL",-591)](onMounted,r[T(130,"8)3L",-173)](An,function(){function y(J,C,D,I,H){return m(D- -1319,I)}var b={faeQh:function(J,C){function D(I,H,R,ne,X){return P(H-97,R)}return r[D(163,492,"YWgG")](J,C)},hMJNd:function(J,C){function D(I,H,R,ne,X){return P(H- -542,X)}return r[D(205,428,487,563,"JQEX")](J,C)}},g,k,W,O,S,w,L,q,E,N,$;return r[y(-225,-554,-242,"3k8i")](gn,this,function(J){function C(X,F,B,K,M){return y(X-497,F-195,K-411,F)}function D(X,F,B,K,M){return y(X-275,F-24,B-568,K)}function I(X,F,B,K,M){return y(X-426,F-352,M-401,K)}var H={TIQCC:r[C(247,"X%wp",426,486)],WIZzG:function(X,F){function B(K,M,j,G,V){return C(K-214,K,j-426,G-251)}return r[B("yC2d",1009,481,674)](X,F)},UKNMC:function(X,F,B){function K(M,j,G,V,Y){return C(M-0,V,G-2,G- -628)}return r[K(-851,-507,-683,"BhJe")](X,F,B)},OPRDU:function(X,F,B){function K(M,j,G,V,Y){return C(M-422,G,G-368,M-182)}return r[K(893,1294,"MvAq")](X,F,B)},jJSco:r[I(738,592,70,"hEq7",327)],ZMEIx:r[C(138,"zoof",-272,-120)],TZPRK:function(X,F){function B(K,M,j,G,V){return D(K-26,M-35,V- -645,G)}return r[B(-250,-164,-219,"MDi8",171)](X,F)},QBGGL:function(X,F){function B(K,M,j,G,V){return D(K-155,M-73,K-152,M)}return r[B(812,"T[F&")](X,F)},PsjnA:function(X,F){function B(K,M,j,G,V){return I(K-351,M-477,j-48,V,M-634)}return r[B(901,715,933,828,"olh6")](X,F)},EcETn:function(X,F){function B(K,M,j,G,V){return I(K-48,M-137,j-276,K,G- -30)}return r[B("a8Cp",288,-158,102)](X,F)},coaZX:r[I(425,170,-26,"MDi8",61)]};function R(X,F,B,K,M){return y(X-400,F-484,M-1611,F)}function ne(X,F,B,K,M){return y(X-421,F-345,F- -29,M)}switch(J[I(398,490,731,"gv9[",468)]){case 9668+2*3785+-17238:return g=function(X){function F(xe,de,me,pe,ve){return D(xe-16,de-248,pe- -795,me)}var B=H[G(-195,-119,"AmML")][G(-287,32,"KJ5c")]("|");function K(xe,de,me,pe,ve){return I(xe-13,de-412,me-446,ve,pe-1174)}var M=0;function j(xe,de,me,pe,ve){return D(xe-44,de-452,xe-739,pe)}function G(xe,de,me,pe,ve){return D(xe-250,de-395,de- -517,me)}function V(xe,de,me,pe,ve){return ne(xe-330,xe-97,me-56,pe-396,ve)}for(;;){switch(B[M++]){case"0":var Y=function(xe){var de=H[pe(1723,1294,"($xq")][Ie(403,215,-37,253,"f4!h")]("|");function me(Ge,Le,Re,Ve,De){return j(Ge- -215,Le-382,Re-376,De)}function pe(Ge,Le,Re,Ve,De){return j(Le-366,Le-69,Re-260,Re)}function ve(Ge,Le,Re,Ve,De){return G(Ge-354,De- -244,Ve)}function Ie(Ge,Le,Re,Ve,De){return j(Le- -1008,Le-128,Re-316,De)}function Xe(Ge,Le,Re,Ve,De){return j(De-128,Le-466,Re-99,Ge)}for(var _t=127*-11+-187*34+7755;;){switch(de[_t++]){case"0":var ha=nr[ve(174,-215,-420,"f4!h",-4)][nr[Ie(4,-213,-331,-580,"r#q!")+Xe("KJ5c",1443,1306,1376,1448)+me(1387,1042,1771,1379,"7!0k")+ve(-180,-137,-419,"VWlL",-541)](ee)];continue;case"1":var nr=W[Ie(378,267,415,220,"f0lV")+me(1113,933,1518,716,"f0lV")][xe];continue;case"2":p[Ie(331,603,730,984,"gv9[")+Xe("6V*g",1339,875,1075,1238)+me(1194,808,1621,1544,"olh6")+Ie(75,297,89,561,"r#q!")](function(){var Ge;function Le(Ve,De,ht,ar,vt){return Ie(Ve-276,Ve-1271,ht-17,ar-479,vt)}function Re(Ve,De,ht,ar,vt){return pe(Ve-202,ht- -766,vt)}ge[Le(1500,1131,1594,1384,"nyUT")](Ge=be[2],null)||ge[Re(1082,647,809,1030,"bjqb")](Ge,void 0)||Ge[Le(1036,944,1286,950,"T[F&")](be,rr),rr[Re(534,550,666,1042,"zoof")+"e"]()});continue;case"3":var va=W[Ie(200,342,343,-57,"l73$")+"s"][H[pe(1841,1430,"bjqb")](xe,-6*-1397+6184+-14565)];continue;case"4":var tr={};tr[Xe("UO@r",822,1155,1230,1244)+ve(219,-399,-8,"6V*g",-2)+"t"]=.03;var rr=new Wi(va,ha,A[X][me(986,1304,685,1398,"EGJT")+ve(-40,151,146,"NH6w",84)],H[pe(1813,1561,"r#q!")](Jf,H[me(923,1331,557,822,"ctNo")](Hf,{},le),tr));continue}break}};continue;case"1":var Z=H[K(1531,1538,947,1263,"olh6")](Qf,be,2),ee=Z[-1191*1+3594+-2403],le=Z[-708+-1*-709];continue;case"2":if(!be)return H[G(406,181,"JQEX")];continue;case"3":for(var Ce=9685+1*2249+-11934;H[F(199,-400,"EGJT",-101)](Ce,W[G(-1,237,"AmML")+V(33,-265,297,269,"8)3L")][K(967,1463,1117,1131,"u#jm")+"h"]);Ce++)H[F(-448,-362,"f8(d",-587)](Y,Ce);continue;case"4":var ge={MKYnY:function(xe,de){function me(pe,ve,Ie,Xe,_t){return K(pe-301,ve-127,Ie-84,ve- -1841,Ie)}return H[me(-424,-3,"gv9[")](xe,de)},GbPdU:function(xe,de){function me(pe,ve,Ie,Xe,_t){return G(pe-496,Xe-621,Ie)}return H[me(891,1099,"f8(d",786)](xe,de)}};continue;case"5":var be=q[X];continue}break}},n[ne(227,19,-182,-204,"6V*g")]?(k=function(){function X(B,K,M,j,G){return C(B-155,B,M-424,G-945)}function F(B,K,M,j,G){return ne(B-233,K-297,M-89,j-265,B)}H[F("gv9[",531,512,948)](o,null)||H[F("r#q!",407,837,537)](o,void 0)||o[X("zoof",1928,1148,1643,1509)+"e"]()},window[ne(-592,-223,-170,-438,")C%(")+C(482,"r#q!",426,86)+ne(-14,268,374,208,"WA8j")+"r"](r[I(850,268,127,")q@M",474)],k),r[C(-97,"bjqb",354,267)](onUnmounted,function(){function X(M,j,G,V,Y){return I(M-361,j-319,G-196,M,V- -691)}function F(M,j,G,V,Y){return C(M-95,M,G-489,Y-518)}function B(M,j,G,V,Y){return R(M-225,j,G-164,V-136,Y-4)}function K(M,j,G,V,Y){return D(M-118,j-4,j-764,Y)}window[B(1856,"UO@r",1881,1986,1726)+X("mjm1",-145,-337,-294)+X("hEq7",-167,122,-88)+F("BhJe",724,874,1001,816)](H[K(1881,1503,1610,1479,"YWgG")],k)}),o=new Si(n[R(1695,"EGJT",1704,1695,1924)]),p=new Ei(o),p[R(2118,"JQEX",1359,2108,1787)+I(444,-128,9,"a8Cp",261)][C(-56,"UO@r",185,65)](3946+5752*-1+1807*1,-2*-4200+796+-9196,2*-861+-7240+8962,289*-13+-3079+-43*-159),new Ut(r[R(1484,"X%wp",707,1230,1067)],new z(8010+-6*355+8*-735,7009+-1*3151+-19*203,0),p)[I(223,613,493,"hEq7",452)+ne(-245,43,2,114,"7!0k")]=2,[-7773+7777*1,Ci[ne(-686,-463,-346,-402,"VV8W")+I(-36,233,216,"#jEy",-64)+D(615,150,317,"Gr6%")]("","",Ff,p)]):[2257+7934*1+-443*23];case 1*3269+7059*-1+3791*1:for(W=J[R(1422,"gNcj",1154,1690,1545)](),console[C(-179,"Gr6%",-7,3)](W),O=0;r[I(-9,-164,605,"f8(d",267)](O,r[R(1199,"KJ5c",771,1374,1159)](r[ne(-267,-415,-807,-300,"gv9[")](r[ne(344,246,-16,-123,"NH6w")](-1732+-49*46+4019,-9810+-26*37+251*43),1895*-3+329*-4+7022),6071+1*-9055+2985));O++)S=new Ze(O[D(1102,965,782,")C%(")+C(178,"gv9[",537,193)]()),S[R(1493,"nyUT",1812,2259,1901)+R(1718,"T[F&",1772,1583,1871)][ne(-406,-234,-176,159,"4gfK")](-6784+424*16,-1*-687+5663*1+-6350,7632+1*-8200+568),A[C(-312,"f8(d",99,19)](S);for(w=1879*-4+-5842+13391;r[C(150,"D6M#",12,401)](w,r[I(558,-161,558,"nyUT",260)](1891+2*-463+-466*2,-1*-7145+5707*1+13*-987));w++)A[w][ne(-469,-100,-364,-291,"3k8i")+"t"]=A[16];for(L=r[D(-107,351,276,"VV8W")](-3*1149+-2*647+4774,7820+-5*-154+-1*8569);r[C(7,"T[F&",96,194)](L,r[D(517,247,242,"dGD(")](r[ne(361,278,199,-111,"ctNo")](-8945+-749*8+1497*10,1*-5564+5603*1+-18),59*-3+-606*-13+-7680));L++)A[L][C(383,"gv9[",91,461)+"t"]=A[1387+117*-71+95*73];for(q=[null,null,null,null,null,null,null,null,null,null,null,[r[ne(-132,-425,-55,-851,"yC2d")],{adjustYaw:r[R(1478,"JQEX",1183,1199,1150)](Math.PI,3915+19*-397+3630),upAxis:new z(0,-1,1*1722+-1*-2939+59*-79)}],[r[C(251,"dGD(",1017,623)],{adjustYaw:r[ne(-533,-438,-286,-544,"YWgG")](-Math.PI,-1015+9*113),upAxis:new z(-9324+-1914*4+16980,-1,0)}],[r[C(198,"4gfK",-118,-84)],{adjustYaw:r[D(370,446,173,"X%wp")](Math.PI,-544+2*-1172+289*10),upAxis:new z(8008+-2*3421+-1166,-1,4092+-621*-5+-2399*3)}],[r[C(840,")C%(",718,615)],{adjustYaw:r[D(435,948,683,"MvAq")](-Math.PI,-8321+905*8+1083),upAxis:new z(-5*-1609+-9701+1656,-1,454*15+-1140+-5670)}],[r[R(1829,"($xq",1791,1674,1805)],{adjustYaw:r[I(224,-125,-255,"VWlL",19)](Math.PI,2),upAxis:new z(0,-1,-3285+9*729+28*-117)}],[r[ne(149,159,488,495,")C%(")],{adjustYaw:r[C(-398,"NH6w",249,-98)](-Math.PI,2),upAxis:new z(-2314+7249*-1+-73*-131,-1,0)}],null,null,null,null,null,null,null,null,[r[R(1240,"X%wp",1313,1094,1128)],{upAxis:new z(661*-5+7767+-4462,0,-1),adjustPitch:r[I(207,325,445,"#jEy",283)](Math.PI,291+4171*1+-4460)}],[r[R(1888,"T[F&",1837,1758,1461)],{upAxis:new z(9658*-1+-9212+-629*-30,15741+-1431*11,-1),adjustPitch:r[R(1095,"f8(d",1052,1161,1447)](Math.PI,-1612+-1*7307+8921)}],[r[ne(100,41,-370,-147,"zoof")],{adjustPitch:r[C(679,"F%^z",124,390)](-Math.PI,2),adjustRoll:Math.PI,minYaw:0,maxYaw:0}],[r[D(-248,-78,50,"gNcj")],{adjustPitch:r[ne(-56,-238,98,99,"GjXu")](-Math.PI,5141+319*-25+2836),adjustRoll:Math.PI,minYaw:0,maxYaw:0}],null,null,[r[R(1995,"KJ5c",1844,1939,1714)],{adjustPitch:r[ne(418,67,7,371,"7!0k")](-Math.PI,13798+4*-3449),adjustRoll:Math.PI,minYaw:0,maxYaw:0}],[r[C(336,"#YET",336,499)],{adjustPitch:r[D(-299,-145,130,"Fkj)")](-Math.PI,2*-4733+8782+2*343),adjustRoll:Math.PI,minYaw:0,maxYaw:0}],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[r[ne(-129,-274,112,-318,"r#q!")],{adjustPitch:r[C(284,"f0lV",-108,148)](-Math.PI,-723+725*1)},function(X){A[5121*-1+-77*80+11292][G(1107,1079,1263,"GjXu",971)+G(32,606,662,"7!0k",389)][F(")q@M",403,-61,85,358)+B("3k8i",542,468)+B("#jEy",-403,-33)](A[-153*-37+-79*-13+-4*1669][M(366,437,723,"f8(d")+K("gv9[",525,548,914)],E[-9*789+-372*-26+-2571]);function F(V,Y,Z,ee,le){return ne(V-49,le-885,Z-141,ee-332,V)}function B(V,Y,Z,ee,le){return D(V-166,Y-475,Z- -216,V)}function K(V,Y,Z,ee,le){return R(V-362,V,Z-335,ee-202,Z- -774)}function M(V,Y,Z,ee,le){return I(V-183,Y-137,Z-353,ee,Z-337)}var j=Math[B("3k8i",-390,-106)](E[6962+-2423*-2+41*-288].z,E[-1422*-1+2*-1687+1952].x);X[G(459,306,770,"f4!h",669)+"w"]=b[F("f8(d",712,1351,1367,992)](Math.PI,j);function G(V,Y,Z,ee,le){return R(V-156,ee,Z-500,ee-280,le- -719)}X[F("GjXu",700,733,996,1109)+"w"]=b[M(312,463,489,"yC2d")](Math.PI,j)}]],E=[new z],N=-7139+-67*51+10556;r[R(2069,"f0lV",1417,2106,1834)](N,q[I(36,-155,290,"D6M#",68)+"h"]);N++)r[C(711,"r#q!",494,488)](g,N);return $=new Oi(r[ne(-94,125,162,-117,"YWgG")],r[ne(-625,-552,-302,-822,"ctNo")](-Math.PI,8554+-4276*2),r[I(642,329,613,"EGJT",246)](Math.PI,9526*-1+-6129+15657),508+-1*-5324+2*-2911,new z(-7082*-1+-1*-3877+-10959,Nr,-4102*-1+-7105+3003),p),$[R(1414,"MDi8",1058,1541,1272)+D(421,151,519,"4gfK")+C(401,"AmML",137,385)]=-3738+38*101,$[ne(-212,-37,-18,-100,"x4%x")]=r[I(369,-180,39,")q@M",157)](r[I(836,811,410,"VV8W",611)](30,Math.PI),2561*1+-3326+-767*-1),$[ne(-714,-497,-719,-554,"VV8W")+C(448,"D6M#",55,67)+C(662,"F%^z",799,450)+"t"]=-1126+-1*4229+5356,$[C(-172,")q@M",343,55)+C(440,"6V*g",421,422)+C(-96,"f0lV",261,17)](n[ne(-275,138,177,310,"f8(d")]),o[R(2045,"7!0k",2249,1652,1920)+ne(-673,-267,-103,-183,"Fkj)")+R(1422,"7!0k",877,1125,1187)](function(){function X(F,B,K,M,j){return I(F-33,B-74,K-169,B,F- -695)}p[X(-232,"7!0k",-505)+"r"]()}),[4174+-269*8+-2020]}})})),r[f(811,1107,1064,1131,"bjqb")](onUnmounted,function(){var y;o&&o[O(234,"Gr6%")+"se"]();function b(S,w,L,q,E){return m(S- -1341,L)}x[g("f0lV",-288,-590,-92,-367)]=!1;function g(S,w,L,q,E){return u(E- -498,w-428,S)}function k(S,w,L,q,E){return u(E-883,w-23,w)}function W(S,w,L,q,E){return u(w-957,w-65,L)}function O(S,w,L,q,E){return u(S- -255,w-473,w)}r[O(-409,"dGD(")](l,null)||r[W(1413,1002,"#YET")](l,void 0)||r[W(1269,1606,"X%wp")](y=l[k(1453,"EGJT",1100,830,1241)+O(298,"hEq7")](),null)||r[b(-340,-692,"F%^z")](y,void 0)||y[W(1279,1089,"VWlL")+"ch"](function(S){function w(L,q,E,N,$){return g(E,q-129,E-377,N-443,$-995)}return S[w(1178,1194,"dGD(",954,864)]()})});function T(y,b,g,k,W){return on(b,b-55,g- -728)}return function(y,b){function g(w,L,q,E,N){return e(w-150,L-88,q-51,w,N-872)}function k(w,L,q,E,N){return T(w-386,q,L-403)}function W(w,L,q,E,N){return m(E- -849,L)}function O(w,L,q,E,N){return T(w-367,L,E-137)}function S(w,L,q,E,N){return e(w-384,L-45,q-477,q,N-790)}return r[W(105,"isSZ",4,15)](en),r[W(660,"UO@r",761,410)](nn,r[g("ctNo",1306,941,816,1043)],zf,[r[g("#jEy",678,1205,1068,862)](sn,r[g("MDi8",507,868,595,915)],{class:r[k(984,859,"7!0k")],ref_key:r[g("AmML",1183,1072,364,782)],ref:a,width:r[O(396,"F%^z",110,355)],height:r[k(-33,76,"gNcj")]},null,-116*32+469*-19+355*37),r[O(-85,"GjXu",91,-99)](sn,r[O(683,"ctNo",266,470)],{class:r[k(499,815,"f0lV")],ref_key:r[W(485,"D6M#",624,387)],ref:n},null,512),r[O(613,"4gfK",238,290)](sn,r[W(290,"6V*g",605,295)],Zf,[r[g("mjm1",692,560,691,293)](or,r[S(1028,617,"r#q!",1448,1018)](sn,r[S(658,419,"EGJT",673,349)],{"onUpdate:modelValue":b[-4507+2*253+-1*-4001]||(b[1*-9901+-7156+-1*-17057]=function(w){function L(q,E,N,$,J){return S(q-492,E-196,E,$-145,N- -769)}return r[L(-596,"f0lV",-365,-379)](ba,c)?c[L(-212,"#jEy",-294,109)]=w:null})},[(r[O(339,"D6M#",414,-2)](en,!0),r[W(-379,"GjXu",370,19)](nn,ir,null,r[k(195,366,"7!0k")](pa,r[S(672,1027,"yC2d",454,628)](mn,s),function(w){function L(J,C,D,I,H){return O(J-143,C,D-364,H-736)}var q={};function E(J,C,D,I,H){return O(J-330,J,D-298,C-1)}function N(J,C,D,I,H){return W(J-141,J,D-333,H-676)}q[N("AmML",1305,1109,623,1003)]=w[L(343,"8)3L",1063,722,743)+L(599,"bjqb",753,536,580)];function $(J,C,D,I,H){return k(J-39,I-442,D)}return r[L(891,"VV8W",733,1365,1122)](en),r[E("nyUT",244,663)](nn,ir,q,[r[E("zoof",636,994)](w[N("#jEy",947,1025,1298,1227)],r[L(690,"D6M#",689,902,830)])?(r[N("($xq",1396,1311,711,981)](en),r[$(1021,1438,"isSZ",1230)](nn,r[E("UO@r",172,-153)],{key:0,value:w[N("hEq7",791,976,1366,1212)+N("dGD(",1170,744,589,782)]},r[$(542,808,"#YET",901)](Aa,w[N(")q@M",1206,642,689,1013)]),2774+-5*-1719+16*-710,Xf)):r[L(1361,"8)3L",967,1277,1087)](yt,"",!0)],-10528+-10592*-1)}),-169*-4+-603+55))],-1027*4+2*2019+582),[[ga,r[k(666,735,"f0lV")](mn,c)]]),r[S(611,545,"UO@r",867,529)](mn,x)?r[W(-122,"NH6w",309,198)](yt,"",!0):(r[g("u#jm",1107,642,809,1060)](en),r[k(449,491,"hEq7")](nn,r[S(921,521,"x4%x",498,743)],{key:0,class:r[g("MvAq",971,661,324,643)],onClick:_},r[g("X%wp",610,355,473,596)])),r[k(619,595,"f4!h")](mn,x)?(r[O(-58,"7!0k",339,-37)](en),r[k(472,129,"Fkj)")](nn,r[W(360,"T[F&",444,751)],{key:1,class:r[S(217,773,"MvAq",422,561)],onClick:b[1*6637+1*9459+-16095]||(b[-5651+-842*-3+3126]=function(w){function L(q,E,N,$,J){return W(q-119,J,N-108,$-1178)}return x[L(1678,1347,1291,1418,"f0lV")]=!1})},r[O(652,"olh6",42,361)])):r[g("JQEX",412,888,1048,705)](yt,"",!0),r[W(395,"yC2d",-8,258)](or,r[O(616,"($xq",224,194)](sn,r[S(173,320,"X%wp",713,342)],{ref_key:r[k(93,429,"6V*g")],ref:i},null,-2*419+-9519+10869*1),[[Ta,!1]])])])}}});function Vt(t){function r(u,c,l,f,x){return on(u,c-350,c- -47)}function n(u,c,l,f,x){return lt(u-73,f- -367,x)}var e={QYBnK:function(u,c){return u===c},mWDJu:i("ctNo",723)+"g",RbwFm:i("T[F&",1421)+r("WA8j",773)+r("($xq",1111),iCGYD:i("3k8i",1115)+"er",YYrtr:function(u,c){return u!==c},fbbdk:function(u,c){return u+c},FCebR:function(u,c){return u/c},xxxsx:n(-399,-45,-649,-377,"3k8i")+"h",YkQOA:function(u,c){return u%c},gflCD:function(u,c){return u+c},srbhl:r("yC2d",657),wVFbM:s(-925,"EGJT",-548),rExXH:o(1271,1158,1528,"a8Cp")+"n",YiUiY:r("olh6",476)+i("T[F&",811)+"t",nFzwf:function(u,c){return u(c)}};function a(u){if(e[c("8)3L",1145,1060,877)](typeof u,e[l(1316,1098,"D6M#",1888,1522)]))return(function(h){})[x("bjqb",186,520)+l(1019,822,"gv9[",958,1144)+"r"](e[c("ctNo",380,498,459)])[x("Gr6%",497,861)](e[_(37,488,"KJ5c",56,238)]);e[l(1163,1158,"olh6",1685,1519)](e[c("gv9[",1052,1191,799)]("",e[c("dGD(",42,295,346)](u,u))[e[_(829,356,"F%^z",411,563)]],-1*6663+-1743+8407)||e[c("T[F&",562,736,709)](e[l(718,1260,"#YET",639,1066)](u,-4315+-4846*-1+73*-7),0)?(function(){return!0})[f("gv9[",841,542)+l(1560,1159,"8)3L",1311,1482)+"r"](e[l(635,1015,"EGJT",1015,1003)](e[f("yC2d",1313,1031)],e[x(")q@M",792,783)]))[x("MDi8",418,612)](e[_(130,922,"r#q!",234,552)]):(function(){return!1})[f("x4%x",796,873)+f("f8(d",1170,1101)+"r"](e[f("gNcj",1342,930)](e[l(1466,1906,"X%wp",1538,1637)],e[x("Fkj)",726,937)]))[l(929,801,"gv9[",1004,872)](e[x("a8Cp",-143,157)]);function c(h,d,v,m,p){return i(h,m- -549)}function l(h,d,v,m,p){return o(h-219,p-467,v-175,v)}function f(h,d,v,m,p){return o(h-67,v-190,v-349,h)}function x(h,d,v,m,p){return s(h-317,h,v-926)}function _(h,d,v,m,p){return r(v,p- -311)}e[f("4gfK",734,552)](a,++u)}function o(u,c,l,f,x){return on(f,c-214,c- -65)}function i(u,c,l,f,x){return lt(u-207,c-875,u)}function s(u,c,l,f,x){return hn(u-93,l- -289,l-258,c)}try{if(t)return a;e[r("AmML",392,283,686,189)](a,31*270+3117+3829*-3)}catch{}}const i0=Li(e0,[["__scopeId","data-v-c018ad84"]]);export{i0 as default};
