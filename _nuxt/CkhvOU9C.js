import{cb as d,cc as m,T as p}from"./CvXGGgpH.js";import"./CtRFD05V.js";function i(a){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(a)}function b(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function y(a,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,g(e.key),e)}}function v(a,t,r){return t&&y(a.prototype,t),r&&y(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}function g(a){var t=h(a,"string");return i(t)=="symbol"?t:t+""}function h(a,t){if(i(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var e=r.call(a,t||"default");if(i(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}var P=function(){function a(){b(this,a),this.supportCascades=!1}return v(a,[{key:"loadCubeData",value:function(r,e,l,o,c){if(!Array.isArray(r)){var n=e.getEngine().getCaps(),f={supportedCompressionFormats:{etc1:!!n.etc1,s3tc:!!n.s3tc,pvrtc:!!n.pvrtc,etc2:!!n.etc2,astc:!!n.astc,bc7:!!n.bptc}};d(r,f).then(function(s){var u=s.fileInfo.images[0].levels.length>1&&e.generateMipMaps;m(e,s),e.getEngine()._setCubeMapTextureParams(e,u),e.isReady=!0,e.onLoadedObservable.notifyObservers(e),e.onLoadedObservable.clear(),o&&o()}).catch(function(s){var u="Failed to transcode Basis file, transcoding may not be supported on this device";p.Warn(u),e.isReady=!0,c&&c(s)})}}},{key:"loadData",value:function(r,e,l){var o=e.getEngine().getCaps(),c={supportedCompressionFormats:{etc1:!!o.etc1,s3tc:!!o.s3tc,pvrtc:!!o.pvrtc,etc2:!!o.etc2,astc:!!o.astc,bc7:!!o.bptc}};d(r,c).then(function(n){var f=n.fileInfo.images[0].levels[0],s=n.fileInfo.images[0].levels.length>1&&e.generateMipMaps;l(f.width,f.height,s,n.format!==-1,function(){m(e,n)})}).catch(function(n){p.Warn("Failed to transcode Basis file, transcoding may not be supported on this device"),p.Warn("Failed to transcode Basis file: ".concat(n)),l(0,0,!1,!1,function(){},!0)})}}])}();export{P as _BasisTextureLoader};
