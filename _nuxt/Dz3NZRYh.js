import{ca as p,a1 as D}from"./CvXGGgpH.js";import"./CtRFD05V.js";function s(o){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},s(o)}function h(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function b(o,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,d(e.key),e)}}function v(o,i,n){return i&&b(o.prototype,i),n&&b(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}function d(o){var i=C(o,"string");return s(i)=="symbol"?i:i+""}function C(o,i){if(s(o)!="object"||!o)return o;var n=o[Symbol.toPrimitive];if(n!==void 0){var e=n.call(o,i||"default");if(s(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var w=function(){function o(){h(this,o),this.supportCascades=!0}return v(o,[{key:"loadCubeData",value:function(n,e,u,r){var t=e.getEngine(),a,l=!1,m=1e3;if(Array.isArray(n))for(var f=0;f<n.length;f++){var c=n[f];a=p.GetDDSInfo(c),e.width=a.width,e.height=a.height,l=(a.isRGB||a.isLuminance||a.mipmapCount>1)&&e.generateMipMaps,t._unpackFlipY(a.isCompressed),p.UploadDDSLevels(t,e,c,a,l,6,-1,f),!a.isFourCC&&a.mipmapCount===1?t.generateMipMapsForCubemap(e):m=a.mipmapCount-1}else{var y=n;a=p.GetDDSInfo(y),e.width=a.width,e.height=a.height,u&&(a.sphericalPolynomial=new D),l=(a.isRGB||a.isLuminance||a.mipmapCount>1)&&e.generateMipMaps,t._unpackFlipY(a.isCompressed),p.UploadDDSLevels(t,e,y,a,l,6),!a.isFourCC&&a.mipmapCount===1?t.generateMipMapsForCubemap(e,!1):m=a.mipmapCount-1}t._setCubeMapTextureParams(e,l,m),e.isReady=!0,e.onLoadedObservable.notifyObservers(e),e.onLoadedObservable.clear(),r&&r({isDDS:!0,width:e.width,info:a,data:n,texture:e})}},{key:"loadData",value:function(n,e,u){var r=p.GetDDSInfo(n),t=(r.isRGB||r.isLuminance||r.mipmapCount>1)&&e.generateMipMaps&&Math.max(r.width,r.height)>>r.mipmapCount-1===1;u(r.width,r.height,t,r.isFourCC,function(){p.UploadDDSLevels(e.getEngine(),e,n,r,t,1)})}}])}();export{w as _DDSTextureLoader};
