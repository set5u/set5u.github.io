import{t as p,u as d,v as u}from"./VGRWorker-Ds2QV2D2.js";function v(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}function g(s,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}function m(s,r,t){return g(s.prototype,r),s}var h=function(){function s(){v(this,s),this.supportCascades=!1}return m(s,[{key:"loadCubeData",value:function(t,e,f,n,c){if(!Array.isArray(t)){var a=e.getEngine().getCaps(),i={supportedCompressionFormats:{etc1:!!a.etc1,s3tc:!!a.s3tc,pvrtc:!!a.pvrtc,etc2:!!a.etc2,astc:!!a.astc,bc7:!!a.bptc}};p(t,i).then(function(o){var l=o.fileInfo.images[0].levels.length>1&&e.generateMipMaps;d(e,o),e.getEngine()._setCubeMapTextureParams(e,l),e.isReady=!0,e.onLoadedObservable.notifyObservers(e),e.onLoadedObservable.clear(),n&&n()}).catch(function(o){var l="Failed to transcode Basis file, transcoding may not be supported on this device";u.Warn(l),e.isReady=!0,c&&c(o)})}}},{key:"loadData",value:function(t,e,f){var n=e.getEngine().getCaps(),c={supportedCompressionFormats:{etc1:!!n.etc1,s3tc:!!n.s3tc,pvrtc:!!n.pvrtc,etc2:!!n.etc2,astc:!!n.astc,bc7:!!n.bptc}};p(t,c).then(function(a){var i=a.fileInfo.images[0].levels[0],o=a.fileInfo.images[0].levels.length>1&&e.generateMipMaps;f(i.width,i.height,o,a.format!==-1,function(){d(e,a)})}).catch(function(a){u.Warn("Failed to transcode Basis file, transcoding may not be supported on this device"),u.Warn("Failed to transcode Basis file: ".concat(a)),f(0,0,!1,!1,function(){},!0)})}}]),s}();export{h as _BasisTextureLoader};
